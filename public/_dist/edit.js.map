{"version":3,"file":null,"sources":["/app/node_modules/domodule/lib/getParentModule.js","/app/node_modules/attrobj/lib/attrobj.js","/app/node_modules/aug/index.js","/app/node_modules/domassist/lib/findOne.js","/app/node_modules/domassist/lib/isWindow.js","/app/node_modules/domassist/lib/find.js","/app/node_modules/domassist/lib/on.js","/app/node_modules/domassist/lib/scrollableContainer.js","/app/node_modules/domassist/lib/modify.js","/app/node_modules/domodule/lib/domodule.js","/app/node_modules/codemirror/lib/codemirror.js","/app/node_modules/codemirror/mode/javascript/javascript.js","/app/node_modules/codemirror/addon/edit/matchbrackets.js","/app/node_modules/bequest/dist/ajax.js","/app/node_modules/prismjs/prism.js","/app/node_modules/prismjs/components/prism-json.js","/app/views/pages/main/script.js"],"sourcesContent":["function findParent(elem) {\n  if (elem.parentNode) {\n    if (elem.parentNode.dataset.module) {\n      return elem.parentNode;\n    }\n\n    return findParent(elem.parentNode);\n  }\n\n  return elem;\n}\n\nexport default findParent;\n","/* global window */\n\nexport default function(key, el) {\n  const values = {};\n\n  Object.keys(el.dataset).forEach(data => {\n    if (data.match(new RegExp(`^${key}`)) && data !== key) {\n      let optionName = data.replace(key, '');\n      let isGlobal = false;\n\n      if (optionName.match(/^Global/)) {\n        optionName = optionName.replace('Global', '');\n        isGlobal = true;\n      }\n\n      optionName = `${optionName[0].toLowerCase()}${optionName.slice(1)}`;\n\n      if (isGlobal) {\n        values[optionName] = window[el.dataset[data]];\n      } else {\n        values[optionName] = el.dataset[data];\n      }\n    }\n  });\n\n  return values;\n}\n","'use strict';\nconst aug = function() {\n  const args = Array.prototype.slice.call(arguments); //eslint-disable-line prefer-rest-params\n  let org = args.shift();\n  let type = '';\n  if (typeof org === 'string' || typeof org === 'boolean') {\n    type = (org === true) ? 'deep' : org;\n    org = args.shift();\n    if (type === 'defaults') {\n      org = aug({}, org); //clone defaults into new object\n      type = 'strict';\n    }\n  }\n  args.forEach((prop) => {\n    for (const propName in prop) { //eslint-disable-line\n      const propValue = prop[propName];\n      // just overwrite arrays:\n      if (Array.isArray(propValue)) {\n        org[propName] = propValue;\n        continue;\n      }\n      if (type === 'deep' && typeof propValue === 'object' && typeof org[propName] !== 'undefined') {\n        if (typeof org[propName] !== 'object') {\n          org[propName] = propValue;\n          continue;\n        }\n        aug(type, org[propName], propValue);\n      } else if (type !== 'strict' || (type === 'strict' && typeof org[propName] !== 'undefined')) {\n        org[propName] = propValue;\n      }\n    }\n  });\n  return org;\n};\nmodule.exports = aug;\n","import find from './find';\n\nfunction findOne(selector, el) {\n  const found = find(selector, el);\n\n  if (found.length) {\n    return found[0];\n  }\n\n  return null;\n}\n\nexport default findOne;\n","function isWindow(obj) {\n  return obj != null && obj === obj.window;\n}\n\nexport default isWindow;\n","import findOne from './findOne';\nimport isWindow from './isWindow';\n\nfunction find(selector, context = null) {\n  if (selector instanceof HTMLElement || isWindow(selector)) {\n    return [selector];\n  } else if (selector instanceof NodeList) {\n    return [].slice.call(selector);\n  } else if (typeof selector === 'string') {\n    const startElement = (context) ? findOne(context) : document;\n    return [].slice.call(startElement.querySelectorAll(selector));\n  }\n  return [];\n}\n\nexport default find;\n","import find from './find';\n\nfunction on(selector, event, cb, capture = false) {\n  if (Array.isArray(selector)) {\n    selector.forEach((item) => on(item, event, cb, capture));\n    return;\n  }\n\n  const data = {\n    cb,\n    capture\n  };\n\n  if (!window._domassistevents) {\n    window._domassistevents = {};\n  }\n\n  window._domassistevents[`_${event}`] = data;\n  const el = find(selector);\n  if (el.length) {\n    el.forEach((item) => {\n      item.addEventListener(event, cb, capture);\n    });\n  }\n}\n\nexport default on;\n","let SCROLLABLE_CONTAINER = getScrollableContainer();\n\nfunction getScrollableContainer() {\n  if (SCROLLABLE_CONTAINER) {\n    return SCROLLABLE_CONTAINER;\n  }\n\n  const documentElement = window.document.documentElement;\n  let scrollableContainer;\n\n  documentElement.scrollTop = 1;\n\n  if (documentElement.scrollTop === 1) {\n    documentElement.scrollTop = 0;\n    scrollableContainer = documentElement;\n  } else {\n    scrollableContainer = document.body;\n  }\n\n  SCROLLABLE_CONTAINER = scrollableContainer;\n\n  return scrollableContainer;\n}\n\nexport default getScrollableContainer;\n","import find from './find';\nimport addClass from './addClass';\nimport removeClass from './removeClass';\nimport html from './html';\n// import addAttrs from './addAttrs';\nimport on from './on';\nimport styles from './styles';\n\nfunction bindEvents(el, events) {\n  Object.keys(events).forEach((event) => {\n    on(el, event, events[event]);\n  });\n}\n\nfunction modify(selector, params) {\n  if (Array.isArray(selector)) {\n    selector.forEach((item) => modify(item, params));\n  }\n  const modules = {\n    addClass,\n    removeClass,\n    html,\n    events: on,\n    styles,\n  };\n  const els = find(selector);\n  if (els.length) {\n    els.forEach((el) => {\n      Object.keys(params).forEach((param, index) => {\n        if (param in modules) {\n          if (param === 'events') {\n            bindEvents(el, params[param]);\n          }\n          modules[param](el, params[param]);\n        }\n      });\n    });\n  }\n}\n\nexport default modify;\n","/* eslint no-new:0 */\n\nimport parentModule from '../lib/getParentModule';\nimport attrObj from 'attrobj';\nimport aug from 'aug';\nimport { find, findOne, on } from 'domassist';\n\nconst ACTION_SELECTOR = '[data-action]';\nconst DOMAssist = { find, findOne, on };\n\nclass Domodule {\n  constructor(el) {\n    this.log('begin setup');\n    this.el = el;\n    this.els = {};\n    this.options = aug({}, this.defaults, attrObj('module', this.el));\n    this.moduleName = this.el.dataset.module;\n    this.setUps = {\n      actions: [],\n      named: [],\n      options: []\n    };\n    this.boundActionRouter = this.actionRouter.bind(this);\n\n    this.preInit();\n    this.storeRef();\n    this.setupActions();\n    this.setupNamed();\n    this.verifyRequired();\n    this.postInit();\n    this.log('initalized');\n\n    return this;\n  }\n\n  preInit() {\n  }\n\n  postInit() {\n  }\n\n  get required() {\n    return {};\n  }\n\n  get defaults() {\n    return {};\n  }\n\n  get uuid() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n      const r = Math.random() * 16 | 0;\n      const v = c === 'x' ? r : (r & 0x3 | 0x8);\n      return v.toString(16);\n    });\n  }\n\n  verifyRequired() {\n    if (this.required === {}) {\n      return this;\n    }\n\n    if (typeof this.required.options !== 'undefined') {\n      this.setUps.options = Object.keys(this.options);\n    }\n\n    Object.keys(this.required).forEach((required) => {\n      this.required[required].forEach((value) => {\n        if (this.setUps[required].indexOf(value) < 0) {\n          throw new Error(`${value} is required as ${required} for ${this.moduleName}, but is missing!`);\n        }\n      });\n    });\n\n    return this;\n  }\n\n  setupActions() {\n    this.setupAction(this.el);\n\n    this.find(ACTION_SELECTOR).forEach((action) => {\n      const parent = parentModule(action);\n\n      if (parent === this.el) {\n        this.setupAction(action);\n      }\n    });\n  }\n\n  setupAction(actionEl) {\n    if (actionEl.dataset.domoduleActionProcessed) {\n      return;\n    }\n\n    const { name: actionName, type: actionType } = Domodule.parseAction(actionEl);\n\n    if (!actionName) {\n      return;\n    } else if (typeof this[actionName] !== 'function') {\n      this.log(`${actionName} was registered, but there is no function set up`);\n      return;\n    }\n\n    this.log(`${actionName} bound`);\n    this.storeSetUp(actionName, 'actions');\n\n    DOMAssist.on(actionEl, actionType, this.boundActionRouter);\n\n    actionEl.dataset.domoduleActionProcessed = true;\n  }\n\n  actionRouter(event) {\n    const actionEl = event.currentTarget;\n    const { name: actionName } = Domodule.parseAction(actionEl);\n    const actionData = attrObj('action', actionEl);\n\n    this[actionName].call(\n      this,\n      actionEl,\n      event,\n      actionData\n    );\n  }\n\n  setupNamed() {\n    this.find('[data-name]').forEach((named) => {\n      const parent = parentModule(named);\n\n      if (parent !== this.el) {\n        return;\n      }\n\n      if (!named.dataset.domoduleNameProcessed) {\n        this.els[named.dataset.name] = named;\n\n        this.storeSetUp(named.dataset.name, 'named');\n        named.dataset.domoduleNameProcessed = true;\n        named.dataset.domoduleOwner = this.id;\n      }\n    });\n  }\n\n  storeRef() {\n    if (typeof Domodule.refs === 'undefined') {\n      Domodule.refs = {};\n    }\n\n    if (typeof Domodule.refs[this.el.dataset.moduleUid] !== 'undefined') {\n      return false;\n    }\n\n    this.id = this.uuid;\n    this.el.dataset.moduleUid = this.id;\n    Domodule.refs[this.el.dataset.moduleUid] = this;\n  }\n\n  find(selector) {\n    return DOMAssist.find(selector, this.el);\n  }\n\n  findOne(selector) {\n    return DOMAssist.findOne(selector, this.el);\n  }\n\n  findByName(name) {\n    return this.els[name];\n  }\n\n  getOption(option) {\n    return this.options[option];\n  }\n\n  storeSetUp(name, dict) {\n    if (this.setUps[dict].indexOf(name) < 0) {\n      this.setUps[dict].push(name);\n    }\n  }\n\n  destroy() {\n    DOMAssist.find(ACTION_SELECTOR, this.el.parentNode).forEach(el => {\n      if (el.dataset.domoduleActionProcessed) {\n        const { type: actionType } = Domodule.parseAction(el);\n\n        el.removeEventListener(actionType, this.boundActionRouter);\n        el.dataset.domoduleActionProcessed = false;\n      }\n    });\n  }\n\n  // static methods can't access `this` so they go last\n  static parseAction(el) {\n    const { action: name, actionType: type = 'click' } = el.dataset;\n    return { name, type };\n  }\n\n  static getInstance(element) {\n    if (element instanceof Node) {\n      return Domodule.refs[element.dataset.moduleUid];\n    }\n\n    throw new Error('getInstance expects a dom node');\n  }\n\n  static register(name, cls) {\n    if (typeof name === 'function') {\n      cls = name;\n      name = cls.prototype.constructor.name;\n    }\n    if (!Domodule.modules) {\n      Domodule.modules = {};\n    }\n    Domodule.log(`Registering ${name}`);\n    Domodule.modules[name] = cls;\n  }\n\n  static discover(el = 'body') {\n    Domodule.log('Discovering modules...');\n    if (!Domodule.modules) {\n      Domodule.log('No modules found');\n      return;\n    }\n    let els;\n\n    if (el instanceof Node) {\n      els = [el];\n    } else if (Array.isArray(el)) {\n      els = el;\n    } else {\n      els = DOMAssist.find(el);\n    }\n\n    const instances = [];\n    els.forEach((matched) => {\n      const foundModules = DOMAssist.find('[data-module]', matched);\n\n      foundModules.forEach((moduleEl) => {\n        const moduleName = moduleEl.dataset.module;\n\n        if (moduleName && typeof Domodule.modules[moduleName] === 'function') {\n          if (typeof Domodule.refs === 'object' && typeof Domodule.refs[moduleEl.dataset.moduleUid] !== 'undefined') {\n            return;\n          }\n          Domodule.log(`${moduleName} found`);\n          instances.push(new Domodule.modules[moduleName](moduleEl));\n        }\n      });\n    });\n    return instances;\n  }\n\n  //used inside instance\n  log(msg) {\n    Domodule.log(`${this.constructor.name}: ${msg}`);\n  }\n\n  static log(msg) {\n    if (Domodule.debug) {\n      console.log(`[DOMODULE] ${msg}`); //eslint-disable-line no-console\n    }\n  }\n}\nDomodule.debug = (typeof window.localStorage === 'object' && window.localStorage.getItem('DomoduleDebug'));\n\nDomodule.autoDiscover = true;\nwindow.addEventListener('DOMContentLoaded', () => {\n  if (Domodule.autoDiscover) {\n    Domodule.discover();\n  }\n});\n\nexport default Domodule;\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n// This is CodeMirror (http://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.CodeMirror = factory());\n}(this, (function () { 'use strict';\n\n// Kludges for bugs and behavior differences that can't be feature\n// detected are enabled based on userAgent etc sniffing.\nvar userAgent = navigator.userAgent\nvar platform = navigator.platform\n\nvar gecko = /gecko\\/\\d/i.test(userAgent)\nvar ie_upto10 = /MSIE \\d/.test(userAgent)\nvar ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent)\nvar edge = /Edge\\/(\\d+)/.exec(userAgent)\nvar ie = ie_upto10 || ie_11up || edge\nvar ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1])\nvar webkit = !edge && /WebKit\\//.test(userAgent)\nvar qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent)\nvar chrome = !edge && /Chrome\\//.test(userAgent)\nvar presto = /Opera\\//.test(userAgent)\nvar safari = /Apple Computer/.test(navigator.vendor)\nvar mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent)\nvar phantom = /PhantomJS/.test(userAgent)\n\nvar ios = !edge && /AppleWebKit/.test(userAgent) && /Mobile\\/\\w+/.test(userAgent)\n// This is woefully incomplete. Suggestions for alternative methods welcome.\nvar mobile = ios || /Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent)\nvar mac = ios || /Mac/.test(platform)\nvar chromeOS = /\\bCrOS\\b/.test(userAgent)\nvar windows = /win/i.test(platform)\n\nvar presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/)\nif (presto_version) { presto_version = Number(presto_version[1]) }\nif (presto_version && presto_version >= 15) { presto = false; webkit = true }\n// Some browsers use the wrong event properties to signal cmd/ctrl on OS X\nvar flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11))\nvar captureRightClick = gecko || (ie && ie_version >= 9)\n\nfunction classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\nvar rmClass = function(node, cls) {\n  var current = node.className\n  var match = classTest(cls).exec(current)\n  if (match) {\n    var after = current.slice(match.index + match[0].length)\n    node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\")\n  }\n}\n\nfunction removeChildren(e) {\n  for (var count = e.childNodes.length; count > 0; --count)\n    { e.removeChild(e.firstChild) }\n  return e\n}\n\nfunction removeChildrenAndAdd(parent, e) {\n  return removeChildren(parent).appendChild(e)\n}\n\nfunction elt(tag, content, className, style) {\n  var e = document.createElement(tag)\n  if (className) { e.className = className }\n  if (style) { e.style.cssText = style }\n  if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)) }\n  else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]) } }\n  return e\n}\n\nvar range\nif (document.createRange) { range = function(node, start, end, endNode) {\n  var r = document.createRange()\n  r.setEnd(endNode || node, end)\n  r.setStart(node, start)\n  return r\n} }\nelse { range = function(node, start, end) {\n  var r = document.body.createTextRange()\n  try { r.moveToElementText(node.parentNode) }\n  catch(e) { return r }\n  r.collapse(true)\n  r.moveEnd(\"character\", end)\n  r.moveStart(\"character\", start)\n  return r\n} }\n\nfunction contains(parent, child) {\n  if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n    { child = child.parentNode }\n  if (parent.contains)\n    { return parent.contains(child) }\n  do {\n    if (child.nodeType == 11) { child = child.host }\n    if (child == parent) { return true }\n  } while (child = child.parentNode)\n}\n\nfunction activeElt() {\n  // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n  // IE < 10 will throw when accessed while the page is loading or in an iframe.\n  // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n  var activeElement\n  try {\n    activeElement = document.activeElement\n  } catch(e) {\n    activeElement = document.body || null\n  }\n  while (activeElement && activeElement.root && activeElement.root.activeElement)\n    { activeElement = activeElement.root.activeElement }\n  return activeElement\n}\n\nfunction addClass(node, cls) {\n  var current = node.className\n  if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls }\n}\nfunction joinClasses(a, b) {\n  var as = a.split(\" \")\n  for (var i = 0; i < as.length; i++)\n    { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i] } }\n  return b\n}\n\nvar selectInput = function(node) { node.select() }\nif (ios) // Mobile Safari apparently has a bug where select() is broken.\n  { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length } }\nelse if (ie) // Suppress mysterious IE10 errors\n  { selectInput = function(node) { try { node.select() } catch(_e) {} } }\n\nfunction bind(f) {\n  var args = Array.prototype.slice.call(arguments, 1)\n  return function(){return f.apply(null, args)}\n}\n\nfunction copyObj(obj, target, overwrite) {\n  if (!target) { target = {} }\n  for (var prop in obj)\n    { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n      { target[prop] = obj[prop] } }\n  return target\n}\n\n// Counts the column offset in a string, taking tabs into account.\n// Used mostly to find indentation.\nfunction countColumn(string, end, tabSize, startIndex, startValue) {\n  if (end == null) {\n    end = string.search(/[^\\s\\u00a0]/)\n    if (end == -1) { end = string.length }\n  }\n  for (var i = startIndex || 0, n = startValue || 0;;) {\n    var nextTab = string.indexOf(\"\\t\", i)\n    if (nextTab < 0 || nextTab >= end)\n      { return n + (end - i) }\n    n += nextTab - i\n    n += tabSize - (n % tabSize)\n    i = nextTab + 1\n  }\n}\n\nvar Delayed = function() {this.id = null};\nDelayed.prototype.set = function (ms, f) {\n  clearTimeout(this.id)\n  this.id = setTimeout(f, ms)\n};\n\nfunction indexOf(array, elt) {\n  for (var i = 0; i < array.length; ++i)\n    { if (array[i] == elt) { return i } }\n  return -1\n}\n\n// Number of pixels added to scroller and sizer to hide scrollbar\nvar scrollerGap = 30\n\n// Returned or thrown by various protocols to signal 'I'm not\n// handling this'.\nvar Pass = {toString: function(){return \"CodeMirror.Pass\"}}\n\n// Reused option objects for setSelection & friends\nvar sel_dontScroll = {scroll: false};\nvar sel_mouse = {origin: \"*mouse\"};\nvar sel_move = {origin: \"+move\"};\n// The inverse of countColumn -- find the offset that corresponds to\n// a particular column.\nfunction findColumn(string, goal, tabSize) {\n  for (var pos = 0, col = 0;;) {\n    var nextTab = string.indexOf(\"\\t\", pos)\n    if (nextTab == -1) { nextTab = string.length }\n    var skipped = nextTab - pos\n    if (nextTab == string.length || col + skipped >= goal)\n      { return pos + Math.min(skipped, goal - col) }\n    col += nextTab - pos\n    col += tabSize - (col % tabSize)\n    pos = nextTab + 1\n    if (col >= goal) { return pos }\n  }\n}\n\nvar spaceStrs = [\"\"]\nfunction spaceStr(n) {\n  while (spaceStrs.length <= n)\n    { spaceStrs.push(lst(spaceStrs) + \" \") }\n  return spaceStrs[n]\n}\n\nfunction lst(arr) { return arr[arr.length-1] }\n\nfunction map(array, f) {\n  var out = []\n  for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i) }\n  return out\n}\n\nfunction insertSorted(array, value, score) {\n  var pos = 0, priority = score(value)\n  while (pos < array.length && score(array[pos]) <= priority) { pos++ }\n  array.splice(pos, 0, value)\n}\n\nfunction nothing() {}\n\nfunction createObj(base, props) {\n  var inst\n  if (Object.create) {\n    inst = Object.create(base)\n  } else {\n    nothing.prototype = base\n    inst = new nothing()\n  }\n  if (props) { copyObj(props, inst) }\n  return inst\n}\n\nvar nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/\nfunction isWordCharBasic(ch) {\n  return /\\w/.test(ch) || ch > \"\\x80\" &&\n    (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n}\nfunction isWordChar(ch, helper) {\n  if (!helper) { return isWordCharBasic(ch) }\n  if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n  return helper.test(ch)\n}\n\nfunction isEmpty(obj) {\n  for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n  return true\n}\n\n// Extending unicode characters. A series of a non-extending char +\n// any number of extending chars is treated as a single unit as far\n// as editing and measuring is concerned. This is not fully correct,\n// since some scripts/fonts/browsers also treat other configurations\n// of code points as a group.\nvar extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/\nfunction isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\n// Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\nfunction skipExtendingChars(str, pos, dir) {\n  while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir }\n  return pos\n}\n\n// Returns the value from the range [`from`; `to`] that satisfies\n// `pred` and is closest to `from`. Assumes that at least `to` satisfies `pred`.\nfunction findFirst(pred, from, to) {\n  for (;;) {\n    if (Math.abs(from - to) <= 1) { return pred(from) ? from : to }\n    var mid = Math.floor((from + to) / 2)\n    if (pred(mid)) { to = mid }\n    else { from = mid }\n  }\n}\n\n// The display handles the DOM integration, both for input reading\n// and content drawing. It holds references to DOM nodes and\n// display-related state.\n\nfunction Display(place, doc, input) {\n  var d = this\n  this.input = input\n\n  // Covers bottom-right square when both scrollbars are present.\n  d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\")\n  d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\")\n  // Covers bottom of gutter when coverGutterNextToScrollbar is on\n  // and h scrollbar is present.\n  d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\")\n  d.gutterFiller.setAttribute(\"cm-not-content\", \"true\")\n  // Will contain the actual code, positioned to cover the viewport.\n  d.lineDiv = elt(\"div\", null, \"CodeMirror-code\")\n  // Elements are added to these to represent selection and cursors.\n  d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\")\n  d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\")\n  // A visibility: hidden element used to find the size of things.\n  d.measure = elt(\"div\", null, \"CodeMirror-measure\")\n  // When lines outside of the viewport are measured, they are drawn in this.\n  d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\")\n  // Wraps everything that needs to exist inside the vertically-padded coordinate system\n  d.lineSpace = elt(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                    null, \"position: relative; outline: none\")\n  // Moved around its parent to cover visible view.\n  d.mover = elt(\"div\", [elt(\"div\", [d.lineSpace], \"CodeMirror-lines\")], null, \"position: relative\")\n  // Set to the height of the document, allowing scrolling.\n  d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\")\n  d.sizerWidth = null\n  // Behavior of elts with overflow: auto and padding is\n  // inconsistent across browsers. This is used to ensure the\n  // scrollable area is big enough.\n  d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\")\n  // Will contain the gutters, if any.\n  d.gutters = elt(\"div\", null, \"CodeMirror-gutters\")\n  d.lineGutter = null\n  // Actual scrollable element.\n  d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\")\n  d.scroller.setAttribute(\"tabIndex\", \"-1\")\n  // The element in which the editor lives.\n  d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\")\n\n  // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n  if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0 }\n  if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true }\n\n  if (place) {\n    if (place.appendChild) { place.appendChild(d.wrapper) }\n    else { place(d.wrapper) }\n  }\n\n  // Current rendered range (may be bigger than the view window).\n  d.viewFrom = d.viewTo = doc.first\n  d.reportedViewFrom = d.reportedViewTo = doc.first\n  // Information about the rendered lines.\n  d.view = []\n  d.renderedView = null\n  // Holds info about a single rendered line when it was rendered\n  // for measurement, while not in view.\n  d.externalMeasured = null\n  // Empty space (in pixels) above the view\n  d.viewOffset = 0\n  d.lastWrapHeight = d.lastWrapWidth = 0\n  d.updateLineNumbers = null\n\n  d.nativeBarWidth = d.barHeight = d.barWidth = 0\n  d.scrollbarsClipped = false\n\n  // Used to only resize the line number gutter when necessary (when\n  // the amount of lines crosses a boundary that makes its width change)\n  d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null\n  // Set to true when a non-horizontal-scrolling line widget is\n  // added. As an optimization, line widget aligning is skipped when\n  // this is false.\n  d.alignWidgets = false\n\n  d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null\n\n  // Tracks the maximum line length so that the horizontal scrollbar\n  // can be kept static when scrolling.\n  d.maxLine = null\n  d.maxLineLength = 0\n  d.maxLineChanged = false\n\n  // Used for measuring wheel scrolling granularity\n  d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null\n\n  // True when shift is held down.\n  d.shift = false\n\n  // Used to track whether anything happened since the context menu\n  // was opened.\n  d.selForContextMenu = null\n\n  d.activeTouch = null\n\n  input.init(d)\n}\n\n// Find the line object corresponding to the given line number.\nfunction getLine(doc, n) {\n  n -= doc.first\n  if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n  var chunk = doc\n  while (!chunk.lines) {\n    for (var i = 0;; ++i) {\n      var child = chunk.children[i], sz = child.chunkSize()\n      if (n < sz) { chunk = child; break }\n      n -= sz\n    }\n  }\n  return chunk.lines[n]\n}\n\n// Get the part of a document between two positions, as an array of\n// strings.\nfunction getBetween(doc, start, end) {\n  var out = [], n = start.line\n  doc.iter(start.line, end.line + 1, function (line) {\n    var text = line.text\n    if (n == end.line) { text = text.slice(0, end.ch) }\n    if (n == start.line) { text = text.slice(start.ch) }\n    out.push(text)\n    ++n\n  })\n  return out\n}\n// Get the lines between from and to, as array of strings.\nfunction getLines(doc, from, to) {\n  var out = []\n  doc.iter(from, to, function (line) { out.push(line.text) }) // iter aborts when callback returns truthy value\n  return out\n}\n\n// Update the height of a line, propagating the height change\n// upwards to parent nodes.\nfunction updateLineHeight(line, height) {\n  var diff = height - line.height\n  if (diff) { for (var n = line; n; n = n.parent) { n.height += diff } }\n}\n\n// Given a line object, find its line number by walking up through\n// its parent links.\nfunction lineNo(line) {\n  if (line.parent == null) { return null }\n  var cur = line.parent, no = indexOf(cur.lines, line)\n  for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n    for (var i = 0;; ++i) {\n      if (chunk.children[i] == cur) { break }\n      no += chunk.children[i].chunkSize()\n    }\n  }\n  return no + cur.first\n}\n\n// Find the line at the given vertical position, using the height\n// information in the document tree.\nfunction lineAtHeight(chunk, h) {\n  var n = chunk.first\n  outer: do {\n    for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n      var child = chunk.children[i$1], ch = child.height\n      if (h < ch) { chunk = child; continue outer }\n      h -= ch\n      n += child.chunkSize()\n    }\n    return n\n  } while (!chunk.lines)\n  var i = 0\n  for (; i < chunk.lines.length; ++i) {\n    var line = chunk.lines[i], lh = line.height\n    if (h < lh) { break }\n    h -= lh\n  }\n  return n + i\n}\n\nfunction isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\nfunction lineNumberFor(options, i) {\n  return String(options.lineNumberFormatter(i + options.firstLineNumber))\n}\n\n// A Pos instance represents a position within the text.\nfunction Pos(line, ch, sticky) {\n  if ( sticky === void 0 ) sticky = null;\n\n  if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\n  this.line = line\n  this.ch = ch\n  this.sticky = sticky\n}\n\n// Compare two positions, return 0 if they are the same, a negative\n// number when a is less, and a positive number otherwise.\nfunction cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\nfunction equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\n\nfunction copyPos(x) {return Pos(x.line, x.ch)}\nfunction maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\nfunction minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\n// Most of the external API clips given positions to make sure they\n// actually exist within the document.\nfunction clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\nfunction clipPos(doc, pos) {\n  if (pos.line < doc.first) { return Pos(doc.first, 0) }\n  var last = doc.first + doc.size - 1\n  if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n  return clipToLen(pos, getLine(doc, pos.line).text.length)\n}\nfunction clipToLen(pos, linelen) {\n  var ch = pos.ch\n  if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n  else if (ch < 0) { return Pos(pos.line, 0) }\n  else { return pos }\n}\nfunction clipPosArray(doc, array) {\n  var out = []\n  for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]) }\n  return out\n}\n\n// Optimize some code when these features are not used.\nvar sawReadOnlySpans = false;\nvar sawCollapsedSpans = false;\nfunction seeReadOnlySpans() {\n  sawReadOnlySpans = true\n}\n\nfunction seeCollapsedSpans() {\n  sawCollapsedSpans = true\n}\n\n// TEXTMARKER SPANS\n\nfunction MarkedSpan(marker, from, to) {\n  this.marker = marker\n  this.from = from; this.to = to\n}\n\n// Search an array of spans for a span matching the given marker.\nfunction getMarkedSpanFor(spans, marker) {\n  if (spans) { for (var i = 0; i < spans.length; ++i) {\n    var span = spans[i]\n    if (span.marker == marker) { return span }\n  } }\n}\n// Remove a span from an array, returning undefined if no spans are\n// left (we don't store arrays for lines without spans).\nfunction removeMarkedSpan(spans, span) {\n  var r\n  for (var i = 0; i < spans.length; ++i)\n    { if (spans[i] != span) { (r || (r = [])).push(spans[i]) } }\n  return r\n}\n// Add a span to a line.\nfunction addMarkedSpan(line, span) {\n  line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span]\n  span.marker.attachLine(line)\n}\n\n// Used for the algorithm that adjusts markers for a change in the\n// document. These functions cut an array of spans at a given\n// character position, returning an array of remaining chunks (or\n// undefined if nothing remains).\nfunction markedSpansBefore(old, startCh, isInsert) {\n  var nw\n  if (old) { for (var i = 0; i < old.length; ++i) {\n    var span = old[i], marker = span.marker\n    var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh)\n    if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\n      ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to))\n    }\n  } }\n  return nw\n}\nfunction markedSpansAfter(old, endCh, isInsert) {\n  var nw\n  if (old) { for (var i = 0; i < old.length; ++i) {\n    var span = old[i], marker = span.marker\n    var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh)\n    if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\n      ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                            span.to == null ? null : span.to - endCh))\n    }\n  } }\n  return nw\n}\n\n// Given a change object, compute the new set of marker spans that\n// cover the line in which the change took place. Removes spans\n// entirely within the change, reconnects spans belonging to the\n// same marker that appear on both sides of the change, and cuts off\n// spans partially within the change. Returns an array of span\n// arrays with one element for each line in (after) the change.\nfunction stretchSpansOverChange(doc, change) {\n  if (change.full) { return null }\n  var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans\n  var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans\n  if (!oldFirst && !oldLast) { return null }\n\n  var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0\n  // Get the spans that 'stick out' on both sides\n  var first = markedSpansBefore(oldFirst, startCh, isInsert)\n  var last = markedSpansAfter(oldLast, endCh, isInsert)\n\n  // Next, merge those two ends\n  var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0)\n  if (first) {\n    // Fix up .to properties of first\n    for (var i = 0; i < first.length; ++i) {\n      var span = first[i]\n      if (span.to == null) {\n        var found = getMarkedSpanFor(last, span.marker)\n        if (!found) { span.to = startCh }\n        else if (sameLine) { span.to = found.to == null ? null : found.to + offset }\n      }\n    }\n  }\n  if (last) {\n    // Fix up .from in last (or move them into first in case of sameLine)\n    for (var i$1 = 0; i$1 < last.length; ++i$1) {\n      var span$1 = last[i$1]\n      if (span$1.to != null) { span$1.to += offset }\n      if (span$1.from == null) {\n        var found$1 = getMarkedSpanFor(first, span$1.marker)\n        if (!found$1) {\n          span$1.from = offset\n          if (sameLine) { (first || (first = [])).push(span$1) }\n        }\n      } else {\n        span$1.from += offset\n        if (sameLine) { (first || (first = [])).push(span$1) }\n      }\n    }\n  }\n  // Make sure we didn't create any zero-length spans\n  if (first) { first = clearEmptySpans(first) }\n  if (last && last != first) { last = clearEmptySpans(last) }\n\n  var newMarkers = [first]\n  if (!sameLine) {\n    // Fill gap with whole-line-spans\n    var gap = change.text.length - 2, gapMarkers\n    if (gap > 0 && first)\n      { for (var i$2 = 0; i$2 < first.length; ++i$2)\n        { if (first[i$2].to == null)\n          { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)) } } }\n    for (var i$3 = 0; i$3 < gap; ++i$3)\n      { newMarkers.push(gapMarkers) }\n    newMarkers.push(last)\n  }\n  return newMarkers\n}\n\n// Remove spans that are empty and don't have a clearWhenEmpty\n// option of false.\nfunction clearEmptySpans(spans) {\n  for (var i = 0; i < spans.length; ++i) {\n    var span = spans[i]\n    if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n      { spans.splice(i--, 1) }\n  }\n  if (!spans.length) { return null }\n  return spans\n}\n\n// Used to 'clip' out readOnly ranges when making a change.\nfunction removeReadOnlyRanges(doc, from, to) {\n  var markers = null\n  doc.iter(from.line, to.line + 1, function (line) {\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n      var mark = line.markedSpans[i].marker\n      if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n        { (markers || (markers = [])).push(mark) }\n    } }\n  })\n  if (!markers) { return null }\n  var parts = [{from: from, to: to}]\n  for (var i = 0; i < markers.length; ++i) {\n    var mk = markers[i], m = mk.find(0)\n    for (var j = 0; j < parts.length; ++j) {\n      var p = parts[j]\n      if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n      var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to)\n      if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n        { newParts.push({from: p.from, to: m.from}) }\n      if (dto > 0 || !mk.inclusiveRight && !dto)\n        { newParts.push({from: m.to, to: p.to}) }\n      parts.splice.apply(parts, newParts)\n      j += newParts.length - 3\n    }\n  }\n  return parts\n}\n\n// Connect or disconnect spans from a line.\nfunction detachMarkedSpans(line) {\n  var spans = line.markedSpans\n  if (!spans) { return }\n  for (var i = 0; i < spans.length; ++i)\n    { spans[i].marker.detachLine(line) }\n  line.markedSpans = null\n}\nfunction attachMarkedSpans(line, spans) {\n  if (!spans) { return }\n  for (var i = 0; i < spans.length; ++i)\n    { spans[i].marker.attachLine(line) }\n  line.markedSpans = spans\n}\n\n// Helpers used when computing which overlapping collapsed span\n// counts as the larger one.\nfunction extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\nfunction extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\n// Returns a number indicating which of two overlapping collapsed\n// spans is larger (and thus includes the other). Falls back to\n// comparing ids when the spans cover exactly the same range.\nfunction compareCollapsedMarkers(a, b) {\n  var lenDiff = a.lines.length - b.lines.length\n  if (lenDiff != 0) { return lenDiff }\n  var aPos = a.find(), bPos = b.find()\n  var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b)\n  if (fromCmp) { return -fromCmp }\n  var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b)\n  if (toCmp) { return toCmp }\n  return b.id - a.id\n}\n\n// Find out whether a line ends or starts in a collapsed span. If\n// so, return the marker for that span.\nfunction collapsedSpanAtSide(line, start) {\n  var sps = sawCollapsedSpans && line.markedSpans, found\n  if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n    sp = sps[i]\n    if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n        (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n      { found = sp.marker }\n  } }\n  return found\n}\nfunction collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\nfunction collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\n// Test whether there exists a collapsed span that partially\n// overlaps (covers the start or end, but not both) of a new span.\n// Such overlap is not allowed.\nfunction conflictingCollapsedRange(doc, lineNo, from, to, marker) {\n  var line = getLine(doc, lineNo)\n  var sps = sawCollapsedSpans && line.markedSpans\n  if (sps) { for (var i = 0; i < sps.length; ++i) {\n    var sp = sps[i]\n    if (!sp.marker.collapsed) { continue }\n    var found = sp.marker.find(0)\n    var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker)\n    var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker)\n    if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n    if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n        fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n      { return true }\n  } }\n}\n\n// A visual line is a line as drawn on the screen. Folding, for\n// example, can cause multiple logical lines to appear on the same\n// visual line. This finds the start of the visual line that the\n// given line is part of (usually that is the line itself).\nfunction visualLine(line) {\n  var merged\n  while (merged = collapsedSpanAtStart(line))\n    { line = merged.find(-1, true).line }\n  return line\n}\n\nfunction visualLineEnd(line) {\n  var merged\n  while (merged = collapsedSpanAtEnd(line))\n    { line = merged.find(1, true).line }\n  return line\n}\n\n// Returns an array of logical lines that continue the visual line\n// started by the argument, or undefined if there are no such lines.\nfunction visualLineContinued(line) {\n  var merged, lines\n  while (merged = collapsedSpanAtEnd(line)) {\n    line = merged.find(1, true).line\n    ;(lines || (lines = [])).push(line)\n  }\n  return lines\n}\n\n// Get the line number of the start of the visual line that the\n// given line number is part of.\nfunction visualLineNo(doc, lineN) {\n  var line = getLine(doc, lineN), vis = visualLine(line)\n  if (line == vis) { return lineN }\n  return lineNo(vis)\n}\n\n// Get the line number of the start of the next visual line after\n// the given line.\nfunction visualLineEndNo(doc, lineN) {\n  if (lineN > doc.lastLine()) { return lineN }\n  var line = getLine(doc, lineN), merged\n  if (!lineIsHidden(doc, line)) { return lineN }\n  while (merged = collapsedSpanAtEnd(line))\n    { line = merged.find(1, true).line }\n  return lineNo(line) + 1\n}\n\n// Compute whether a line is hidden. Lines count as hidden when they\n// are part of a visual line that starts with another line, or when\n// they are entirely covered by collapsed, non-widget span.\nfunction lineIsHidden(doc, line) {\n  var sps = sawCollapsedSpans && line.markedSpans\n  if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n    sp = sps[i]\n    if (!sp.marker.collapsed) { continue }\n    if (sp.from == null) { return true }\n    if (sp.marker.widgetNode) { continue }\n    if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n      { return true }\n  } }\n}\nfunction lineIsHiddenInner(doc, line, span) {\n  if (span.to == null) {\n    var end = span.marker.find(1, true)\n    return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n  }\n  if (span.marker.inclusiveRight && span.to == line.text.length)\n    { return true }\n  for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\n    sp = line.markedSpans[i]\n    if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n        (sp.to == null || sp.to != span.from) &&\n        (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n        lineIsHiddenInner(doc, line, sp)) { return true }\n  }\n}\n\n// Find the height above the given line.\nfunction heightAtLine(lineObj) {\n  lineObj = visualLine(lineObj)\n\n  var h = 0, chunk = lineObj.parent\n  for (var i = 0; i < chunk.lines.length; ++i) {\n    var line = chunk.lines[i]\n    if (line == lineObj) { break }\n    else { h += line.height }\n  }\n  for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n    for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n      var cur = p.children[i$1]\n      if (cur == chunk) { break }\n      else { h += cur.height }\n    }\n  }\n  return h\n}\n\n// Compute the character length of a line, taking into account\n// collapsed ranges (see markText) that might hide parts, and join\n// other lines onto it.\nfunction lineLength(line) {\n  if (line.height == 0) { return 0 }\n  var len = line.text.length, merged, cur = line\n  while (merged = collapsedSpanAtStart(cur)) {\n    var found = merged.find(0, true)\n    cur = found.from.line\n    len += found.from.ch - found.to.ch\n  }\n  cur = line\n  while (merged = collapsedSpanAtEnd(cur)) {\n    var found$1 = merged.find(0, true)\n    len -= cur.text.length - found$1.from.ch\n    cur = found$1.to.line\n    len += cur.text.length - found$1.to.ch\n  }\n  return len\n}\n\n// Find the longest line in the document.\nfunction findMaxLine(cm) {\n  var d = cm.display, doc = cm.doc\n  d.maxLine = getLine(doc, doc.first)\n  d.maxLineLength = lineLength(d.maxLine)\n  d.maxLineChanged = true\n  doc.iter(function (line) {\n    var len = lineLength(line)\n    if (len > d.maxLineLength) {\n      d.maxLineLength = len\n      d.maxLine = line\n    }\n  })\n}\n\n// BIDI HELPERS\n\nfunction iterateBidiSections(order, from, to, f) {\n  if (!order) { return f(from, to, \"ltr\") }\n  var found = false\n  for (var i = 0; i < order.length; ++i) {\n    var part = order[i]\n    if (part.from < to && part.to > from || from == to && part.to == from) {\n      f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\")\n      found = true\n    }\n  }\n  if (!found) { f(from, to, \"ltr\") }\n}\n\nvar bidiOther = null\nfunction getBidiPartAt(order, ch, sticky) {\n  var found\n  bidiOther = null\n  for (var i = 0; i < order.length; ++i) {\n    var cur = order[i]\n    if (cur.from < ch && cur.to > ch) { return i }\n    if (cur.to == ch) {\n      if (cur.from != cur.to && sticky == \"before\") { found = i }\n      else { bidiOther = i }\n    }\n    if (cur.from == ch) {\n      if (cur.from != cur.to && sticky != \"before\") { found = i }\n      else { bidiOther = i }\n    }\n  }\n  return found != null ? found : bidiOther\n}\n\n// Bidirectional ordering algorithm\n// See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n// that this (partially) implements.\n\n// One-char codes used for character types:\n// L (L):   Left-to-Right\n// R (R):   Right-to-Left\n// r (AL):  Right-to-Left Arabic\n// 1 (EN):  European Number\n// + (ES):  European Number Separator\n// % (ET):  European Number Terminator\n// n (AN):  Arabic Number\n// , (CS):  Common Number Separator\n// m (NSM): Non-Spacing Mark\n// b (BN):  Boundary Neutral\n// s (B):   Paragraph Separator\n// t (S):   Segment Separator\n// w (WS):  Whitespace\n// N (ON):  Other Neutrals\n\n// Returns null if characters are ordered as they appear\n// (left-to-right), or an array of sections ({from, to, level}\n// objects) in the order in which they occur visually.\nvar bidiOrdering = (function() {\n  // Character types for codepoints 0 to 0xff\n  var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\"\n  // Character types for codepoints 0x600 to 0x6f9\n  var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\"\n  function charType(code) {\n    if (code <= 0xf7) { return lowTypes.charAt(code) }\n    else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n    else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n    else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n    else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n    else if (code == 0x200c) { return \"b\" }\n    else { return \"L\" }\n  }\n\n  var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/\n  var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/\n  // Browsers seem to always treat the boundaries of block elements as being L.\n  var outerType = \"L\"\n\n  function BidiSpan(level, from, to) {\n    this.level = level\n    this.from = from; this.to = to\n  }\n\n  return function(str) {\n    if (!bidiRE.test(str)) { return false }\n    var len = str.length, types = []\n    for (var i = 0; i < len; ++i)\n      { types.push(charType(str.charCodeAt(i))) }\n\n    // W1. Examine each non-spacing mark (NSM) in the level run, and\n    // change the type of the NSM to the type of the previous\n    // character. If the NSM is at the start of the level run, it will\n    // get the type of sor.\n    for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n      var type = types[i$1]\n      if (type == \"m\") { types[i$1] = prev }\n      else { prev = type }\n    }\n\n    // W2. Search backwards from each instance of a European number\n    // until the first strong type (R, L, AL, or sor) is found. If an\n    // AL is found, change the type of the European number to Arabic\n    // number.\n    // W3. Change all ALs to R.\n    for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n      var type$1 = types[i$2]\n      if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\" }\n      else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\" } }\n    }\n\n    // W4. A single European separator between two European numbers\n    // changes to a European number. A single common separator between\n    // two numbers of the same type changes to that type.\n    for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n      var type$2 = types[i$3]\n      if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\" }\n      else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n               (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1 }\n      prev$1 = type$2\n    }\n\n    // W5. A sequence of European terminators adjacent to European\n    // numbers changes to all European numbers.\n    // W6. Otherwise, separators and terminators change to Other\n    // Neutral.\n    for (var i$4 = 0; i$4 < len; ++i$4) {\n      var type$3 = types[i$4]\n      if (type$3 == \",\") { types[i$4] = \"N\" }\n      else if (type$3 == \"%\") {\n        var end = (void 0)\n        for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n        var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\"\n        for (var j = i$4; j < end; ++j) { types[j] = replace }\n        i$4 = end - 1\n      }\n    }\n\n    // W7. Search backwards from each instance of a European number\n    // until the first strong type (R, L, or sor) is found. If an L is\n    // found, then change the type of the European number to L.\n    for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n      var type$4 = types[i$5]\n      if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\" }\n      else if (isStrong.test(type$4)) { cur$1 = type$4 }\n    }\n\n    // N1. A sequence of neutrals takes the direction of the\n    // surrounding strong text if the text on both sides has the same\n    // direction. European and Arabic numbers act as if they were R in\n    // terms of their influence on neutrals. Start-of-level-run (sor)\n    // and end-of-level-run (eor) are used at level run boundaries.\n    // N2. Any remaining neutrals take the embedding direction.\n    for (var i$6 = 0; i$6 < len; ++i$6) {\n      if (isNeutral.test(types[i$6])) {\n        var end$1 = (void 0)\n        for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n        var before = (i$6 ? types[i$6-1] : outerType) == \"L\"\n        var after = (end$1 < len ? types[end$1] : outerType) == \"L\"\n        var replace$1 = before || after ? \"L\" : \"R\"\n        for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1 }\n        i$6 = end$1 - 1\n      }\n    }\n\n    // Here we depart from the documented algorithm, in order to avoid\n    // building up an actual levels array. Since there are only three\n    // levels (0, 1, 2) in an implementation that doesn't take\n    // explicit embedding into account, we can build up the order on\n    // the fly, without following the level-based algorithm.\n    var order = [], m\n    for (var i$7 = 0; i$7 < len;) {\n      if (countsAsLeft.test(types[i$7])) {\n        var start = i$7\n        for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n        order.push(new BidiSpan(0, start, i$7))\n      } else {\n        var pos = i$7, at = order.length\n        for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n        for (var j$2 = pos; j$2 < i$7;) {\n          if (countsAsNum.test(types[j$2])) {\n            if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)) }\n            var nstart = j$2\n            for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n            order.splice(at, 0, new BidiSpan(2, nstart, j$2))\n            pos = j$2\n          } else { ++j$2 }\n        }\n        if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)) }\n      }\n    }\n    if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n      order[0].from = m[0].length\n      order.unshift(new BidiSpan(0, 0, m[0].length))\n    }\n    if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n      lst(order).to -= m[0].length\n      order.push(new BidiSpan(0, len - m[0].length, len))\n    }\n\n    return order\n  }\n})()\n\n// Get the bidi ordering for the given line (and cache it). Returns\n// false for lines that are fully left-to-right, and an array of\n// BidiSpan objects otherwise.\nfunction getOrder(line) {\n  var order = line.order\n  if (order == null) { order = line.order = bidiOrdering(line.text) }\n  return order\n}\n\nfunction moveCharLogically(line, ch, dir) {\n  var target = skipExtendingChars(line.text, ch + dir, dir)\n  return target < 0 || target > line.text.length ? null : target\n}\n\nfunction moveLogically(line, start, dir) {\n  var ch = moveCharLogically(line, start.ch, dir)\n  return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\n}\n\nfunction endOfLine(visually, cm, lineObj, lineNo, dir) {\n  if (visually) {\n    var order = getOrder(lineObj)\n    if (order) {\n      var part = dir < 0 ? lst(order) : order[0]\n      var moveInStorageOrder = (dir < 0) == (part.level == 1)\n      var sticky = moveInStorageOrder ? \"after\" : \"before\"\n      var ch\n      // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n      // it could be that the last bidi part is not on the last visual line,\n      // since visual lines contain content order-consecutive chunks.\n      // Thus, in rtl, we are looking for the first (content-order) character\n      // in the rtl chunk that is on the last line (that is, the same line\n      // as the last (content-order) character).\n      if (part.level > 0) {\n        var prep = prepareMeasureForLine(cm, lineObj)\n        ch = dir < 0 ? lineObj.text.length - 1 : 0\n        var targetTop = measureCharPrepared(cm, prep, ch).top\n        ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch)\n        if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1, true) }\n      } else { ch = dir < 0 ? part.to : part.from }\n      return new Pos(lineNo, ch, sticky)\n    }\n  }\n  return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\n}\n\nfunction moveVisually(cm, line, start, dir) {\n  var bidi = getOrder(line)\n  if (!bidi) { return moveLogically(line, start, dir) }\n  if (start.ch >= line.text.length) {\n    start.ch = line.text.length\n    start.sticky = \"before\"\n  } else if (start.ch <= 0) {\n    start.ch = 0\n    start.sticky = \"after\"\n  }\n  var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos]\n  if (part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n    // Case 1: We move within an ltr part. Even with wrapped lines,\n    // nothing interesting happens.\n    return moveLogically(line, start, dir)\n  }\n\n  var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); }\n  var prep\n  var getWrappedLineExtent = function (ch) {\n    if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\n    prep = prep || prepareMeasureForLine(cm, line)\n    return wrappedLineExtentChar(cm, line, prep, ch)\n  }\n  var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch)\n\n  if (part.level % 2 == 1) {\n    var ch = mv(start, -dir)\n    if (ch != null && (dir > 0 ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n      // Case 2: We move within an rtl part on the same visual line\n      var sticky = dir < 0 ? \"before\" : \"after\"\n      return new Pos(start.line, ch, sticky)\n    }\n  }\n\n  // Case 3: Could not move within this bidi part in this visual line, so leave\n  // the current bidi part\n\n  var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n    var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\n      ? new Pos(start.line, mv(ch, 1), \"before\")\n      : new Pos(start.line, ch, \"after\"); }\n\n    for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n      var part = bidi[partPos]\n      var moveInStorageOrder = (dir > 0) == (part.level != 1)\n      var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1)\n      if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\n      ch = moveInStorageOrder ? part.from : mv(part.to, -1)\n      if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\n    }\n  }\n\n  // Case 3a: Look for other bidi parts on the same visual line\n  var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent)\n  if (res) { return res }\n\n  // Case 3b: Look for other bidi parts on the next visual line\n  var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1)\n  if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n    res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh))\n    if (res) { return res }\n  }\n\n  // Case 4: Nowhere to move\n  return null\n}\n\n// EVENT HANDLING\n\n// Lightweight event framework. on/off also work on DOM nodes,\n// registering native DOM handlers.\n\nvar noHandlers = []\n\nvar on = function(emitter, type, f) {\n  if (emitter.addEventListener) {\n    emitter.addEventListener(type, f, false)\n  } else if (emitter.attachEvent) {\n    emitter.attachEvent(\"on\" + type, f)\n  } else {\n    var map = emitter._handlers || (emitter._handlers = {})\n    map[type] = (map[type] || noHandlers).concat(f)\n  }\n}\n\nfunction getHandlers(emitter, type) {\n  return emitter._handlers && emitter._handlers[type] || noHandlers\n}\n\nfunction off(emitter, type, f) {\n  if (emitter.removeEventListener) {\n    emitter.removeEventListener(type, f, false)\n  } else if (emitter.detachEvent) {\n    emitter.detachEvent(\"on\" + type, f)\n  } else {\n    var map = emitter._handlers, arr = map && map[type]\n    if (arr) {\n      var index = indexOf(arr, f)\n      if (index > -1)\n        { map[type] = arr.slice(0, index).concat(arr.slice(index + 1)) }\n    }\n  }\n}\n\nfunction signal(emitter, type /*, values...*/) {\n  var handlers = getHandlers(emitter, type)\n  if (!handlers.length) { return }\n  var args = Array.prototype.slice.call(arguments, 2)\n  for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args) }\n}\n\n// The DOM events that CodeMirror handles can be overridden by\n// registering a (non-DOM) handler on the editor for the event name,\n// and preventDefault-ing the event in that handler.\nfunction signalDOMEvent(cm, e, override) {\n  if (typeof e == \"string\")\n    { e = {type: e, preventDefault: function() { this.defaultPrevented = true }} }\n  signal(cm, override || e.type, cm, e)\n  return e_defaultPrevented(e) || e.codemirrorIgnore\n}\n\nfunction signalCursorActivity(cm) {\n  var arr = cm._handlers && cm._handlers.cursorActivity\n  if (!arr) { return }\n  var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = [])\n  for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n    { set.push(arr[i]) } }\n}\n\nfunction hasHandler(emitter, type) {\n  return getHandlers(emitter, type).length > 0\n}\n\n// Add on and off methods to a constructor's prototype, to make\n// registering events on such objects more convenient.\nfunction eventMixin(ctor) {\n  ctor.prototype.on = function(type, f) {on(this, type, f)}\n  ctor.prototype.off = function(type, f) {off(this, type, f)}\n}\n\n// Due to the fact that we still support jurassic IE versions, some\n// compatibility wrappers are needed.\n\nfunction e_preventDefault(e) {\n  if (e.preventDefault) { e.preventDefault() }\n  else { e.returnValue = false }\n}\nfunction e_stopPropagation(e) {\n  if (e.stopPropagation) { e.stopPropagation() }\n  else { e.cancelBubble = true }\n}\nfunction e_defaultPrevented(e) {\n  return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n}\nfunction e_stop(e) {e_preventDefault(e); e_stopPropagation(e)}\n\nfunction e_target(e) {return e.target || e.srcElement}\nfunction e_button(e) {\n  var b = e.which\n  if (b == null) {\n    if (e.button & 1) { b = 1 }\n    else if (e.button & 2) { b = 3 }\n    else if (e.button & 4) { b = 2 }\n  }\n  if (mac && e.ctrlKey && b == 1) { b = 3 }\n  return b\n}\n\n// Detect drag-and-drop\nvar dragAndDrop = function() {\n  // There is *some* kind of drag-and-drop support in IE6-8, but I\n  // couldn't get it to work yet.\n  if (ie && ie_version < 9) { return false }\n  var div = elt('div')\n  return \"draggable\" in div || \"dragDrop\" in div\n}()\n\nvar zwspSupported\nfunction zeroWidthElement(measure) {\n  if (zwspSupported == null) {\n    var test = elt(\"span\", \"\\u200b\")\n    removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]))\n    if (measure.firstChild.offsetHeight != 0)\n      { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8) }\n  }\n  var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n    elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\")\n  node.setAttribute(\"cm-text\", \"\")\n  return node\n}\n\n// Feature-detect IE's crummy client rect reporting for bidi text\nvar badBidiRects\nfunction hasBadBidiRects(measure) {\n  if (badBidiRects != null) { return badBidiRects }\n  var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"))\n  var r0 = range(txt, 0, 1).getBoundingClientRect()\n  var r1 = range(txt, 1, 2).getBoundingClientRect()\n  removeChildren(measure)\n  if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\n  return badBidiRects = (r1.right - r0.right < 3)\n}\n\n// See if \"\".split is the broken IE version, if so, provide an\n// alternative way to split lines.\nvar splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n  var pos = 0, result = [], l = string.length\n  while (pos <= l) {\n    var nl = string.indexOf(\"\\n\", pos)\n    if (nl == -1) { nl = string.length }\n    var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl)\n    var rt = line.indexOf(\"\\r\")\n    if (rt != -1) {\n      result.push(line.slice(0, rt))\n      pos += rt + 1\n    } else {\n      result.push(line)\n      pos = nl + 1\n    }\n  }\n  return result\n} : function (string) { return string.split(/\\r\\n?|\\n/); }\n\nvar hasSelection = window.getSelection ? function (te) {\n  try { return te.selectionStart != te.selectionEnd }\n  catch(e) { return false }\n} : function (te) {\n  var range\n  try {range = te.ownerDocument.selection.createRange()}\n  catch(e) {}\n  if (!range || range.parentElement() != te) { return false }\n  return range.compareEndPoints(\"StartToEnd\", range) != 0\n}\n\nvar hasCopyEvent = (function () {\n  var e = elt(\"div\")\n  if (\"oncopy\" in e) { return true }\n  e.setAttribute(\"oncopy\", \"return;\")\n  return typeof e.oncopy == \"function\"\n})()\n\nvar badZoomedRects = null\nfunction hasBadZoomedRects(measure) {\n  if (badZoomedRects != null) { return badZoomedRects }\n  var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"))\n  var normal = node.getBoundingClientRect()\n  var fromRange = range(node, 0, 1).getBoundingClientRect()\n  return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n}\n\nvar modes = {};\nvar mimeModes = {};\n// Extra arguments are stored as the mode's dependencies, which is\n// used by (legacy) mechanisms like loadmode.js to automatically\n// load a mode. (Preferred mechanism is the require/define calls.)\nfunction defineMode(name, mode) {\n  if (arguments.length > 2)\n    { mode.dependencies = Array.prototype.slice.call(arguments, 2) }\n  modes[name] = mode\n}\n\nfunction defineMIME(mime, spec) {\n  mimeModes[mime] = spec\n}\n\n// Given a MIME type, a {name, ...options} config object, or a name\n// string, return a mode config object.\nfunction resolveMode(spec) {\n  if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n    spec = mimeModes[spec]\n  } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n    var found = mimeModes[spec.name]\n    if (typeof found == \"string\") { found = {name: found} }\n    spec = createObj(found, spec)\n    spec.name = found.name\n  } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n    return resolveMode(\"application/xml\")\n  } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n    return resolveMode(\"application/json\")\n  }\n  if (typeof spec == \"string\") { return {name: spec} }\n  else { return spec || {name: \"null\"} }\n}\n\n// Given a mode spec (anything that resolveMode accepts), find and\n// initialize an actual mode object.\nfunction getMode(options, spec) {\n  spec = resolveMode(spec)\n  var mfactory = modes[spec.name]\n  if (!mfactory) { return getMode(options, \"text/plain\") }\n  var modeObj = mfactory(options, spec)\n  if (modeExtensions.hasOwnProperty(spec.name)) {\n    var exts = modeExtensions[spec.name]\n    for (var prop in exts) {\n      if (!exts.hasOwnProperty(prop)) { continue }\n      if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop] }\n      modeObj[prop] = exts[prop]\n    }\n  }\n  modeObj.name = spec.name\n  if (spec.helperType) { modeObj.helperType = spec.helperType }\n  if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n    { modeObj[prop$1] = spec.modeProps[prop$1] } }\n\n  return modeObj\n}\n\n// This can be used to attach properties to mode objects from\n// outside the actual mode definition.\nvar modeExtensions = {}\nfunction extendMode(mode, properties) {\n  var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {})\n  copyObj(properties, exts)\n}\n\nfunction copyState(mode, state) {\n  if (state === true) { return state }\n  if (mode.copyState) { return mode.copyState(state) }\n  var nstate = {}\n  for (var n in state) {\n    var val = state[n]\n    if (val instanceof Array) { val = val.concat([]) }\n    nstate[n] = val\n  }\n  return nstate\n}\n\n// Given a mode and a state (for that mode), find the inner mode and\n// state at the position that the state refers to.\nfunction innerMode(mode, state) {\n  var info\n  while (mode.innerMode) {\n    info = mode.innerMode(state)\n    if (!info || info.mode == mode) { break }\n    state = info.state\n    mode = info.mode\n  }\n  return info || {mode: mode, state: state}\n}\n\nfunction startState(mode, a1, a2) {\n  return mode.startState ? mode.startState(a1, a2) : true\n}\n\n// STRING STREAM\n\n// Fed to the mode parsers, provides helper functions to make\n// parsers more succinct.\n\nvar StringStream = function(string, tabSize) {\n  this.pos = this.start = 0\n  this.string = string\n  this.tabSize = tabSize || 8\n  this.lastColumnPos = this.lastColumnValue = 0\n  this.lineStart = 0\n};\n\nStringStream.prototype.eol = function () {return this.pos >= this.string.length};\nStringStream.prototype.sol = function () {return this.pos == this.lineStart};\nStringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\nStringStream.prototype.next = function () {\n  if (this.pos < this.string.length)\n    { return this.string.charAt(this.pos++) }\n};\nStringStream.prototype.eat = function (match) {\n  var ch = this.string.charAt(this.pos)\n  var ok\n  if (typeof match == \"string\") { ok = ch == match }\n  else { ok = ch && (match.test ? match.test(ch) : match(ch)) }\n  if (ok) {++this.pos; return ch}\n};\nStringStream.prototype.eatWhile = function (match) {\n  var start = this.pos\n  while (this.eat(match)){}\n  return this.pos > start\n};\nStringStream.prototype.eatSpace = function () {\n    var this$1 = this;\n\n  var start = this.pos\n  while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this$1.pos }\n  return this.pos > start\n};\nStringStream.prototype.skipToEnd = function () {this.pos = this.string.length};\nStringStream.prototype.skipTo = function (ch) {\n  var found = this.string.indexOf(ch, this.pos)\n  if (found > -1) {this.pos = found; return true}\n};\nStringStream.prototype.backUp = function (n) {this.pos -= n};\nStringStream.prototype.column = function () {\n  if (this.lastColumnPos < this.start) {\n    this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue)\n    this.lastColumnPos = this.start\n  }\n  return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n};\nStringStream.prototype.indentation = function () {\n  return countColumn(this.string, null, this.tabSize) -\n    (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n};\nStringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n  if (typeof pattern == \"string\") {\n    var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; }\n    var substr = this.string.substr(this.pos, pattern.length)\n    if (cased(substr) == cased(pattern)) {\n      if (consume !== false) { this.pos += pattern.length }\n      return true\n    }\n  } else {\n    var match = this.string.slice(this.pos).match(pattern)\n    if (match && match.index > 0) { return null }\n    if (match && consume !== false) { this.pos += match[0].length }\n    return match\n  }\n};\nStringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\nStringStream.prototype.hideFirstChars = function (n, inner) {\n  this.lineStart += n\n  try { return inner() }\n  finally { this.lineStart -= n }\n};\n\n// Compute a style array (an array starting with a mode generation\n// -- for invalidation -- followed by pairs of end positions and\n// style strings), which is used to highlight the tokens on the\n// line.\nfunction highlightLine(cm, line, state, forceToEnd) {\n  // A styles array always starts with a number identifying the\n  // mode/overlays that it is based on (for easy invalidation).\n  var st = [cm.state.modeGen], lineClasses = {}\n  // Compute the base array of styles\n  runMode(cm, line.text, cm.doc.mode, state, function (end, style) { return st.push(end, style); },\n    lineClasses, forceToEnd)\n\n  // Run overlays, adjust style array.\n  var loop = function ( o ) {\n    var overlay = cm.state.overlays[o], i = 1, at = 0\n    runMode(cm, line.text, overlay.mode, true, function (end, style) {\n      var start = i\n      // Ensure there's a token end at the current position, and that i points at it\n      while (at < end) {\n        var i_end = st[i]\n        if (i_end > end)\n          { st.splice(i, 1, end, st[i+1], i_end) }\n        i += 2\n        at = Math.min(end, i_end)\n      }\n      if (!style) { return }\n      if (overlay.opaque) {\n        st.splice(start, i - start, end, \"overlay \" + style)\n        i = start + 2\n      } else {\n        for (; start < i; start += 2) {\n          var cur = st[start+1]\n          st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style\n        }\n      }\n    }, lineClasses)\n  };\n\n  for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n  return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n}\n\nfunction getLineStyles(cm, line, updateFrontier) {\n  if (!line.styles || line.styles[0] != cm.state.modeGen) {\n    var state = getStateBefore(cm, lineNo(line))\n    var result = highlightLine(cm, line, line.text.length > cm.options.maxHighlightLength ? copyState(cm.doc.mode, state) : state)\n    line.stateAfter = state\n    line.styles = result.styles\n    if (result.classes) { line.styleClasses = result.classes }\n    else if (line.styleClasses) { line.styleClasses = null }\n    if (updateFrontier === cm.doc.frontier) { cm.doc.frontier++ }\n  }\n  return line.styles\n}\n\nfunction getStateBefore(cm, n, precise) {\n  var doc = cm.doc, display = cm.display\n  if (!doc.mode.startState) { return true }\n  var pos = findStartLine(cm, n, precise), state = pos > doc.first && getLine(doc, pos-1).stateAfter\n  if (!state) { state = startState(doc.mode) }\n  else { state = copyState(doc.mode, state) }\n  doc.iter(pos, n, function (line) {\n    processLine(cm, line.text, state)\n    var save = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo\n    line.stateAfter = save ? copyState(doc.mode, state) : null\n    ++pos\n  })\n  if (precise) { doc.frontier = pos }\n  return state\n}\n\n// Lightweight form of highlight -- proceed over this line and\n// update state, but don't save a style array. Used for lines that\n// aren't currently visible.\nfunction processLine(cm, text, state, startAt) {\n  var mode = cm.doc.mode\n  var stream = new StringStream(text, cm.options.tabSize)\n  stream.start = stream.pos = startAt || 0\n  if (text == \"\") { callBlankLine(mode, state) }\n  while (!stream.eol()) {\n    readToken(mode, stream, state)\n    stream.start = stream.pos\n  }\n}\n\nfunction callBlankLine(mode, state) {\n  if (mode.blankLine) { return mode.blankLine(state) }\n  if (!mode.innerMode) { return }\n  var inner = innerMode(mode, state)\n  if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n}\n\nfunction readToken(mode, stream, state, inner) {\n  for (var i = 0; i < 10; i++) {\n    if (inner) { inner[0] = innerMode(mode, state).mode }\n    var style = mode.token(stream, state)\n    if (stream.pos > stream.start) { return style }\n  }\n  throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n}\n\n// Utility for getTokenAt and getLineTokens\nfunction takeToken(cm, pos, precise, asArray) {\n  var getObj = function (copy) { return ({\n    start: stream.start, end: stream.pos,\n    string: stream.current(),\n    type: style || null,\n    state: copy ? copyState(doc.mode, state) : state\n  }); }\n\n  var doc = cm.doc, mode = doc.mode, style\n  pos = clipPos(doc, pos)\n  var line = getLine(doc, pos.line), state = getStateBefore(cm, pos.line, precise)\n  var stream = new StringStream(line.text, cm.options.tabSize), tokens\n  if (asArray) { tokens = [] }\n  while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n    stream.start = stream.pos\n    style = readToken(mode, stream, state)\n    if (asArray) { tokens.push(getObj(true)) }\n  }\n  return asArray ? tokens : getObj()\n}\n\nfunction extractLineClasses(type, output) {\n  if (type) { for (;;) {\n    var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/)\n    if (!lineClass) { break }\n    type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length)\n    var prop = lineClass[1] ? \"bgClass\" : \"textClass\"\n    if (output[prop] == null)\n      { output[prop] = lineClass[2] }\n    else if (!(new RegExp(\"(?:^|\\s)\" + lineClass[2] + \"(?:$|\\s)\")).test(output[prop]))\n      { output[prop] += \" \" + lineClass[2] }\n  } }\n  return type\n}\n\n// Run the given mode's parser over a line, calling f for each token.\nfunction runMode(cm, text, mode, state, f, lineClasses, forceToEnd) {\n  var flattenSpans = mode.flattenSpans\n  if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans }\n  var curStart = 0, curStyle = null\n  var stream = new StringStream(text, cm.options.tabSize), style\n  var inner = cm.options.addModeClass && [null]\n  if (text == \"\") { extractLineClasses(callBlankLine(mode, state), lineClasses) }\n  while (!stream.eol()) {\n    if (stream.pos > cm.options.maxHighlightLength) {\n      flattenSpans = false\n      if (forceToEnd) { processLine(cm, text, state, stream.pos) }\n      stream.pos = text.length\n      style = null\n    } else {\n      style = extractLineClasses(readToken(mode, stream, state, inner), lineClasses)\n    }\n    if (inner) {\n      var mName = inner[0].name\n      if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName) }\n    }\n    if (!flattenSpans || curStyle != style) {\n      while (curStart < stream.start) {\n        curStart = Math.min(stream.start, curStart + 5000)\n        f(curStart, curStyle)\n      }\n      curStyle = style\n    }\n    stream.start = stream.pos\n  }\n  while (curStart < stream.pos) {\n    // Webkit seems to refuse to render text nodes longer than 57444\n    // characters, and returns inaccurate measurements in nodes\n    // starting around 5000 chars.\n    var pos = Math.min(stream.pos, curStart + 5000)\n    f(pos, curStyle)\n    curStart = pos\n  }\n}\n\n// Finds the line to start with when starting a parse. Tries to\n// find a line with a stateAfter, so that it can start with a\n// valid state. If that fails, it returns the line with the\n// smallest indentation, which tends to need the least context to\n// parse correctly.\nfunction findStartLine(cm, n, precise) {\n  var minindent, minline, doc = cm.doc\n  var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100)\n  for (var search = n; search > lim; --search) {\n    if (search <= doc.first) { return doc.first }\n    var line = getLine(doc, search - 1)\n    if (line.stateAfter && (!precise || search <= doc.frontier)) { return search }\n    var indented = countColumn(line.text, null, cm.options.tabSize)\n    if (minline == null || minindent > indented) {\n      minline = search - 1\n      minindent = indented\n    }\n  }\n  return minline\n}\n\n// LINE DATA STRUCTURE\n\n// Line objects. These hold state related to a line, including\n// highlighting info (the styles array).\nvar Line = function(text, markedSpans, estimateHeight) {\n  this.text = text\n  attachMarkedSpans(this, markedSpans)\n  this.height = estimateHeight ? estimateHeight(this) : 1\n};\n\nLine.prototype.lineNo = function () { return lineNo(this) };\neventMixin(Line)\n\n// Change the content (text, markers) of a line. Automatically\n// invalidates cached information and tries to re-estimate the\n// line's height.\nfunction updateLine(line, text, markedSpans, estimateHeight) {\n  line.text = text\n  if (line.stateAfter) { line.stateAfter = null }\n  if (line.styles) { line.styles = null }\n  if (line.order != null) { line.order = null }\n  detachMarkedSpans(line)\n  attachMarkedSpans(line, markedSpans)\n  var estHeight = estimateHeight ? estimateHeight(line) : 1\n  if (estHeight != line.height) { updateLineHeight(line, estHeight) }\n}\n\n// Detach a line from the document tree and its markers.\nfunction cleanUpLine(line) {\n  line.parent = null\n  detachMarkedSpans(line)\n}\n\n// Convert a style as returned by a mode (either null, or a string\n// containing one or more styles) to a CSS style. This is cached,\n// and also looks for line-wide styles.\nvar styleToClassCache = {};\nvar styleToClassCacheWithMode = {};\nfunction interpretTokenStyle(style, options) {\n  if (!style || /^\\s*$/.test(style)) { return null }\n  var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache\n  return cache[style] ||\n    (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\n}\n\n// Render the DOM representation of the text of a line. Also builds\n// up a 'line map', which points at the DOM nodes that represent\n// specific stretches of text, and is used by the measuring code.\n// The returned object contains the DOM node, this map, and\n// information about line-wide styles that were set by the mode.\nfunction buildLineContent(cm, lineView) {\n  // The padding-right forces the element to have a 'border', which\n  // is needed on Webkit to be able to get line-level bounding\n  // rectangles for it (in measureChar).\n  var content = elt(\"span\", null, null, webkit ? \"padding-right: .1px\" : null)\n  var builder = {pre: elt(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                 col: 0, pos: 0, cm: cm,\n                 trailingSpace: false,\n                 splitSpaces: (ie || webkit) && cm.getOption(\"lineWrapping\")}\n  // hide from accessibility tree\n  content.setAttribute(\"role\", \"presentation\")\n  builder.pre.setAttribute(\"role\", \"presentation\")\n  lineView.measure = {}\n\n  // Iterate over the logical lines that make up this visual line.\n  for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n    var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0)\n    builder.pos = 0\n    builder.addToken = buildToken\n    // Optionally wire in some hacks into the token-rendering\n    // algorithm, to deal with browser quirks.\n    if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line)))\n      { builder.addToken = buildTokenBadBidi(builder.addToken, order) }\n    builder.map = []\n    var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line)\n    insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate))\n    if (line.styleClasses) {\n      if (line.styleClasses.bgClass)\n        { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\") }\n      if (line.styleClasses.textClass)\n        { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\") }\n    }\n\n    // Ensure at least a single node is present, for measuring.\n    if (builder.map.length == 0)\n      { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))) }\n\n    // Store the map and a cache object for the current logical line\n    if (i == 0) {\n      lineView.measure.map = builder.map\n      lineView.measure.cache = {}\n    } else {\n      ;(lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n      ;(lineView.measure.caches || (lineView.measure.caches = [])).push({})\n    }\n  }\n\n  // See issue #2901\n  if (webkit) {\n    var last = builder.content.lastChild\n    if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n      { builder.content.className = \"cm-tab-wrap-hack\" }\n  }\n\n  signal(cm, \"renderLine\", cm, lineView.line, builder.pre)\n  if (builder.pre.className)\n    { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\") }\n\n  return builder\n}\n\nfunction defaultSpecialCharPlaceholder(ch) {\n  var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\")\n  token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16)\n  token.setAttribute(\"aria-label\", token.title)\n  return token\n}\n\n// Build up the DOM representation for a single token, and add it to\n// the line map. Takes care to render special characters separately.\nfunction buildToken(builder, text, style, startStyle, endStyle, title, css) {\n  if (!text) { return }\n  var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text\n  var special = builder.cm.state.specialChars, mustWrap = false\n  var content\n  if (!special.test(text)) {\n    builder.col += text.length\n    content = document.createTextNode(displayText)\n    builder.map.push(builder.pos, builder.pos + text.length, content)\n    if (ie && ie_version < 9) { mustWrap = true }\n    builder.pos += text.length\n  } else {\n    content = document.createDocumentFragment()\n    var pos = 0\n    while (true) {\n      special.lastIndex = pos\n      var m = special.exec(text)\n      var skipped = m ? m.index - pos : text.length - pos\n      if (skipped) {\n        var txt = document.createTextNode(displayText.slice(pos, pos + skipped))\n        if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])) }\n        else { content.appendChild(txt) }\n        builder.map.push(builder.pos, builder.pos + skipped, txt)\n        builder.col += skipped\n        builder.pos += skipped\n      }\n      if (!m) { break }\n      pos += skipped + 1\n      var txt$1 = (void 0)\n      if (m[0] == \"\\t\") {\n        var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize\n        txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"))\n        txt$1.setAttribute(\"role\", \"presentation\")\n        txt$1.setAttribute(\"cm-text\", \"\\t\")\n        builder.col += tabWidth\n      } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n        txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"))\n        txt$1.setAttribute(\"cm-text\", m[0])\n        builder.col += 1\n      } else {\n        txt$1 = builder.cm.options.specialCharPlaceholder(m[0])\n        txt$1.setAttribute(\"cm-text\", m[0])\n        if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])) }\n        else { content.appendChild(txt$1) }\n        builder.col += 1\n      }\n      builder.map.push(builder.pos, builder.pos + 1, txt$1)\n      builder.pos++\n    }\n  }\n  builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32\n  if (style || startStyle || endStyle || mustWrap || css) {\n    var fullStyle = style || \"\"\n    if (startStyle) { fullStyle += startStyle }\n    if (endStyle) { fullStyle += endStyle }\n    var token = elt(\"span\", [content], fullStyle, css)\n    if (title) { token.title = title }\n    return builder.content.appendChild(token)\n  }\n  builder.content.appendChild(content)\n}\n\nfunction splitSpaces(text, trailingBefore) {\n  if (text.length > 1 && !/  /.test(text)) { return text }\n  var spaceBefore = trailingBefore, result = \"\"\n  for (var i = 0; i < text.length; i++) {\n    var ch = text.charAt(i)\n    if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n      { ch = \"\\u00a0\" }\n    result += ch\n    spaceBefore = ch == \" \"\n  }\n  return result\n}\n\n// Work around nonsense dimensions being reported for stretches of\n// right-to-left text.\nfunction buildTokenBadBidi(inner, order) {\n  return function (builder, text, style, startStyle, endStyle, title, css) {\n    style = style ? style + \" cm-force-border\" : \"cm-force-border\"\n    var start = builder.pos, end = start + text.length\n    for (;;) {\n      // Find the part that overlaps with the start of this text\n      var part = (void 0)\n      for (var i = 0; i < order.length; i++) {\n        part = order[i]\n        if (part.to > start && part.from <= start) { break }\n      }\n      if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, title, css) }\n      inner(builder, text.slice(0, part.to - start), style, startStyle, null, title, css)\n      startStyle = null\n      text = text.slice(part.to - start)\n      start = part.to\n    }\n  }\n}\n\nfunction buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n  var widget = !ignoreWidget && marker.widgetNode\n  if (widget) { builder.map.push(builder.pos, builder.pos + size, widget) }\n  if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n    if (!widget)\n      { widget = builder.content.appendChild(document.createElement(\"span\")) }\n    widget.setAttribute(\"cm-marker\", marker.id)\n  }\n  if (widget) {\n    builder.cm.display.input.setUneditable(widget)\n    builder.content.appendChild(widget)\n  }\n  builder.pos += size\n  builder.trailingSpace = false\n}\n\n// Outputs a number of spans to make up a line, taking highlighting\n// and marked text into account.\nfunction insertLineContent(line, builder, styles) {\n  var spans = line.markedSpans, allText = line.text, at = 0\n  if (!spans) {\n    for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n      { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)) }\n    return\n  }\n\n  var len = allText.length, pos = 0, i = 1, text = \"\", style, css\n  var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, title, collapsed\n  for (;;) {\n    if (nextChange == pos) { // Update current marker set\n      spanStyle = spanEndStyle = spanStartStyle = title = css = \"\"\n      collapsed = null; nextChange = Infinity\n      var foundBookmarks = [], endStyles = (void 0)\n      for (var j = 0; j < spans.length; ++j) {\n        var sp = spans[j], m = sp.marker\n        if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n          foundBookmarks.push(m)\n        } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n          if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n            nextChange = sp.to\n            spanEndStyle = \"\"\n          }\n          if (m.className) { spanStyle += \" \" + m.className }\n          if (m.css) { css = (css ? css + \";\" : \"\") + m.css }\n          if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle }\n          if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to) }\n          if (m.title && !title) { title = m.title }\n          if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n            { collapsed = sp }\n        } else if (sp.from > pos && nextChange > sp.from) {\n          nextChange = sp.from\n        }\n      }\n      if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n        { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1] } } }\n\n      if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n        { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]) } }\n      if (collapsed && (collapsed.from || 0) == pos) {\n        buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                           collapsed.marker, collapsed.from == null)\n        if (collapsed.to == null) { return }\n        if (collapsed.to == pos) { collapsed = false }\n      }\n    }\n    if (pos >= len) { break }\n\n    var upto = Math.min(len, nextChange)\n    while (true) {\n      if (text) {\n        var end = pos + text.length\n        if (!collapsed) {\n          var tokenText = end > upto ? text.slice(0, upto - pos) : text\n          builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                           spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", title, css)\n        }\n        if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n        pos = end\n        spanStartStyle = \"\"\n      }\n      text = allText.slice(at, at = styles[i++])\n      style = interpretTokenStyle(styles[i++], builder.cm.options)\n    }\n  }\n}\n\n\n// These objects are used to represent the visible (currently drawn)\n// part of the document. A LineView may correspond to multiple\n// logical lines, if those are connected by collapsed ranges.\nfunction LineView(doc, line, lineN) {\n  // The starting line\n  this.line = line\n  // Continuing lines, if any\n  this.rest = visualLineContinued(line)\n  // Number of logical lines in this visual line\n  this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1\n  this.node = this.text = null\n  this.hidden = lineIsHidden(doc, line)\n}\n\n// Create a range of LineView objects for the given lines.\nfunction buildViewArray(cm, from, to) {\n  var array = [], nextPos\n  for (var pos = from; pos < to; pos = nextPos) {\n    var view = new LineView(cm.doc, getLine(cm.doc, pos), pos)\n    nextPos = pos + view.size\n    array.push(view)\n  }\n  return array\n}\n\nvar operationGroup = null\n\nfunction pushOperation(op) {\n  if (operationGroup) {\n    operationGroup.ops.push(op)\n  } else {\n    op.ownsGroup = operationGroup = {\n      ops: [op],\n      delayedCallbacks: []\n    }\n  }\n}\n\nfunction fireCallbacksForOps(group) {\n  // Calls delayed callbacks and cursorActivity handlers until no\n  // new ones appear\n  var callbacks = group.delayedCallbacks, i = 0\n  do {\n    for (; i < callbacks.length; i++)\n      { callbacks[i].call(null) }\n    for (var j = 0; j < group.ops.length; j++) {\n      var op = group.ops[j]\n      if (op.cursorActivityHandlers)\n        { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n          { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm) } }\n    }\n  } while (i < callbacks.length)\n}\n\nfunction finishOperation(op, endCb) {\n  var group = op.ownsGroup\n  if (!group) { return }\n\n  try { fireCallbacksForOps(group) }\n  finally {\n    operationGroup = null\n    endCb(group)\n  }\n}\n\nvar orphanDelayedCallbacks = null\n\n// Often, we want to signal events at a point where we are in the\n// middle of some work, but don't want the handler to start calling\n// other methods on the editor, which might be in an inconsistent\n// state or simply not expect any other events to happen.\n// signalLater looks whether there are any handlers, and schedules\n// them to be executed when the last operation ends, or, if no\n// operation is active, when a timeout fires.\nfunction signalLater(emitter, type /*, values...*/) {\n  var arr = getHandlers(emitter, type)\n  if (!arr.length) { return }\n  var args = Array.prototype.slice.call(arguments, 2), list\n  if (operationGroup) {\n    list = operationGroup.delayedCallbacks\n  } else if (orphanDelayedCallbacks) {\n    list = orphanDelayedCallbacks\n  } else {\n    list = orphanDelayedCallbacks = []\n    setTimeout(fireOrphanDelayed, 0)\n  }\n  var loop = function ( i ) {\n    list.push(function () { return arr[i].apply(null, args); })\n  };\n\n  for (var i = 0; i < arr.length; ++i)\n    loop( i );\n}\n\nfunction fireOrphanDelayed() {\n  var delayed = orphanDelayedCallbacks\n  orphanDelayedCallbacks = null\n  for (var i = 0; i < delayed.length; ++i) { delayed[i]() }\n}\n\n// When an aspect of a line changes, a string is added to\n// lineView.changes. This updates the relevant part of the line's\n// DOM structure.\nfunction updateLineForChanges(cm, lineView, lineN, dims) {\n  for (var j = 0; j < lineView.changes.length; j++) {\n    var type = lineView.changes[j]\n    if (type == \"text\") { updateLineText(cm, lineView) }\n    else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims) }\n    else if (type == \"class\") { updateLineClasses(lineView) }\n    else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims) }\n  }\n  lineView.changes = null\n}\n\n// Lines with gutter elements, widgets or a background class need to\n// be wrapped, and have the extra elements added to the wrapper div\nfunction ensureLineWrapped(lineView) {\n  if (lineView.node == lineView.text) {\n    lineView.node = elt(\"div\", null, null, \"position: relative\")\n    if (lineView.text.parentNode)\n      { lineView.text.parentNode.replaceChild(lineView.node, lineView.text) }\n    lineView.node.appendChild(lineView.text)\n    if (ie && ie_version < 8) { lineView.node.style.zIndex = 2 }\n  }\n  return lineView.node\n}\n\nfunction updateLineBackground(lineView) {\n  var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass\n  if (cls) { cls += \" CodeMirror-linebackground\" }\n  if (lineView.background) {\n    if (cls) { lineView.background.className = cls }\n    else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null }\n  } else if (cls) {\n    var wrap = ensureLineWrapped(lineView)\n    lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild)\n  }\n}\n\n// Wrapper around buildLineContent which will reuse the structure\n// in display.externalMeasured when possible.\nfunction getLineContent(cm, lineView) {\n  var ext = cm.display.externalMeasured\n  if (ext && ext.line == lineView.line) {\n    cm.display.externalMeasured = null\n    lineView.measure = ext.measure\n    return ext.built\n  }\n  return buildLineContent(cm, lineView)\n}\n\n// Redraw the line's text. Interacts with the background and text\n// classes because the mode may output tokens that influence these\n// classes.\nfunction updateLineText(cm, lineView) {\n  var cls = lineView.text.className\n  var built = getLineContent(cm, lineView)\n  if (lineView.text == lineView.node) { lineView.node = built.pre }\n  lineView.text.parentNode.replaceChild(built.pre, lineView.text)\n  lineView.text = built.pre\n  if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n    lineView.bgClass = built.bgClass\n    lineView.textClass = built.textClass\n    updateLineClasses(lineView)\n  } else if (cls) {\n    lineView.text.className = cls\n  }\n}\n\nfunction updateLineClasses(lineView) {\n  updateLineBackground(lineView)\n  if (lineView.line.wrapClass)\n    { ensureLineWrapped(lineView).className = lineView.line.wrapClass }\n  else if (lineView.node != lineView.text)\n    { lineView.node.className = \"\" }\n  var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass\n  lineView.text.className = textClass || \"\"\n}\n\nfunction updateLineGutter(cm, lineView, lineN, dims) {\n  if (lineView.gutter) {\n    lineView.node.removeChild(lineView.gutter)\n    lineView.gutter = null\n  }\n  if (lineView.gutterBackground) {\n    lineView.node.removeChild(lineView.gutterBackground)\n    lineView.gutterBackground = null\n  }\n  if (lineView.line.gutterClass) {\n    var wrap = ensureLineWrapped(lineView)\n    lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                    (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"))\n    wrap.insertBefore(lineView.gutterBackground, lineView.text)\n  }\n  var markers = lineView.line.gutterMarkers\n  if (cm.options.lineNumbers || markers) {\n    var wrap$1 = ensureLineWrapped(lineView)\n    var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"))\n    cm.display.input.setUneditable(gutterWrap)\n    wrap$1.insertBefore(gutterWrap, lineView.text)\n    if (lineView.line.gutterClass)\n      { gutterWrap.className += \" \" + lineView.line.gutterClass }\n    if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n      { lineView.lineNumber = gutterWrap.appendChild(\n        elt(\"div\", lineNumberFor(cm.options, lineN),\n            \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n            (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))) }\n    if (markers) { for (var k = 0; k < cm.options.gutters.length; ++k) {\n      var id = cm.options.gutters[k], found = markers.hasOwnProperty(id) && markers[id]\n      if (found)\n        { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n                                   (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))) }\n    } }\n  }\n}\n\nfunction updateLineWidgets(cm, lineView, dims) {\n  if (lineView.alignable) { lineView.alignable = null }\n  for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\n    next = node.nextSibling\n    if (node.className == \"CodeMirror-linewidget\")\n      { lineView.node.removeChild(node) }\n  }\n  insertLineWidgets(cm, lineView, dims)\n}\n\n// Build a line's DOM representation from scratch\nfunction buildLineElement(cm, lineView, lineN, dims) {\n  var built = getLineContent(cm, lineView)\n  lineView.text = lineView.node = built.pre\n  if (built.bgClass) { lineView.bgClass = built.bgClass }\n  if (built.textClass) { lineView.textClass = built.textClass }\n\n  updateLineClasses(lineView)\n  updateLineGutter(cm, lineView, lineN, dims)\n  insertLineWidgets(cm, lineView, dims)\n  return lineView.node\n}\n\n// A lineView may contain multiple logical lines (when merged by\n// collapsed spans). The widgets for all of them need to be drawn.\nfunction insertLineWidgets(cm, lineView, dims) {\n  insertLineWidgetsFor(cm, lineView.line, lineView, dims, true)\n  if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n    { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false) } }\n}\n\nfunction insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n  if (!line.widgets) { return }\n  var wrap = ensureLineWrapped(lineView)\n  for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n    var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\")\n    if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\") }\n    positionLineWidget(widget, node, lineView, dims)\n    cm.display.input.setUneditable(node)\n    if (allowAbove && widget.above)\n      { wrap.insertBefore(node, lineView.gutter || lineView.text) }\n    else\n      { wrap.appendChild(node) }\n    signalLater(widget, \"redraw\")\n  }\n}\n\nfunction positionLineWidget(widget, node, lineView, dims) {\n  if (widget.noHScroll) {\n    ;(lineView.alignable || (lineView.alignable = [])).push(node)\n    var width = dims.wrapperWidth\n    node.style.left = dims.fixedPos + \"px\"\n    if (!widget.coverGutter) {\n      width -= dims.gutterTotalWidth\n      node.style.paddingLeft = dims.gutterTotalWidth + \"px\"\n    }\n    node.style.width = width + \"px\"\n  }\n  if (widget.coverGutter) {\n    node.style.zIndex = 5\n    node.style.position = \"relative\"\n    if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\" }\n  }\n}\n\nfunction widgetHeight(widget) {\n  if (widget.height != null) { return widget.height }\n  var cm = widget.doc.cm\n  if (!cm) { return 0 }\n  if (!contains(document.body, widget.node)) {\n    var parentStyle = \"position: relative;\"\n    if (widget.coverGutter)\n      { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\" }\n    if (widget.noHScroll)\n      { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\" }\n    removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle))\n  }\n  return widget.height = widget.node.parentNode.offsetHeight\n}\n\n// Return true when the given mouse event happened in a widget\nfunction eventInWidget(display, e) {\n  for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n    if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n        (n.parentNode == display.sizer && n != display.mover))\n      { return true }\n  }\n}\n\n// POSITION MEASUREMENT\n\nfunction paddingTop(display) {return display.lineSpace.offsetTop}\nfunction paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\nfunction paddingH(display) {\n  if (display.cachedPaddingH) { return display.cachedPaddingH }\n  var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\"))\n  var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle\n  var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)}\n  if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data }\n  return data\n}\n\nfunction scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\nfunction displayWidth(cm) {\n  return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n}\nfunction displayHeight(cm) {\n  return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n}\n\n// Ensure the lineView.wrapping.heights array is populated. This is\n// an array of bottom offsets for the lines that make up a drawn\n// line. When lineWrapping is on, there might be more than one\n// height.\nfunction ensureLineHeights(cm, lineView, rect) {\n  var wrapping = cm.options.lineWrapping\n  var curWidth = wrapping && displayWidth(cm)\n  if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n    var heights = lineView.measure.heights = []\n    if (wrapping) {\n      lineView.measure.width = curWidth\n      var rects = lineView.text.firstChild.getClientRects()\n      for (var i = 0; i < rects.length - 1; i++) {\n        var cur = rects[i], next = rects[i + 1]\n        if (Math.abs(cur.bottom - next.bottom) > 2)\n          { heights.push((cur.bottom + next.top) / 2 - rect.top) }\n      }\n    }\n    heights.push(rect.bottom - rect.top)\n  }\n}\n\n// Find a line map (mapping character offsets to text nodes) and a\n// measurement cache for the given line number. (A line view might\n// contain multiple lines when collapsed ranges are present.)\nfunction mapFromLineView(lineView, line, lineN) {\n  if (lineView.line == line)\n    { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n  for (var i = 0; i < lineView.rest.length; i++)\n    { if (lineView.rest[i] == line)\n      { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n  for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n    { if (lineNo(lineView.rest[i$1]) > lineN)\n      { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n}\n\n// Render a line into the hidden node display.externalMeasured. Used\n// when measurement is needed for a line that's not in the viewport.\nfunction updateExternalMeasurement(cm, line) {\n  line = visualLine(line)\n  var lineN = lineNo(line)\n  var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN)\n  view.lineN = lineN\n  var built = view.built = buildLineContent(cm, view)\n  view.text = built.pre\n  removeChildrenAndAdd(cm.display.lineMeasure, built.pre)\n  return view\n}\n\n// Get a {top, bottom, left, right} box (in line-local coordinates)\n// for a given character.\nfunction measureChar(cm, line, ch, bias) {\n  return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n}\n\n// Find a line view that corresponds to the given line number.\nfunction findViewForLine(cm, lineN) {\n  if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n    { return cm.display.view[findViewIndex(cm, lineN)] }\n  var ext = cm.display.externalMeasured\n  if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n    { return ext }\n}\n\n// Measurement can be split in two steps, the set-up work that\n// applies to the whole line, and the measurement of the actual\n// character. Functions like coordsChar, that need to do a lot of\n// measurements in a row, can thus ensure that the set-up work is\n// only done once.\nfunction prepareMeasureForLine(cm, line) {\n  var lineN = lineNo(line)\n  var view = findViewForLine(cm, lineN)\n  if (view && !view.text) {\n    view = null\n  } else if (view && view.changes) {\n    updateLineForChanges(cm, view, lineN, getDimensions(cm))\n    cm.curOp.forceUpdate = true\n  }\n  if (!view)\n    { view = updateExternalMeasurement(cm, line) }\n\n  var info = mapFromLineView(view, line, lineN)\n  return {\n    line: line, view: view, rect: null,\n    map: info.map, cache: info.cache, before: info.before,\n    hasHeights: false\n  }\n}\n\n// Given a prepared measurement object, measures the position of an\n// actual character (or fetches it from the cache).\nfunction measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n  if (prepared.before) { ch = -1 }\n  var key = ch + (bias || \"\"), found\n  if (prepared.cache.hasOwnProperty(key)) {\n    found = prepared.cache[key]\n  } else {\n    if (!prepared.rect)\n      { prepared.rect = prepared.view.text.getBoundingClientRect() }\n    if (!prepared.hasHeights) {\n      ensureLineHeights(cm, prepared.view, prepared.rect)\n      prepared.hasHeights = true\n    }\n    found = measureCharInner(cm, prepared, ch, bias)\n    if (!found.bogus) { prepared.cache[key] = found }\n  }\n  return {left: found.left, right: found.right,\n          top: varHeight ? found.rtop : found.top,\n          bottom: varHeight ? found.rbottom : found.bottom}\n}\n\nvar nullRect = {left: 0, right: 0, top: 0, bottom: 0}\n\nfunction nodeAndOffsetInLineMap(map, ch, bias) {\n  var node, start, end, collapse, mStart, mEnd\n  // First, search the line map for the text node corresponding to,\n  // or closest to, the target character.\n  for (var i = 0; i < map.length; i += 3) {\n    mStart = map[i]\n    mEnd = map[i + 1]\n    if (ch < mStart) {\n      start = 0; end = 1\n      collapse = \"left\"\n    } else if (ch < mEnd) {\n      start = ch - mStart\n      end = start + 1\n    } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\n      end = mEnd - mStart\n      start = end - 1\n      if (ch >= mEnd) { collapse = \"right\" }\n    }\n    if (start != null) {\n      node = map[i + 2]\n      if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n        { collapse = bias }\n      if (bias == \"left\" && start == 0)\n        { while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\n          node = map[(i -= 3) + 2]\n          collapse = \"left\"\n        } }\n      if (bias == \"right\" && start == mEnd - mStart)\n        { while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\n          node = map[(i += 3) + 2]\n          collapse = \"right\"\n        } }\n      break\n    }\n  }\n  return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n}\n\nfunction getUsefulRect(rects, bias) {\n  var rect = nullRect\n  if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n    if ((rect = rects[i]).left != rect.right) { break }\n  } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n    if ((rect = rects[i$1]).left != rect.right) { break }\n  } }\n  return rect\n}\n\nfunction measureCharInner(cm, prepared, ch, bias) {\n  var place = nodeAndOffsetInLineMap(prepared.map, ch, bias)\n  var node = place.node, start = place.start, end = place.end, collapse = place.collapse\n\n  var rect\n  if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n    for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n      while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start }\n      while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end }\n      if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n        { rect = node.parentNode.getBoundingClientRect() }\n      else\n        { rect = getUsefulRect(range(node, start, end).getClientRects(), bias) }\n      if (rect.left || rect.right || start == 0) { break }\n      end = start\n      start = start - 1\n      collapse = \"right\"\n    }\n    if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect) }\n  } else { // If it is a widget, simply get the box for the whole widget.\n    if (start > 0) { collapse = bias = \"right\" }\n    var rects\n    if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n      { rect = rects[bias == \"right\" ? rects.length - 1 : 0] }\n    else\n      { rect = node.getBoundingClientRect() }\n  }\n  if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n    var rSpan = node.parentNode.getClientRects()[0]\n    if (rSpan)\n      { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom} }\n    else\n      { rect = nullRect }\n  }\n\n  var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top\n  var mid = (rtop + rbot) / 2\n  var heights = prepared.view.measure.heights\n  var i = 0\n  for (; i < heights.length - 1; i++)\n    { if (mid < heights[i]) { break } }\n  var top = i ? heights[i - 1] : 0, bot = heights[i]\n  var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                top: top, bottom: bot}\n  if (!rect.left && !rect.right) { result.bogus = true }\n  if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot }\n\n  return result\n}\n\n// Work around problem with bounding client rects on ranges being\n// returned incorrectly when zoomed on IE10 and below.\nfunction maybeUpdateRectForZooming(measure, rect) {\n  if (!window.screen || screen.logicalXDPI == null ||\n      screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n    { return rect }\n  var scaleX = screen.logicalXDPI / screen.deviceXDPI\n  var scaleY = screen.logicalYDPI / screen.deviceYDPI\n  return {left: rect.left * scaleX, right: rect.right * scaleX,\n          top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n}\n\nfunction clearLineMeasurementCacheFor(lineView) {\n  if (lineView.measure) {\n    lineView.measure.cache = {}\n    lineView.measure.heights = null\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n      { lineView.measure.caches[i] = {} } }\n  }\n}\n\nfunction clearLineMeasurementCache(cm) {\n  cm.display.externalMeasure = null\n  removeChildren(cm.display.lineMeasure)\n  for (var i = 0; i < cm.display.view.length; i++)\n    { clearLineMeasurementCacheFor(cm.display.view[i]) }\n}\n\nfunction clearCaches(cm) {\n  clearLineMeasurementCache(cm)\n  cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null\n  if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true }\n  cm.display.lineNumChars = null\n}\n\nfunction pageScrollX() { return window.pageXOffset || (document.documentElement || document.body).scrollLeft }\nfunction pageScrollY() { return window.pageYOffset || (document.documentElement || document.body).scrollTop }\n\n// Converts a {top, bottom, left, right} box from line-local\n// coordinates into another coordinate system. Context may be one of\n// \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n// or \"page\".\nfunction intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n  if (!includeWidgets && lineObj.widgets) { for (var i = 0; i < lineObj.widgets.length; ++i) { if (lineObj.widgets[i].above) {\n    var size = widgetHeight(lineObj.widgets[i])\n    rect.top += size; rect.bottom += size\n  } } }\n  if (context == \"line\") { return rect }\n  if (!context) { context = \"local\" }\n  var yOff = heightAtLine(lineObj)\n  if (context == \"local\") { yOff += paddingTop(cm.display) }\n  else { yOff -= cm.display.viewOffset }\n  if (context == \"page\" || context == \"window\") {\n    var lOff = cm.display.lineSpace.getBoundingClientRect()\n    yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY())\n    var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX())\n    rect.left += xOff; rect.right += xOff\n  }\n  rect.top += yOff; rect.bottom += yOff\n  return rect\n}\n\n// Coverts a box from \"div\" coords to another coordinate system.\n// Context may be \"window\", \"page\", \"div\", or \"local\"./null.\nfunction fromCoordSystem(cm, coords, context) {\n  if (context == \"div\") { return coords }\n  var left = coords.left, top = coords.top\n  // First move into \"page\" coordinate system\n  if (context == \"page\") {\n    left -= pageScrollX()\n    top -= pageScrollY()\n  } else if (context == \"local\" || !context) {\n    var localBox = cm.display.sizer.getBoundingClientRect()\n    left += localBox.left\n    top += localBox.top\n  }\n\n  var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect()\n  return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n}\n\nfunction charCoords(cm, pos, context, lineObj, bias) {\n  if (!lineObj) { lineObj = getLine(cm.doc, pos.line) }\n  return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n}\n\n// Returns a box for a given cursor position, which may have an\n// 'other' property containing the position of the secondary cursor\n// on a bidi boundary.\n// A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n// and after `char - 1` in writing order of `char - 1`\n// A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n// and before `char` in writing order of `char`\n// Examples (upper-case letters are RTL, lower-case are LTR):\n//     Pos(0, 1, ...)\n//     before   after\n// ab     a|b     a|b\n// aB     a|B     aB|\n// Ab     |Ab     A|b\n// AB     B|A     B|A\n// Every position after the last character on a line is considered to stick\n// to the last character on the line.\nfunction cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n  lineObj = lineObj || getLine(cm.doc, pos.line)\n  if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj) }\n  function get(ch, right) {\n    var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight)\n    if (right) { m.left = m.right; } else { m.right = m.left }\n    return intoCoordSystem(cm, lineObj, m, context)\n  }\n  var order = getOrder(lineObj), ch = pos.ch, sticky = pos.sticky\n  if (ch >= lineObj.text.length) {\n    ch = lineObj.text.length\n    sticky = \"before\"\n  } else if (ch <= 0) {\n    ch = 0\n    sticky = \"after\"\n  }\n  if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\n\n  function getBidi(ch, partPos, invert) {\n    var part = order[partPos], right = (part.level % 2) != 0\n    return get(invert ? ch - 1 : ch, right != invert)\n  }\n  var partPos = getBidiPartAt(order, ch, sticky)\n  var other = bidiOther\n  var val = getBidi(ch, partPos, sticky == \"before\")\n  if (other != null) { val.other = getBidi(ch, other, sticky != \"before\") }\n  return val\n}\n\n// Used to cheaply estimate the coordinates for a position. Used for\n// intermediate scroll updates.\nfunction estimateCoords(cm, pos) {\n  var left = 0\n  pos = clipPos(cm.doc, pos)\n  if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch }\n  var lineObj = getLine(cm.doc, pos.line)\n  var top = heightAtLine(lineObj) + paddingTop(cm.display)\n  return {left: left, right: left, top: top, bottom: top + lineObj.height}\n}\n\n// Positions returned by coordsChar contain some extra information.\n// xRel is the relative x position of the input coordinates compared\n// to the found position (so xRel > 0 means the coordinates are to\n// the right of the character position, for example). When outside\n// is true, that means the coordinates lie outside the line's\n// vertical range.\nfunction PosWithInfo(line, ch, sticky, outside, xRel) {\n  var pos = Pos(line, ch, sticky)\n  pos.xRel = xRel\n  if (outside) { pos.outside = true }\n  return pos\n}\n\n// Compute the character position closest to the given coordinates.\n// Input must be lineSpace-local (\"div\" coordinate system).\nfunction coordsChar(cm, x, y) {\n  var doc = cm.doc\n  y += cm.display.viewOffset\n  if (y < 0) { return PosWithInfo(doc.first, 0, null, true, -1) }\n  var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1\n  if (lineN > last)\n    { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, true, 1) }\n  if (x < 0) { x = 0 }\n\n  var lineObj = getLine(doc, lineN)\n  for (;;) {\n    var found = coordsCharInner(cm, lineObj, lineN, x, y)\n    var merged = collapsedSpanAtEnd(lineObj)\n    var mergedPos = merged && merged.find(0, true)\n    if (merged && (found.ch > mergedPos.from.ch || found.ch == mergedPos.from.ch && found.xRel > 0))\n      { lineN = lineNo(lineObj = mergedPos.to.line) }\n    else\n      { return found }\n  }\n}\n\nfunction wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n  var measure = function (ch) { return intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, ch), \"line\"); }\n  var end = lineObj.text.length\n  var begin = findFirst(function (ch) { return measure(ch - 1).bottom <= y; }, end, 0)\n  end = findFirst(function (ch) { return measure(ch).top > y; }, begin, end)\n  return {begin: begin, end: end}\n}\n\nfunction wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n  var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top\n  return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\n}\n\nfunction coordsCharInner(cm, lineObj, lineNo, x, y) {\n  y -= heightAtLine(lineObj)\n  var begin = 0, end = lineObj.text.length\n  var preparedMeasure = prepareMeasureForLine(cm, lineObj)\n  var pos\n  var order = getOrder(lineObj)\n  if (order) {\n    if (cm.options.lineWrapping) {\n      ;var assign;\n      ((assign = wrappedLineExtent(cm, lineObj, preparedMeasure, y), begin = assign.begin, end = assign.end, assign))\n    }\n    pos = new Pos(lineNo, begin)\n    var beginLeft = cursorCoords(cm, pos, \"line\", lineObj, preparedMeasure).left\n    var dir = beginLeft < x ? 1 : -1\n    var prevDiff, diff = beginLeft - x, prevPos\n    do {\n      prevDiff = diff\n      prevPos = pos\n      pos = moveVisually(cm, lineObj, pos, dir)\n      if (pos == null || pos.ch < begin || end <= (pos.sticky == \"before\" ? pos.ch - 1 : pos.ch)) {\n        pos = prevPos\n        break\n      }\n      diff = cursorCoords(cm, pos, \"line\", lineObj, preparedMeasure).left - x\n    } while ((dir < 0) != (diff < 0) && (Math.abs(diff) <= Math.abs(prevDiff)))\n    if (Math.abs(diff) > Math.abs(prevDiff)) {\n      if ((diff < 0) == (prevDiff < 0)) { throw new Error(\"Broke out of infinite loop in coordsCharInner\") }\n      pos = prevPos\n    }\n  } else {\n    var ch = findFirst(function (ch) {\n      var box = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, ch), \"line\")\n      if (box.top > y) {\n        // For the cursor stickiness\n        end = Math.min(ch, end)\n        return true\n      }\n      else if (box.bottom <= y) { return false }\n      else if (box.left > x) { return true }\n      else if (box.right < x) { return false }\n      else { return (x - box.left < box.right - x) }\n    }, begin, end)\n    ch = skipExtendingChars(lineObj.text, ch, 1)\n    pos = new Pos(lineNo, ch, ch == end ? \"before\" : \"after\")\n  }\n  var coords = cursorCoords(cm, pos, \"line\", lineObj, preparedMeasure)\n  if (y < coords.top || coords.bottom < y) { pos.outside = true }\n  pos.xRel = x < coords.left ? -1 : (x > coords.right ? 1 : 0)\n  return pos\n}\n\nvar measureText\n// Compute the default text height.\nfunction textHeight(display) {\n  if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n  if (measureText == null) {\n    measureText = elt(\"pre\")\n    // Measure a bunch of lines, for browsers that compute\n    // fractional heights.\n    for (var i = 0; i < 49; ++i) {\n      measureText.appendChild(document.createTextNode(\"x\"))\n      measureText.appendChild(elt(\"br\"))\n    }\n    measureText.appendChild(document.createTextNode(\"x\"))\n  }\n  removeChildrenAndAdd(display.measure, measureText)\n  var height = measureText.offsetHeight / 50\n  if (height > 3) { display.cachedTextHeight = height }\n  removeChildren(display.measure)\n  return height || 1\n}\n\n// Compute the default character width.\nfunction charWidth(display) {\n  if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n  var anchor = elt(\"span\", \"xxxxxxxxxx\")\n  var pre = elt(\"pre\", [anchor])\n  removeChildrenAndAdd(display.measure, pre)\n  var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10\n  if (width > 2) { display.cachedCharWidth = width }\n  return width || 10\n}\n\n// Do a bulk-read of the DOM positions and sizes needed to draw the\n// view, so that we don't interleave reading and writing to the DOM.\nfunction getDimensions(cm) {\n  var d = cm.display, left = {}, width = {}\n  var gutterLeft = d.gutters.clientLeft\n  for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n    left[cm.options.gutters[i]] = n.offsetLeft + n.clientLeft + gutterLeft\n    width[cm.options.gutters[i]] = n.clientWidth\n  }\n  return {fixedPos: compensateForHScroll(d),\n          gutterTotalWidth: d.gutters.offsetWidth,\n          gutterLeft: left,\n          gutterWidth: width,\n          wrapperWidth: d.wrapper.clientWidth}\n}\n\n// Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n// but using getBoundingClientRect to get a sub-pixel-accurate\n// result.\nfunction compensateForHScroll(display) {\n  return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n}\n\n// Returns a function that estimates the height of a line, to use as\n// first approximation until the line becomes visible (and is thus\n// properly measurable).\nfunction estimateHeight(cm) {\n  var th = textHeight(cm.display), wrapping = cm.options.lineWrapping\n  var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3)\n  return function (line) {\n    if (lineIsHidden(cm.doc, line)) { return 0 }\n\n    var widgetsHeight = 0\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n      if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height }\n    } }\n\n    if (wrapping)\n      { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\n    else\n      { return widgetsHeight + th }\n  }\n}\n\nfunction estimateLineHeights(cm) {\n  var doc = cm.doc, est = estimateHeight(cm)\n  doc.iter(function (line) {\n    var estHeight = est(line)\n    if (estHeight != line.height) { updateLineHeight(line, estHeight) }\n  })\n}\n\n// Given a mouse event, find the corresponding position. If liberal\n// is false, it checks whether a gutter or scrollbar was clicked,\n// and returns null if it was. forRect is used by rectangular\n// selections, and tries to estimate a character position even for\n// coordinates beyond the right of the text.\nfunction posFromMouse(cm, e, liberal, forRect) {\n  var display = cm.display\n  if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n  var x, y, space = display.lineSpace.getBoundingClientRect()\n  // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n  try { x = e.clientX - space.left; y = e.clientY - space.top }\n  catch (e) { return null }\n  var coords = coordsChar(cm, x, y), line\n  if (forRect && coords.xRel == 1 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n    var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length\n    coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff))\n  }\n  return coords\n}\n\n// Find the view element corresponding to a given line. Return null\n// when the line isn't visible.\nfunction findViewIndex(cm, n) {\n  if (n >= cm.display.viewTo) { return null }\n  n -= cm.display.viewFrom\n  if (n < 0) { return null }\n  var view = cm.display.view\n  for (var i = 0; i < view.length; i++) {\n    n -= view[i].size\n    if (n < 0) { return i }\n  }\n}\n\nfunction updateSelection(cm) {\n  cm.display.input.showSelection(cm.display.input.prepareSelection())\n}\n\nfunction prepareSelection(cm, primary) {\n  var doc = cm.doc, result = {}\n  var curFragment = result.cursors = document.createDocumentFragment()\n  var selFragment = result.selection = document.createDocumentFragment()\n\n  for (var i = 0; i < doc.sel.ranges.length; i++) {\n    if (primary === false && i == doc.sel.primIndex) { continue }\n    var range = doc.sel.ranges[i]\n    if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) { continue }\n    var collapsed = range.empty()\n    if (collapsed || cm.options.showCursorWhenSelecting)\n      { drawSelectionCursor(cm, range.head, curFragment) }\n    if (!collapsed)\n      { drawSelectionRange(cm, range, selFragment) }\n  }\n  return result\n}\n\n// Draws a cursor for the given range\nfunction drawSelectionCursor(cm, head, output) {\n  var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine)\n\n  var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"))\n  cursor.style.left = pos.left + \"px\"\n  cursor.style.top = pos.top + \"px\"\n  cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\"\n\n  if (pos.other) {\n    // Secondary cursor, shown when on a 'jump' in bi-directional text\n    var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"))\n    otherCursor.style.display = \"\"\n    otherCursor.style.left = pos.other.left + \"px\"\n    otherCursor.style.top = pos.other.top + \"px\"\n    otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\"\n  }\n}\n\n// Draws the given range as a highlighted selection\nfunction drawSelectionRange(cm, range, output) {\n  var display = cm.display, doc = cm.doc\n  var fragment = document.createDocumentFragment()\n  var padding = paddingH(cm.display), leftSide = padding.left\n  var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right\n\n  function add(left, top, width, bottom) {\n    if (top < 0) { top = 0 }\n    top = Math.round(top)\n    bottom = Math.round(bottom)\n    fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")))\n  }\n\n  function drawForLine(line, fromArg, toArg) {\n    var lineObj = getLine(doc, line)\n    var lineLen = lineObj.text.length\n    var start, end\n    function coords(ch, bias) {\n      return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n    }\n\n    iterateBidiSections(getOrder(lineObj), fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir) {\n      var leftPos = coords(from, \"left\"), rightPos, left, right\n      if (from == to) {\n        rightPos = leftPos\n        left = right = leftPos.left\n      } else {\n        rightPos = coords(to - 1, \"right\")\n        if (dir == \"rtl\") { var tmp = leftPos; leftPos = rightPos; rightPos = tmp }\n        left = leftPos.left\n        right = rightPos.right\n      }\n      if (fromArg == null && from == 0) { left = leftSide }\n      if (rightPos.top - leftPos.top > 3) { // Different lines, draw top part\n        add(left, leftPos.top, null, leftPos.bottom)\n        left = leftSide\n        if (leftPos.bottom < rightPos.top) { add(left, leftPos.bottom, null, rightPos.top) }\n      }\n      if (toArg == null && to == lineLen) { right = rightSide }\n      if (!start || leftPos.top < start.top || leftPos.top == start.top && leftPos.left < start.left)\n        { start = leftPos }\n      if (!end || rightPos.bottom > end.bottom || rightPos.bottom == end.bottom && rightPos.right > end.right)\n        { end = rightPos }\n      if (left < leftSide + 1) { left = leftSide }\n      add(left, rightPos.top, right - left, rightPos.bottom)\n    })\n    return {start: start, end: end}\n  }\n\n  var sFrom = range.from(), sTo = range.to()\n  if (sFrom.line == sTo.line) {\n    drawForLine(sFrom.line, sFrom.ch, sTo.ch)\n  } else {\n    var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line)\n    var singleVLine = visualLine(fromLine) == visualLine(toLine)\n    var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end\n    var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start\n    if (singleVLine) {\n      if (leftEnd.top < rightStart.top - 2) {\n        add(leftEnd.right, leftEnd.top, null, leftEnd.bottom)\n        add(leftSide, rightStart.top, rightStart.left, rightStart.bottom)\n      } else {\n        add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom)\n      }\n    }\n    if (leftEnd.bottom < rightStart.top)\n      { add(leftSide, leftEnd.bottom, null, rightStart.top) }\n  }\n\n  output.appendChild(fragment)\n}\n\n// Cursor-blinking\nfunction restartBlink(cm) {\n  if (!cm.state.focused) { return }\n  var display = cm.display\n  clearInterval(display.blinker)\n  var on = true\n  display.cursorDiv.style.visibility = \"\"\n  if (cm.options.cursorBlinkRate > 0)\n    { display.blinker = setInterval(function () { return display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\"; },\n      cm.options.cursorBlinkRate) }\n  else if (cm.options.cursorBlinkRate < 0)\n    { display.cursorDiv.style.visibility = \"hidden\" }\n}\n\nfunction ensureFocus(cm) {\n  if (!cm.state.focused) { cm.display.input.focus(); onFocus(cm) }\n}\n\nfunction delayBlurEvent(cm) {\n  cm.state.delayingBlurEvent = true\n  setTimeout(function () { if (cm.state.delayingBlurEvent) {\n    cm.state.delayingBlurEvent = false\n    onBlur(cm)\n  } }, 100)\n}\n\nfunction onFocus(cm, e) {\n  if (cm.state.delayingBlurEvent) { cm.state.delayingBlurEvent = false }\n\n  if (cm.options.readOnly == \"nocursor\") { return }\n  if (!cm.state.focused) {\n    signal(cm, \"focus\", cm, e)\n    cm.state.focused = true\n    addClass(cm.display.wrapper, \"CodeMirror-focused\")\n    // This test prevents this from firing when a context\n    // menu is closed (since the input reset would kill the\n    // select-all detection hack)\n    if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n      cm.display.input.reset()\n      if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20) } // Issue #1730\n    }\n    cm.display.input.receivedFocus()\n  }\n  restartBlink(cm)\n}\nfunction onBlur(cm, e) {\n  if (cm.state.delayingBlurEvent) { return }\n\n  if (cm.state.focused) {\n    signal(cm, \"blur\", cm, e)\n    cm.state.focused = false\n    rmClass(cm.display.wrapper, \"CodeMirror-focused\")\n  }\n  clearInterval(cm.display.blinker)\n  setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false } }, 150)\n}\n\n// Re-align line numbers and gutter marks to compensate for\n// horizontal scrolling.\nfunction alignHorizontally(cm) {\n  var display = cm.display, view = display.view\n  if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n  var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft\n  var gutterW = display.gutters.offsetWidth, left = comp + \"px\"\n  for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n    if (cm.options.fixedGutter) {\n      if (view[i].gutter)\n        { view[i].gutter.style.left = left }\n      if (view[i].gutterBackground)\n        { view[i].gutterBackground.style.left = left }\n    }\n    var align = view[i].alignable\n    if (align) { for (var j = 0; j < align.length; j++)\n      { align[j].style.left = left } }\n  } }\n  if (cm.options.fixedGutter)\n    { display.gutters.style.left = (comp + gutterW) + \"px\" }\n}\n\n// Used to ensure that the line number gutter is still the right\n// size for the current document size. Returns true when an update\n// is needed.\nfunction maybeUpdateLineNumberWidth(cm) {\n  if (!cm.options.lineNumbers) { return false }\n  var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display\n  if (last.length != display.lineNumChars) {\n    var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                               \"CodeMirror-linenumber CodeMirror-gutter-elt\"))\n    var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW\n    display.lineGutter.style.width = \"\"\n    display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1\n    display.lineNumWidth = display.lineNumInnerWidth + padding\n    display.lineNumChars = display.lineNumInnerWidth ? last.length : -1\n    display.lineGutter.style.width = display.lineNumWidth + \"px\"\n    updateGutterSpace(cm)\n    return true\n  }\n  return false\n}\n\n// Read the actual heights of the rendered lines, and update their\n// stored heights to match.\nfunction updateHeightsInViewport(cm) {\n  var display = cm.display\n  var prevBottom = display.lineDiv.offsetTop\n  for (var i = 0; i < display.view.length; i++) {\n    var cur = display.view[i], height = (void 0)\n    if (cur.hidden) { continue }\n    if (ie && ie_version < 8) {\n      var bot = cur.node.offsetTop + cur.node.offsetHeight\n      height = bot - prevBottom\n      prevBottom = bot\n    } else {\n      var box = cur.node.getBoundingClientRect()\n      height = box.bottom - box.top\n    }\n    var diff = cur.line.height - height\n    if (height < 2) { height = textHeight(display) }\n    if (diff > .001 || diff < -.001) {\n      updateLineHeight(cur.line, height)\n      updateWidgetHeight(cur.line)\n      if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n        { updateWidgetHeight(cur.rest[j]) } }\n    }\n  }\n}\n\n// Read and store the height of line widgets associated with the\n// given line.\nfunction updateWidgetHeight(line) {\n  if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i)\n    { line.widgets[i].height = line.widgets[i].node.parentNode.offsetHeight } }\n}\n\n// Compute the lines that are visible in a given viewport (defaults\n// the the current scroll position). viewport may contain top,\n// height, and ensure (see op.scrollToPos) properties.\nfunction visibleLines(display, doc, viewport) {\n  var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop\n  top = Math.floor(top - paddingTop(display))\n  var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight\n\n  var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom)\n  // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n  // forces those lines into the viewport (if possible).\n  if (viewport && viewport.ensure) {\n    var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line\n    if (ensureFrom < from) {\n      from = ensureFrom\n      to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight)\n    } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n      from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight)\n      to = ensureTo\n    }\n  }\n  return {from: from, to: Math.max(to, from + 1)}\n}\n\n// Sync the scrollable area and scrollbars, ensure the viewport\n// covers the visible area.\nfunction setScrollTop(cm, val) {\n  if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n  cm.doc.scrollTop = val\n  if (!gecko) { updateDisplaySimple(cm, {top: val}) }\n  if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val }\n  cm.display.scrollbars.setScrollTop(val)\n  if (gecko) { updateDisplaySimple(cm) }\n  startWorker(cm, 100)\n}\n// Sync scroller and scrollbar, ensure the gutter elements are\n// aligned.\nfunction setScrollLeft(cm, val, isScroller) {\n  if (isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) { return }\n  val = Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth)\n  cm.doc.scrollLeft = val\n  alignHorizontally(cm)\n  if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val }\n  cm.display.scrollbars.setScrollLeft(val)\n}\n\n// Since the delta values reported on mouse wheel events are\n// unstandardized between browsers and even browser versions, and\n// generally horribly unpredictable, this code starts by measuring\n// the scroll effect that the first few mouse wheel events have,\n// and, from that, detects the way it can convert deltas to pixel\n// offsets afterwards.\n//\n// The reason we want to know the amount a wheel event will scroll\n// is that it gives us a chance to update the display before the\n// actual scrolling happens, reducing flickering.\n\nvar wheelSamples = 0;\nvar wheelPixelsPerUnit = null;\n// Fill in a browser-detected starting value on browsers where we\n// know one. These don't have to be accurate -- the result of them\n// being wrong would just be a slight flicker on the first wheel\n// scroll (if it is large enough).\nif (ie) { wheelPixelsPerUnit = -.53 }\nelse if (gecko) { wheelPixelsPerUnit = 15 }\nelse if (chrome) { wheelPixelsPerUnit = -.7 }\nelse if (safari) { wheelPixelsPerUnit = -1/3 }\n\nfunction wheelEventDelta(e) {\n  var dx = e.wheelDeltaX, dy = e.wheelDeltaY\n  if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail }\n  if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail }\n  else if (dy == null) { dy = e.wheelDelta }\n  return {x: dx, y: dy}\n}\nfunction wheelEventPixels(e) {\n  var delta = wheelEventDelta(e)\n  delta.x *= wheelPixelsPerUnit\n  delta.y *= wheelPixelsPerUnit\n  return delta\n}\n\nfunction onScrollWheel(cm, e) {\n  var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y\n\n  var display = cm.display, scroll = display.scroller\n  // Quit if there's nothing to scroll here\n  var canScrollX = scroll.scrollWidth > scroll.clientWidth\n  var canScrollY = scroll.scrollHeight > scroll.clientHeight\n  if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n  // Webkit browsers on OS X abort momentum scrolls when the target\n  // of the scroll event is removed from the scrollable element.\n  // This hack (see related code in patchDisplay) makes sure the\n  // element is kept around.\n  if (dy && mac && webkit) {\n    outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n      for (var i = 0; i < view.length; i++) {\n        if (view[i].node == cur) {\n          cm.display.currentWheelTarget = cur\n          break outer\n        }\n      }\n    }\n  }\n\n  // On some browsers, horizontal scrolling will cause redraws to\n  // happen before the gutter has been realigned, causing it to\n  // wriggle around in a most unseemly way. When we have an\n  // estimated pixels/delta value, we just handle horizontal\n  // scrolling entirely here. It'll be slightly off from native, but\n  // better than glitching out.\n  if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n    if (dy && canScrollY)\n      { setScrollTop(cm, Math.max(0, Math.min(scroll.scrollTop + dy * wheelPixelsPerUnit, scroll.scrollHeight - scroll.clientHeight))) }\n    setScrollLeft(cm, Math.max(0, Math.min(scroll.scrollLeft + dx * wheelPixelsPerUnit, scroll.scrollWidth - scroll.clientWidth)))\n    // Only prevent default scrolling if vertical scrolling is\n    // actually possible. Otherwise, it causes vertical scroll\n    // jitter on OSX trackpads when deltaX is small and deltaY\n    // is large (issue #3579)\n    if (!dy || (dy && canScrollY))\n      { e_preventDefault(e) }\n    display.wheelStartX = null // Abort measurement, if in progress\n    return\n  }\n\n  // 'Project' the visible viewport to cover the area that is being\n  // scrolled into view (if we know enough to estimate it).\n  if (dy && wheelPixelsPerUnit != null) {\n    var pixels = dy * wheelPixelsPerUnit\n    var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight\n    if (pixels < 0) { top = Math.max(0, top + pixels - 50) }\n    else { bot = Math.min(cm.doc.height, bot + pixels + 50) }\n    updateDisplaySimple(cm, {top: top, bottom: bot})\n  }\n\n  if (wheelSamples < 20) {\n    if (display.wheelStartX == null) {\n      display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop\n      display.wheelDX = dx; display.wheelDY = dy\n      setTimeout(function () {\n        if (display.wheelStartX == null) { return }\n        var movedX = scroll.scrollLeft - display.wheelStartX\n        var movedY = scroll.scrollTop - display.wheelStartY\n        var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n          (movedX && display.wheelDX && movedX / display.wheelDX)\n        display.wheelStartX = display.wheelStartY = null\n        if (!sample) { return }\n        wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1)\n        ++wheelSamples\n      }, 200)\n    } else {\n      display.wheelDX += dx; display.wheelDY += dy\n    }\n  }\n}\n\n// SCROLLBARS\n\n// Prepare DOM reads needed to update the scrollbars. Done in one\n// shot to minimize update/measure roundtrips.\nfunction measureForScrollbars(cm) {\n  var d = cm.display, gutterW = d.gutters.offsetWidth\n  var docH = Math.round(cm.doc.height + paddingVert(cm.display))\n  return {\n    clientHeight: d.scroller.clientHeight,\n    viewHeight: d.wrapper.clientHeight,\n    scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n    viewWidth: d.wrapper.clientWidth,\n    barLeft: cm.options.fixedGutter ? gutterW : 0,\n    docHeight: docH,\n    scrollHeight: docH + scrollGap(cm) + d.barHeight,\n    nativeBarWidth: d.nativeBarWidth,\n    gutterWidth: gutterW\n  }\n}\n\nvar NativeScrollbars = function(place, scroll, cm) {\n  this.cm = cm\n  var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\")\n  var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\")\n  place(vert); place(horiz)\n\n  on(vert, \"scroll\", function () {\n    if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\") }\n  })\n  on(horiz, \"scroll\", function () {\n    if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\") }\n  })\n\n  this.checkedZeroWidth = false\n  // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n  if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\" }\n};\n\nNativeScrollbars.prototype.update = function (measure) {\n  var needsH = measure.scrollWidth > measure.clientWidth + 1\n  var needsV = measure.scrollHeight > measure.clientHeight + 1\n  var sWidth = measure.nativeBarWidth\n\n  if (needsV) {\n    this.vert.style.display = \"block\"\n    this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\"\n    var totalHeight = measure.viewHeight - (needsH ? sWidth : 0)\n    // A bug in IE8 can cause this value to be negative, so guard it.\n    this.vert.firstChild.style.height =\n      Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\"\n  } else {\n    this.vert.style.display = \"\"\n    this.vert.firstChild.style.height = \"0\"\n  }\n\n  if (needsH) {\n    this.horiz.style.display = \"block\"\n    this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\"\n    this.horiz.style.left = measure.barLeft + \"px\"\n    var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0)\n    this.horiz.firstChild.style.width =\n      Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\"\n  } else {\n    this.horiz.style.display = \"\"\n    this.horiz.firstChild.style.width = \"0\"\n  }\n\n  if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n    if (sWidth == 0) { this.zeroWidthHack() }\n    this.checkedZeroWidth = true\n  }\n\n  return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n};\n\nNativeScrollbars.prototype.setScrollLeft = function (pos) {\n  if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos }\n  if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz) }\n};\n\nNativeScrollbars.prototype.setScrollTop = function (pos) {\n  if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos }\n  if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert) }\n};\n\nNativeScrollbars.prototype.zeroWidthHack = function () {\n  var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\"\n  this.horiz.style.height = this.vert.style.width = w\n  this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\"\n  this.disableHoriz = new Delayed\n  this.disableVert = new Delayed\n};\n\nNativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay) {\n  bar.style.pointerEvents = \"auto\"\n  function maybeDisable() {\n    // To find out whether the scrollbar is still visible, we\n    // check whether the element under the pixel in the bottom\n    // left corner of the scrollbar box is the scrollbar box\n    // itself (when the bar is still visible) or its filler child\n    // (when the bar is hidden). If it is still visible, we keep\n    // it enabled, if it's hidden, we disable pointer events.\n    var box = bar.getBoundingClientRect()\n    var elt = document.elementFromPoint(box.left + 1, box.bottom - 1)\n    if (elt != bar) { bar.style.pointerEvents = \"none\" }\n    else { delay.set(1000, maybeDisable) }\n  }\n  delay.set(1000, maybeDisable)\n};\n\nNativeScrollbars.prototype.clear = function () {\n  var parent = this.horiz.parentNode\n  parent.removeChild(this.horiz)\n  parent.removeChild(this.vert)\n};\n\nvar NullScrollbars = function () {};\n\nNullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\nNullScrollbars.prototype.setScrollLeft = function () {};\nNullScrollbars.prototype.setScrollTop = function () {};\nNullScrollbars.prototype.clear = function () {};\n\nfunction updateScrollbars(cm, measure) {\n  if (!measure) { measure = measureForScrollbars(cm) }\n  var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight\n  updateScrollbarsInner(cm, measure)\n  for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n    if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n      { updateHeightsInViewport(cm) }\n    updateScrollbarsInner(cm, measureForScrollbars(cm))\n    startWidth = cm.display.barWidth; startHeight = cm.display.barHeight\n  }\n}\n\n// Re-synchronize the fake scrollbars with the actual size of the\n// content.\nfunction updateScrollbarsInner(cm, measure) {\n  var d = cm.display\n  var sizes = d.scrollbars.update(measure)\n\n  d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\"\n  d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\"\n  d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\"\n\n  if (sizes.right && sizes.bottom) {\n    d.scrollbarFiller.style.display = \"block\"\n    d.scrollbarFiller.style.height = sizes.bottom + \"px\"\n    d.scrollbarFiller.style.width = sizes.right + \"px\"\n  } else { d.scrollbarFiller.style.display = \"\" }\n  if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n    d.gutterFiller.style.display = \"block\"\n    d.gutterFiller.style.height = sizes.bottom + \"px\"\n    d.gutterFiller.style.width = measure.gutterWidth + \"px\"\n  } else { d.gutterFiller.style.display = \"\" }\n}\n\nvar scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars}\n\nfunction initScrollbars(cm) {\n  if (cm.display.scrollbars) {\n    cm.display.scrollbars.clear()\n    if (cm.display.scrollbars.addClass)\n      { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass) }\n  }\n\n  cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n    cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller)\n    // Prevent clicks in the scrollbars from killing focus\n    on(node, \"mousedown\", function () {\n      if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0) }\n    })\n    node.setAttribute(\"cm-not-content\", \"true\")\n  }, function (pos, axis) {\n    if (axis == \"horizontal\") { setScrollLeft(cm, pos) }\n    else { setScrollTop(cm, pos) }\n  }, cm)\n  if (cm.display.scrollbars.addClass)\n    { addClass(cm.display.wrapper, cm.display.scrollbars.addClass) }\n}\n\n// SCROLLING THINGS INTO VIEW\n\n// If an editor sits on the top or bottom of the window, partially\n// scrolled out of view, this ensures that the cursor is visible.\nfunction maybeScrollWindow(cm, coords) {\n  if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n  var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null\n  if (coords.top + box.top < 0) { doScroll = true }\n  else if (coords.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false }\n  if (doScroll != null && !phantom) {\n    var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (coords.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (coords.bottom - coords.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (coords.left) + \"px; width: 2px;\"))\n    cm.display.lineSpace.appendChild(scrollNode)\n    scrollNode.scrollIntoView(doScroll)\n    cm.display.lineSpace.removeChild(scrollNode)\n  }\n}\n\n// Scroll a given position into view (immediately), verifying that\n// it actually became visible (as line heights are accurately\n// measured, the position of something may 'drift' during drawing).\nfunction scrollPosIntoView(cm, pos, end, margin) {\n  if (margin == null) { margin = 0 }\n  var coords\n  for (var limit = 0; limit < 5; limit++) {\n    var changed = false\n    coords = cursorCoords(cm, pos)\n    var endCoords = !end || end == pos ? coords : cursorCoords(cm, end)\n    var scrollPos = calculateScrollPos(cm, Math.min(coords.left, endCoords.left),\n                                       Math.min(coords.top, endCoords.top) - margin,\n                                       Math.max(coords.left, endCoords.left),\n                                       Math.max(coords.bottom, endCoords.bottom) + margin)\n    var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft\n    if (scrollPos.scrollTop != null) {\n      setScrollTop(cm, scrollPos.scrollTop)\n      if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true }\n    }\n    if (scrollPos.scrollLeft != null) {\n      setScrollLeft(cm, scrollPos.scrollLeft)\n      if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true }\n    }\n    if (!changed) { break }\n  }\n  return coords\n}\n\n// Scroll a given set of coordinates into view (immediately).\nfunction scrollIntoView(cm, x1, y1, x2, y2) {\n  var scrollPos = calculateScrollPos(cm, x1, y1, x2, y2)\n  if (scrollPos.scrollTop != null) { setScrollTop(cm, scrollPos.scrollTop) }\n  if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft) }\n}\n\n// Calculate a new scroll position needed to scroll the given\n// rectangle into view. Returns an object with scrollTop and\n// scrollLeft properties. When these are undefined, the\n// vertical/horizontal position does not need to be adjusted.\nfunction calculateScrollPos(cm, x1, y1, x2, y2) {\n  var display = cm.display, snapMargin = textHeight(cm.display)\n  if (y1 < 0) { y1 = 0 }\n  var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop\n  var screen = displayHeight(cm), result = {}\n  if (y2 - y1 > screen) { y2 = y1 + screen }\n  var docBottom = cm.doc.height + paddingVert(display)\n  var atTop = y1 < snapMargin, atBottom = y2 > docBottom - snapMargin\n  if (y1 < screentop) {\n    result.scrollTop = atTop ? 0 : y1\n  } else if (y2 > screentop + screen) {\n    var newTop = Math.min(y1, (atBottom ? docBottom : y2) - screen)\n    if (newTop != screentop) { result.scrollTop = newTop }\n  }\n\n  var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft\n  var screenw = displayWidth(cm) - (cm.options.fixedGutter ? display.gutters.offsetWidth : 0)\n  var tooWide = x2 - x1 > screenw\n  if (tooWide) { x2 = x1 + screenw }\n  if (x1 < 10)\n    { result.scrollLeft = 0 }\n  else if (x1 < screenleft)\n    { result.scrollLeft = Math.max(0, x1 - (tooWide ? 0 : 10)) }\n  else if (x2 > screenw + screenleft - 3)\n    { result.scrollLeft = x2 + (tooWide ? 0 : 10) - screenw }\n  return result\n}\n\n// Store a relative adjustment to the scroll position in the current\n// operation (to be applied when the operation finishes).\nfunction addToScrollPos(cm, left, top) {\n  if (left != null || top != null) { resolveScrollToPos(cm) }\n  if (left != null)\n    { cm.curOp.scrollLeft = (cm.curOp.scrollLeft == null ? cm.doc.scrollLeft : cm.curOp.scrollLeft) + left }\n  if (top != null)\n    { cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top }\n}\n\n// Make sure that at the end of the operation the current cursor is\n// shown.\nfunction ensureCursorVisible(cm) {\n  resolveScrollToPos(cm)\n  var cur = cm.getCursor(), from = cur, to = cur\n  if (!cm.options.lineWrapping) {\n    from = cur.ch ? Pos(cur.line, cur.ch - 1) : cur\n    to = Pos(cur.line, cur.ch + 1)\n  }\n  cm.curOp.scrollToPos = {from: from, to: to, margin: cm.options.cursorScrollMargin, isCursor: true}\n}\n\n// When an operation has its scrollToPos property set, and another\n// scroll action is applied before the end of the operation, this\n// 'simulates' scrolling that position into view in a cheap way, so\n// that the effect of intermediate scroll commands is not ignored.\nfunction resolveScrollToPos(cm) {\n  var range = cm.curOp.scrollToPos\n  if (range) {\n    cm.curOp.scrollToPos = null\n    var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to)\n    var sPos = calculateScrollPos(cm, Math.min(from.left, to.left),\n                                  Math.min(from.top, to.top) - range.margin,\n                                  Math.max(from.right, to.right),\n                                  Math.max(from.bottom, to.bottom) + range.margin)\n    cm.scrollTo(sPos.scrollLeft, sPos.scrollTop)\n  }\n}\n\n// Operations are used to wrap a series of changes to the editor\n// state in such a way that each change won't have to update the\n// cursor and display (which would be awkward, slow, and\n// error-prone). Instead, display updates are batched and then all\n// combined and executed at once.\n\nvar nextOpId = 0\n// Start a new operation.\nfunction startOperation(cm) {\n  cm.curOp = {\n    cm: cm,\n    viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n    startHeight: cm.doc.height, // Used to detect need to update scrollbar\n    forceUpdate: false,      // Used to force a redraw\n    updateInput: null,       // Whether to reset the input textarea\n    typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n    changeObjs: null,        // Accumulated changes, for firing change events\n    cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n    cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n    selectionChanged: false, // Whether the selection needs to be redrawn\n    updateMaxLine: false,    // Set when the widest line needs to be determined anew\n    scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n    scrollToPos: null,       // Used to scroll to a specific position\n    focus: false,\n    id: ++nextOpId           // Unique ID\n  }\n  pushOperation(cm.curOp)\n}\n\n// Finish an operation, updating the display and signalling delayed events\nfunction endOperation(cm) {\n  var op = cm.curOp\n  finishOperation(op, function (group) {\n    for (var i = 0; i < group.ops.length; i++)\n      { group.ops[i].cm.curOp = null }\n    endOperations(group)\n  })\n}\n\n// The DOM updates done when an operation finishes are batched so\n// that the minimum number of relayouts are required.\nfunction endOperations(group) {\n  var ops = group.ops\n  for (var i = 0; i < ops.length; i++) // Read DOM\n    { endOperation_R1(ops[i]) }\n  for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n    { endOperation_W1(ops[i$1]) }\n  for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n    { endOperation_R2(ops[i$2]) }\n  for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n    { endOperation_W2(ops[i$3]) }\n  for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n    { endOperation_finish(ops[i$4]) }\n}\n\nfunction endOperation_R1(op) {\n  var cm = op.cm, display = cm.display\n  maybeClipScrollbars(cm)\n  if (op.updateMaxLine) { findMaxLine(cm) }\n\n  op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n    op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                       op.scrollToPos.to.line >= display.viewTo) ||\n    display.maxLineChanged && cm.options.lineWrapping\n  op.update = op.mustUpdate &&\n    new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate)\n}\n\nfunction endOperation_W1(op) {\n  op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update)\n}\n\nfunction endOperation_R2(op) {\n  var cm = op.cm, display = cm.display\n  if (op.updatedDisplay) { updateHeightsInViewport(cm) }\n\n  op.barMeasure = measureForScrollbars(cm)\n\n  // If the max line changed since it was last measured, measure it,\n  // and ensure the document's width matches it.\n  // updateDisplay_W2 will use these properties to do the actual resizing\n  if (display.maxLineChanged && !cm.options.lineWrapping) {\n    op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3\n    cm.display.sizerWidth = op.adjustWidthTo\n    op.barMeasure.scrollWidth =\n      Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth)\n    op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm))\n  }\n\n  if (op.updatedDisplay || op.selectionChanged)\n    { op.preparedSelection = display.input.prepareSelection(op.focus) }\n}\n\nfunction endOperation_W2(op) {\n  var cm = op.cm\n\n  if (op.adjustWidthTo != null) {\n    cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\"\n    if (op.maxScrollLeft < cm.doc.scrollLeft)\n      { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true) }\n    cm.display.maxLineChanged = false\n  }\n\n  var takeFocus = op.focus && op.focus == activeElt() && (!document.hasFocus || document.hasFocus())\n  if (op.preparedSelection)\n    { cm.display.input.showSelection(op.preparedSelection, takeFocus) }\n  if (op.updatedDisplay || op.startHeight != cm.doc.height)\n    { updateScrollbars(cm, op.barMeasure) }\n  if (op.updatedDisplay)\n    { setDocumentHeight(cm, op.barMeasure) }\n\n  if (op.selectionChanged) { restartBlink(cm) }\n\n  if (cm.state.focused && op.updateInput)\n    { cm.display.input.reset(op.typing) }\n  if (takeFocus) { ensureFocus(op.cm) }\n}\n\nfunction endOperation_finish(op) {\n  var cm = op.cm, display = cm.display, doc = cm.doc\n\n  if (op.updatedDisplay) { postUpdateDisplay(cm, op.update) }\n\n  // Abort mouse wheel delta measurement, when scrolling explicitly\n  if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n    { display.wheelStartX = display.wheelStartY = null }\n\n  // Propagate the scroll position to the actual DOM scroller\n  if (op.scrollTop != null && (display.scroller.scrollTop != op.scrollTop || op.forceScroll)) {\n    doc.scrollTop = Math.max(0, Math.min(display.scroller.scrollHeight - display.scroller.clientHeight, op.scrollTop))\n    display.scrollbars.setScrollTop(doc.scrollTop)\n    display.scroller.scrollTop = doc.scrollTop\n  }\n  if (op.scrollLeft != null && (display.scroller.scrollLeft != op.scrollLeft || op.forceScroll)) {\n    doc.scrollLeft = Math.max(0, Math.min(display.scroller.scrollWidth - display.scroller.clientWidth, op.scrollLeft))\n    display.scrollbars.setScrollLeft(doc.scrollLeft)\n    display.scroller.scrollLeft = doc.scrollLeft\n    alignHorizontally(cm)\n  }\n  // If we need to scroll a specific position into view, do so.\n  if (op.scrollToPos) {\n    var coords = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin)\n    if (op.scrollToPos.isCursor && cm.state.focused) { maybeScrollWindow(cm, coords) }\n  }\n\n  // Fire events for markers that are hidden/unidden by editing or\n  // undoing\n  var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers\n  if (hidden) { for (var i = 0; i < hidden.length; ++i)\n    { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\") } } }\n  if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n    { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\") } } }\n\n  if (display.wrapper.offsetHeight)\n    { doc.scrollTop = cm.display.scroller.scrollTop }\n\n  // Fire change events, and delayed event handlers\n  if (op.changeObjs)\n    { signal(cm, \"changes\", cm, op.changeObjs) }\n  if (op.update)\n    { op.update.finish() }\n}\n\n// Run the given function in an operation\nfunction runInOp(cm, f) {\n  if (cm.curOp) { return f() }\n  startOperation(cm)\n  try { return f() }\n  finally { endOperation(cm) }\n}\n// Wraps a function in an operation. Returns the wrapped function.\nfunction operation(cm, f) {\n  return function() {\n    if (cm.curOp) { return f.apply(cm, arguments) }\n    startOperation(cm)\n    try { return f.apply(cm, arguments) }\n    finally { endOperation(cm) }\n  }\n}\n// Used to add methods to editor and doc instances, wrapping them in\n// operations.\nfunction methodOp(f) {\n  return function() {\n    if (this.curOp) { return f.apply(this, arguments) }\n    startOperation(this)\n    try { return f.apply(this, arguments) }\n    finally { endOperation(this) }\n  }\n}\nfunction docMethodOp(f) {\n  return function() {\n    var cm = this.cm\n    if (!cm || cm.curOp) { return f.apply(this, arguments) }\n    startOperation(cm)\n    try { return f.apply(this, arguments) }\n    finally { endOperation(cm) }\n  }\n}\n\n// Updates the display.view data structure for a given change to the\n// document. From and to are in pre-change coordinates. Lendiff is\n// the amount of lines added or subtracted by the change. This is\n// used for changes that span multiple lines, or change the way\n// lines are divided into visual lines. regLineChange (below)\n// registers single-line changes.\nfunction regChange(cm, from, to, lendiff) {\n  if (from == null) { from = cm.doc.first }\n  if (to == null) { to = cm.doc.first + cm.doc.size }\n  if (!lendiff) { lendiff = 0 }\n\n  var display = cm.display\n  if (lendiff && to < display.viewTo &&\n      (display.updateLineNumbers == null || display.updateLineNumbers > from))\n    { display.updateLineNumbers = from }\n\n  cm.curOp.viewChanged = true\n\n  if (from >= display.viewTo) { // Change after\n    if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n      { resetView(cm) }\n  } else if (to <= display.viewFrom) { // Change before\n    if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n      resetView(cm)\n    } else {\n      display.viewFrom += lendiff\n      display.viewTo += lendiff\n    }\n  } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n    resetView(cm)\n  } else if (from <= display.viewFrom) { // Top overlap\n    var cut = viewCuttingPoint(cm, to, to + lendiff, 1)\n    if (cut) {\n      display.view = display.view.slice(cut.index)\n      display.viewFrom = cut.lineN\n      display.viewTo += lendiff\n    } else {\n      resetView(cm)\n    }\n  } else if (to >= display.viewTo) { // Bottom overlap\n    var cut$1 = viewCuttingPoint(cm, from, from, -1)\n    if (cut$1) {\n      display.view = display.view.slice(0, cut$1.index)\n      display.viewTo = cut$1.lineN\n    } else {\n      resetView(cm)\n    }\n  } else { // Gap in the middle\n    var cutTop = viewCuttingPoint(cm, from, from, -1)\n    var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1)\n    if (cutTop && cutBot) {\n      display.view = display.view.slice(0, cutTop.index)\n        .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n        .concat(display.view.slice(cutBot.index))\n      display.viewTo += lendiff\n    } else {\n      resetView(cm)\n    }\n  }\n\n  var ext = display.externalMeasured\n  if (ext) {\n    if (to < ext.lineN)\n      { ext.lineN += lendiff }\n    else if (from < ext.lineN + ext.size)\n      { display.externalMeasured = null }\n  }\n}\n\n// Register a change to a single line. Type must be one of \"text\",\n// \"gutter\", \"class\", \"widget\"\nfunction regLineChange(cm, line, type) {\n  cm.curOp.viewChanged = true\n  var display = cm.display, ext = cm.display.externalMeasured\n  if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n    { display.externalMeasured = null }\n\n  if (line < display.viewFrom || line >= display.viewTo) { return }\n  var lineView = display.view[findViewIndex(cm, line)]\n  if (lineView.node == null) { return }\n  var arr = lineView.changes || (lineView.changes = [])\n  if (indexOf(arr, type) == -1) { arr.push(type) }\n}\n\n// Clear the view.\nfunction resetView(cm) {\n  cm.display.viewFrom = cm.display.viewTo = cm.doc.first\n  cm.display.view = []\n  cm.display.viewOffset = 0\n}\n\nfunction viewCuttingPoint(cm, oldN, newN, dir) {\n  var index = findViewIndex(cm, oldN), diff, view = cm.display.view\n  if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n    { return {index: index, lineN: newN} }\n  var n = cm.display.viewFrom\n  for (var i = 0; i < index; i++)\n    { n += view[i].size }\n  if (n != oldN) {\n    if (dir > 0) {\n      if (index == view.length - 1) { return null }\n      diff = (n + view[index].size) - oldN\n      index++\n    } else {\n      diff = n - oldN\n    }\n    oldN += diff; newN += diff\n  }\n  while (visualLineNo(cm.doc, newN) != newN) {\n    if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n    newN += dir * view[index - (dir < 0 ? 1 : 0)].size\n    index += dir\n  }\n  return {index: index, lineN: newN}\n}\n\n// Force the view to cover a given range, adding empty view element\n// or clipping off existing ones as needed.\nfunction adjustView(cm, from, to) {\n  var display = cm.display, view = display.view\n  if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n    display.view = buildViewArray(cm, from, to)\n    display.viewFrom = from\n  } else {\n    if (display.viewFrom > from)\n      { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view) }\n    else if (display.viewFrom < from)\n      { display.view = display.view.slice(findViewIndex(cm, from)) }\n    display.viewFrom = from\n    if (display.viewTo < to)\n      { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)) }\n    else if (display.viewTo > to)\n      { display.view = display.view.slice(0, findViewIndex(cm, to)) }\n  }\n  display.viewTo = to\n}\n\n// Count the number of lines in the view whose DOM representation is\n// out of date (or nonexistent).\nfunction countDirtyView(cm) {\n  var view = cm.display.view, dirty = 0\n  for (var i = 0; i < view.length; i++) {\n    var lineView = view[i]\n    if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty }\n  }\n  return dirty\n}\n\n// HIGHLIGHT WORKER\n\nfunction startWorker(cm, time) {\n  if (cm.doc.mode.startState && cm.doc.frontier < cm.display.viewTo)\n    { cm.state.highlight.set(time, bind(highlightWorker, cm)) }\n}\n\nfunction highlightWorker(cm) {\n  var doc = cm.doc\n  if (doc.frontier < doc.first) { doc.frontier = doc.first }\n  if (doc.frontier >= cm.display.viewTo) { return }\n  var end = +new Date + cm.options.workTime\n  var state = copyState(doc.mode, getStateBefore(cm, doc.frontier))\n  var changedLines = []\n\n  doc.iter(doc.frontier, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n    if (doc.frontier >= cm.display.viewFrom) { // Visible\n      var oldStyles = line.styles, tooLong = line.text.length > cm.options.maxHighlightLength\n      var highlighted = highlightLine(cm, line, tooLong ? copyState(doc.mode, state) : state, true)\n      line.styles = highlighted.styles\n      var oldCls = line.styleClasses, newCls = highlighted.classes\n      if (newCls) { line.styleClasses = newCls }\n      else if (oldCls) { line.styleClasses = null }\n      var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n        oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass)\n      for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i] }\n      if (ischange) { changedLines.push(doc.frontier) }\n      line.stateAfter = tooLong ? state : copyState(doc.mode, state)\n    } else {\n      if (line.text.length <= cm.options.maxHighlightLength)\n        { processLine(cm, line.text, state) }\n      line.stateAfter = doc.frontier % 5 == 0 ? copyState(doc.mode, state) : null\n    }\n    ++doc.frontier\n    if (+new Date > end) {\n      startWorker(cm, cm.options.workDelay)\n      return true\n    }\n  })\n  if (changedLines.length) { runInOp(cm, function () {\n    for (var i = 0; i < changedLines.length; i++)\n      { regLineChange(cm, changedLines[i], \"text\") }\n  }) }\n}\n\n// DISPLAY DRAWING\n\nvar DisplayUpdate = function(cm, viewport, force) {\n  var display = cm.display\n\n  this.viewport = viewport\n  // Store some values that we'll need later (but don't want to force a relayout for)\n  this.visible = visibleLines(display, cm.doc, viewport)\n  this.editorIsHidden = !display.wrapper.offsetWidth\n  this.wrapperHeight = display.wrapper.clientHeight\n  this.wrapperWidth = display.wrapper.clientWidth\n  this.oldDisplayWidth = displayWidth(cm)\n  this.force = force\n  this.dims = getDimensions(cm)\n  this.events = []\n};\n\nDisplayUpdate.prototype.signal = function (emitter, type) {\n  if (hasHandler(emitter, type))\n    { this.events.push(arguments) }\n};\nDisplayUpdate.prototype.finish = function () {\n    var this$1 = this;\n\n  for (var i = 0; i < this.events.length; i++)\n    { signal.apply(null, this$1.events[i]) }\n};\n\nfunction maybeClipScrollbars(cm) {\n  var display = cm.display\n  if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n    display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth\n    display.heightForcer.style.height = scrollGap(cm) + \"px\"\n    display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\"\n    display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\"\n    display.scrollbarsClipped = true\n  }\n}\n\n// Does the actual updating of the line display. Bails out\n// (returning false) when there is nothing to be done and forced is\n// false.\nfunction updateDisplayIfNeeded(cm, update) {\n  var display = cm.display, doc = cm.doc\n\n  if (update.editorIsHidden) {\n    resetView(cm)\n    return false\n  }\n\n  // Bail out if the visible area is already rendered and nothing changed.\n  if (!update.force &&\n      update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n      (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n      display.renderedView == display.view && countDirtyView(cm) == 0)\n    { return false }\n\n  if (maybeUpdateLineNumberWidth(cm)) {\n    resetView(cm)\n    update.dims = getDimensions(cm)\n  }\n\n  // Compute a suitable new viewport (from & to)\n  var end = doc.first + doc.size\n  var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first)\n  var to = Math.min(end, update.visible.to + cm.options.viewportMargin)\n  if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom) }\n  if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo) }\n  if (sawCollapsedSpans) {\n    from = visualLineNo(cm.doc, from)\n    to = visualLineEndNo(cm.doc, to)\n  }\n\n  var different = from != display.viewFrom || to != display.viewTo ||\n    display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth\n  adjustView(cm, from, to)\n\n  display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom))\n  // Position the mover div to align with the current scroll position\n  cm.display.mover.style.top = display.viewOffset + \"px\"\n\n  var toUpdate = countDirtyView(cm)\n  if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n      (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n    { return false }\n\n  // For big changes, we hide the enclosing element during the\n  // update, since that speeds up the operations on most browsers.\n  var focused = activeElt()\n  if (toUpdate > 4) { display.lineDiv.style.display = \"none\" }\n  patchDisplay(cm, display.updateLineNumbers, update.dims)\n  if (toUpdate > 4) { display.lineDiv.style.display = \"\" }\n  display.renderedView = display.view\n  // There might have been a widget with a focused element that got\n  // hidden or updated, if so re-focus it.\n  if (focused && activeElt() != focused && focused.offsetHeight) { focused.focus() }\n\n  // Prevent selection and cursors from interfering with the scroll\n  // width and height.\n  removeChildren(display.cursorDiv)\n  removeChildren(display.selectionDiv)\n  display.gutters.style.height = display.sizer.style.minHeight = 0\n\n  if (different) {\n    display.lastWrapHeight = update.wrapperHeight\n    display.lastWrapWidth = update.wrapperWidth\n    startWorker(cm, 400)\n  }\n\n  display.updateLineNumbers = null\n\n  return true\n}\n\nfunction postUpdateDisplay(cm, update) {\n  var viewport = update.viewport\n\n  for (var first = true;; first = false) {\n    if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n      // Clip forced viewport to actual scrollable area.\n      if (viewport && viewport.top != null)\n        { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)} }\n      // Updated line heights might result in the drawn area not\n      // actually covering the viewport. Keep looping until it does.\n      update.visible = visibleLines(cm.display, cm.doc, viewport)\n      if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n        { break }\n    }\n    if (!updateDisplayIfNeeded(cm, update)) { break }\n    updateHeightsInViewport(cm)\n    var barMeasure = measureForScrollbars(cm)\n    updateSelection(cm)\n    updateScrollbars(cm, barMeasure)\n    setDocumentHeight(cm, barMeasure)\n  }\n\n  update.signal(cm, \"update\", cm)\n  if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n    update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo)\n    cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo\n  }\n}\n\nfunction updateDisplaySimple(cm, viewport) {\n  var update = new DisplayUpdate(cm, viewport)\n  if (updateDisplayIfNeeded(cm, update)) {\n    updateHeightsInViewport(cm)\n    postUpdateDisplay(cm, update)\n    var barMeasure = measureForScrollbars(cm)\n    updateSelection(cm)\n    updateScrollbars(cm, barMeasure)\n    setDocumentHeight(cm, barMeasure)\n    update.finish()\n  }\n}\n\n// Sync the actual display DOM structure with display.view, removing\n// nodes for lines that are no longer in view, and creating the ones\n// that are not there yet, and updating the ones that are out of\n// date.\nfunction patchDisplay(cm, updateNumbersFrom, dims) {\n  var display = cm.display, lineNumbers = cm.options.lineNumbers\n  var container = display.lineDiv, cur = container.firstChild\n\n  function rm(node) {\n    var next = node.nextSibling\n    // Works around a throw-scroll bug in OS X Webkit\n    if (webkit && mac && cm.display.currentWheelTarget == node)\n      { node.style.display = \"none\" }\n    else\n      { node.parentNode.removeChild(node) }\n    return next\n  }\n\n  var view = display.view, lineN = display.viewFrom\n  // Loop over the elements in the view, syncing cur (the DOM nodes\n  // in display.lineDiv) with the view as we go.\n  for (var i = 0; i < view.length; i++) {\n    var lineView = view[i]\n    if (lineView.hidden) {\n    } else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n      var node = buildLineElement(cm, lineView, lineN, dims)\n      container.insertBefore(node, cur)\n    } else { // Already drawn\n      while (cur != lineView.node) { cur = rm(cur) }\n      var updateNumber = lineNumbers && updateNumbersFrom != null &&\n        updateNumbersFrom <= lineN && lineView.lineNumber\n      if (lineView.changes) {\n        if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false }\n        updateLineForChanges(cm, lineView, lineN, dims)\n      }\n      if (updateNumber) {\n        removeChildren(lineView.lineNumber)\n        lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)))\n      }\n      cur = lineView.node.nextSibling\n    }\n    lineN += lineView.size\n  }\n  while (cur) { cur = rm(cur) }\n}\n\nfunction updateGutterSpace(cm) {\n  var width = cm.display.gutters.offsetWidth\n  cm.display.sizer.style.marginLeft = width + \"px\"\n}\n\nfunction setDocumentHeight(cm, measure) {\n  cm.display.sizer.style.minHeight = measure.docHeight + \"px\"\n  cm.display.heightForcer.style.top = measure.docHeight + \"px\"\n  cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\"\n}\n\n// Rebuild the gutter elements, ensure the margin to the left of the\n// code matches their width.\nfunction updateGutters(cm) {\n  var gutters = cm.display.gutters, specs = cm.options.gutters\n  removeChildren(gutters)\n  var i = 0\n  for (; i < specs.length; ++i) {\n    var gutterClass = specs[i]\n    var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + gutterClass))\n    if (gutterClass == \"CodeMirror-linenumbers\") {\n      cm.display.lineGutter = gElt\n      gElt.style.width = (cm.display.lineNumWidth || 1) + \"px\"\n    }\n  }\n  gutters.style.display = i ? \"\" : \"none\"\n  updateGutterSpace(cm)\n}\n\n// Make sure the gutters options contains the element\n// \"CodeMirror-linenumbers\" when the lineNumbers option is true.\nfunction setGuttersForLineNumbers(options) {\n  var found = indexOf(options.gutters, \"CodeMirror-linenumbers\")\n  if (found == -1 && options.lineNumbers) {\n    options.gutters = options.gutters.concat([\"CodeMirror-linenumbers\"])\n  } else if (found > -1 && !options.lineNumbers) {\n    options.gutters = options.gutters.slice(0)\n    options.gutters.splice(found, 1)\n  }\n}\n\n// Selection objects are immutable. A new one is created every time\n// the selection changes. A selection is one or more non-overlapping\n// (and non-touching) ranges, sorted, and an integer that indicates\n// which one is the primary selection (the one that's scrolled into\n// view, that getCursor returns, etc).\nvar Selection = function(ranges, primIndex) {\n  this.ranges = ranges\n  this.primIndex = primIndex\n};\n\nSelection.prototype.primary = function () { return this.ranges[this.primIndex] };\n\nSelection.prototype.equals = function (other) {\n    var this$1 = this;\n\n  if (other == this) { return true }\n  if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n  for (var i = 0; i < this.ranges.length; i++) {\n    var here = this$1.ranges[i], there = other.ranges[i]\n    if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\n  }\n  return true\n};\n\nSelection.prototype.deepCopy = function () {\n    var this$1 = this;\n\n  var out = []\n  for (var i = 0; i < this.ranges.length; i++)\n    { out[i] = new Range(copyPos(this$1.ranges[i].anchor), copyPos(this$1.ranges[i].head)) }\n  return new Selection(out, this.primIndex)\n};\n\nSelection.prototype.somethingSelected = function () {\n    var this$1 = this;\n\n  for (var i = 0; i < this.ranges.length; i++)\n    { if (!this$1.ranges[i].empty()) { return true } }\n  return false\n};\n\nSelection.prototype.contains = function (pos, end) {\n    var this$1 = this;\n\n  if (!end) { end = pos }\n  for (var i = 0; i < this.ranges.length; i++) {\n    var range = this$1.ranges[i]\n    if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n      { return i }\n  }\n  return -1\n};\n\nvar Range = function(anchor, head) {\n  this.anchor = anchor; this.head = head\n};\n\nRange.prototype.from = function () { return minPos(this.anchor, this.head) };\nRange.prototype.to = function () { return maxPos(this.anchor, this.head) };\nRange.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\n\n// Take an unsorted, potentially overlapping set of ranges, and\n// build a selection out of it. 'Consumes' ranges array (modifying\n// it).\nfunction normalizeSelection(ranges, primIndex) {\n  var prim = ranges[primIndex]\n  ranges.sort(function (a, b) { return cmp(a.from(), b.from()); })\n  primIndex = indexOf(ranges, prim)\n  for (var i = 1; i < ranges.length; i++) {\n    var cur = ranges[i], prev = ranges[i - 1]\n    if (cmp(prev.to(), cur.from()) >= 0) {\n      var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to())\n      var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head\n      if (i <= primIndex) { --primIndex }\n      ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to))\n    }\n  }\n  return new Selection(ranges, primIndex)\n}\n\nfunction simpleSelection(anchor, head) {\n  return new Selection([new Range(anchor, head || anchor)], 0)\n}\n\n// Compute the position of the end of a change (its 'to' property\n// refers to the pre-change end).\nfunction changeEnd(change) {\n  if (!change.text) { return change.to }\n  return Pos(change.from.line + change.text.length - 1,\n             lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n}\n\n// Adjust a position to refer to the post-change position of the\n// same text, or the end of the change if the change covers it.\nfunction adjustForChange(pos, change) {\n  if (cmp(pos, change.from) < 0) { return pos }\n  if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n  var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch\n  if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch }\n  return Pos(line, ch)\n}\n\nfunction computeSelAfterChange(doc, change) {\n  var out = []\n  for (var i = 0; i < doc.sel.ranges.length; i++) {\n    var range = doc.sel.ranges[i]\n    out.push(new Range(adjustForChange(range.anchor, change),\n                       adjustForChange(range.head, change)))\n  }\n  return normalizeSelection(out, doc.sel.primIndex)\n}\n\nfunction offsetPos(pos, old, nw) {\n  if (pos.line == old.line)\n    { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n  else\n    { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n}\n\n// Used by replaceSelections to allow moving the selection to the\n// start or around the replaced test. Hint may be \"start\" or \"around\".\nfunction computeReplacedSel(doc, changes, hint) {\n  var out = []\n  var oldPrev = Pos(doc.first, 0), newPrev = oldPrev\n  for (var i = 0; i < changes.length; i++) {\n    var change = changes[i]\n    var from = offsetPos(change.from, oldPrev, newPrev)\n    var to = offsetPos(changeEnd(change), oldPrev, newPrev)\n    oldPrev = change.to\n    newPrev = to\n    if (hint == \"around\") {\n      var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0\n      out[i] = new Range(inv ? to : from, inv ? from : to)\n    } else {\n      out[i] = new Range(from, from)\n    }\n  }\n  return new Selection(out, doc.sel.primIndex)\n}\n\n// Used to get the editor into a consistent state again when options change.\n\nfunction loadMode(cm) {\n  cm.doc.mode = getMode(cm.options, cm.doc.modeOption)\n  resetModeState(cm)\n}\n\nfunction resetModeState(cm) {\n  cm.doc.iter(function (line) {\n    if (line.stateAfter) { line.stateAfter = null }\n    if (line.styles) { line.styles = null }\n  })\n  cm.doc.frontier = cm.doc.first\n  startWorker(cm, 100)\n  cm.state.modeGen++\n  if (cm.curOp) { regChange(cm) }\n}\n\n// DOCUMENT DATA STRUCTURE\n\n// By default, updates that start and end at the beginning of a line\n// are treated specially, in order to make the association of line\n// widgets and marker elements with the text behave more intuitive.\nfunction isWholeLineUpdate(doc, change) {\n  return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n    (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n}\n\n// Perform a change on the document data structure.\nfunction updateDoc(doc, change, markedSpans, estimateHeight) {\n  function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n  function update(line, text, spans) {\n    updateLine(line, text, spans, estimateHeight)\n    signalLater(line, \"change\", line, change)\n  }\n  function linesFor(start, end) {\n    var result = []\n    for (var i = start; i < end; ++i)\n      { result.push(new Line(text[i], spansFor(i), estimateHeight)) }\n    return result\n  }\n\n  var from = change.from, to = change.to, text = change.text\n  var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line)\n  var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line\n\n  // Adjust the line structure\n  if (change.full) {\n    doc.insert(0, linesFor(0, text.length))\n    doc.remove(text.length, doc.size - text.length)\n  } else if (isWholeLineUpdate(doc, change)) {\n    // This is a whole-line replace. Treated specially to make\n    // sure line objects move the way they are supposed to.\n    var added = linesFor(0, text.length - 1)\n    update(lastLine, lastLine.text, lastSpans)\n    if (nlines) { doc.remove(from.line, nlines) }\n    if (added.length) { doc.insert(from.line, added) }\n  } else if (firstLine == lastLine) {\n    if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans)\n    } else {\n      var added$1 = linesFor(1, text.length - 1)\n      added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight))\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0))\n      doc.insert(from.line + 1, added$1)\n    }\n  } else if (text.length == 1) {\n    update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0))\n    doc.remove(from.line + 1, nlines)\n  } else {\n    update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0))\n    update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans)\n    var added$2 = linesFor(1, text.length - 1)\n    if (nlines > 1) { doc.remove(from.line + 1, nlines - 1) }\n    doc.insert(from.line + 1, added$2)\n  }\n\n  signalLater(doc, \"change\", doc, change)\n}\n\n// Call f for all linked documents.\nfunction linkedDocs(doc, f, sharedHistOnly) {\n  function propagate(doc, skip, sharedHist) {\n    if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n      var rel = doc.linked[i]\n      if (rel.doc == skip) { continue }\n      var shared = sharedHist && rel.sharedHist\n      if (sharedHistOnly && !shared) { continue }\n      f(rel.doc, shared)\n      propagate(rel.doc, doc, shared)\n    } }\n  }\n  propagate(doc, null, true)\n}\n\n// Attach a document to an editor.\nfunction attachDoc(cm, doc) {\n  if (doc.cm) { throw new Error(\"This document is already in use.\") }\n  cm.doc = doc\n  doc.cm = cm\n  estimateLineHeights(cm)\n  loadMode(cm)\n  if (!cm.options.lineWrapping) { findMaxLine(cm) }\n  cm.options.mode = doc.modeOption\n  regChange(cm)\n}\n\nfunction History(startGen) {\n  // Arrays of change events and selections. Doing something adds an\n  // event to done and clears undo. Undoing moves events from done\n  // to undone, redoing moves them in the other direction.\n  this.done = []; this.undone = []\n  this.undoDepth = Infinity\n  // Used to track when changes can be merged into a single undo\n  // event\n  this.lastModTime = this.lastSelTime = 0\n  this.lastOp = this.lastSelOp = null\n  this.lastOrigin = this.lastSelOrigin = null\n  // Used by the isClean() method\n  this.generation = this.maxGeneration = startGen || 1\n}\n\n// Create a history change event from an updateDoc-style change\n// object.\nfunction historyChangeFromChange(doc, change) {\n  var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)}\n  attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1)\n  linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true)\n  return histChange\n}\n\n// Pop all selection events off the end of a history array. Stop at\n// a change event.\nfunction clearSelectionEvents(array) {\n  while (array.length) {\n    var last = lst(array)\n    if (last.ranges) { array.pop() }\n    else { break }\n  }\n}\n\n// Find the top change event in the history. Pop off selection\n// events that are in the way.\nfunction lastChangeEvent(hist, force) {\n  if (force) {\n    clearSelectionEvents(hist.done)\n    return lst(hist.done)\n  } else if (hist.done.length && !lst(hist.done).ranges) {\n    return lst(hist.done)\n  } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n    hist.done.pop()\n    return lst(hist.done)\n  }\n}\n\n// Register a change in the history. Merges changes that are within\n// a single operation, or are close together with an origin that\n// allows merging (starting with \"+\") into a single event.\nfunction addChangeToHistory(doc, change, selAfter, opId) {\n  var hist = doc.history\n  hist.undone.length = 0\n  var time = +new Date, cur\n  var last\n\n  if ((hist.lastOp == opId ||\n       hist.lastOrigin == change.origin && change.origin &&\n       ((change.origin.charAt(0) == \"+\" && doc.cm && hist.lastModTime > time - doc.cm.options.historyEventDelay) ||\n        change.origin.charAt(0) == \"*\")) &&\n      (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n    // Merge this change into the last event\n    last = lst(cur.changes)\n    if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n      // Optimized case for simple insertion -- don't want to add\n      // new changesets for every character typed\n      last.to = changeEnd(change)\n    } else {\n      // Add new sub-event\n      cur.changes.push(historyChangeFromChange(doc, change))\n    }\n  } else {\n    // Can not be merged, start a new event.\n    var before = lst(hist.done)\n    if (!before || !before.ranges)\n      { pushSelectionToHistory(doc.sel, hist.done) }\n    cur = {changes: [historyChangeFromChange(doc, change)],\n           generation: hist.generation}\n    hist.done.push(cur)\n    while (hist.done.length > hist.undoDepth) {\n      hist.done.shift()\n      if (!hist.done[0].ranges) { hist.done.shift() }\n    }\n  }\n  hist.done.push(selAfter)\n  hist.generation = ++hist.maxGeneration\n  hist.lastModTime = hist.lastSelTime = time\n  hist.lastOp = hist.lastSelOp = opId\n  hist.lastOrigin = hist.lastSelOrigin = change.origin\n\n  if (!last) { signal(doc, \"historyAdded\") }\n}\n\nfunction selectionEventCanBeMerged(doc, origin, prev, sel) {\n  var ch = origin.charAt(0)\n  return ch == \"*\" ||\n    ch == \"+\" &&\n    prev.ranges.length == sel.ranges.length &&\n    prev.somethingSelected() == sel.somethingSelected() &&\n    new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n}\n\n// Called whenever the selection changes, sets the new selection as\n// the pending selection in the history, and pushes the old pending\n// selection into the 'done' array when it was significantly\n// different (in number of selected ranges, emptiness, or time).\nfunction addSelectionToHistory(doc, sel, opId, options) {\n  var hist = doc.history, origin = options && options.origin\n\n  // A new event is started when the previous origin does not match\n  // the current, or the origins don't allow matching. Origins\n  // starting with * are always merged, those starting with + are\n  // merged when similar and close together in time.\n  if (opId == hist.lastSelOp ||\n      (origin && hist.lastSelOrigin == origin &&\n       (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n        selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n    { hist.done[hist.done.length - 1] = sel }\n  else\n    { pushSelectionToHistory(sel, hist.done) }\n\n  hist.lastSelTime = +new Date\n  hist.lastSelOrigin = origin\n  hist.lastSelOp = opId\n  if (options && options.clearRedo !== false)\n    { clearSelectionEvents(hist.undone) }\n}\n\nfunction pushSelectionToHistory(sel, dest) {\n  var top = lst(dest)\n  if (!(top && top.ranges && top.equals(sel)))\n    { dest.push(sel) }\n}\n\n// Used to store marked span information in the history.\nfunction attachLocalSpans(doc, change, from, to) {\n  var existing = change[\"spans_\" + doc.id], n = 0\n  doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n    if (line.markedSpans)\n      { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans }\n    ++n\n  })\n}\n\n// When un/re-doing restores text containing marked spans, those\n// that have been explicitly cleared should not be restored.\nfunction removeClearedSpans(spans) {\n  if (!spans) { return null }\n  var out\n  for (var i = 0; i < spans.length; ++i) {\n    if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i) } }\n    else if (out) { out.push(spans[i]) }\n  }\n  return !out ? spans : out.length ? out : null\n}\n\n// Retrieve and filter the old marked spans stored in a change event.\nfunction getOldSpans(doc, change) {\n  var found = change[\"spans_\" + doc.id]\n  if (!found) { return null }\n  var nw = []\n  for (var i = 0; i < change.text.length; ++i)\n    { nw.push(removeClearedSpans(found[i])) }\n  return nw\n}\n\n// Used for un/re-doing changes from the history. Combines the\n// result of computing the existing spans with the set of spans that\n// existed in the history (so that deleting around a span and then\n// undoing brings back the span).\nfunction mergeOldSpans(doc, change) {\n  var old = getOldSpans(doc, change)\n  var stretched = stretchSpansOverChange(doc, change)\n  if (!old) { return stretched }\n  if (!stretched) { return old }\n\n  for (var i = 0; i < old.length; ++i) {\n    var oldCur = old[i], stretchCur = stretched[i]\n    if (oldCur && stretchCur) {\n      spans: for (var j = 0; j < stretchCur.length; ++j) {\n        var span = stretchCur[j]\n        for (var k = 0; k < oldCur.length; ++k)\n          { if (oldCur[k].marker == span.marker) { continue spans } }\n        oldCur.push(span)\n      }\n    } else if (stretchCur) {\n      old[i] = stretchCur\n    }\n  }\n  return old\n}\n\n// Used both to provide a JSON-safe object in .getHistory, and, when\n// detaching a document, to split the history in two\nfunction copyHistoryArray(events, newGroup, instantiateSel) {\n  var copy = []\n  for (var i = 0; i < events.length; ++i) {\n    var event = events[i]\n    if (event.ranges) {\n      copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event)\n      continue\n    }\n    var changes = event.changes, newChanges = []\n    copy.push({changes: newChanges})\n    for (var j = 0; j < changes.length; ++j) {\n      var change = changes[j], m = (void 0)\n      newChanges.push({from: change.from, to: change.to, text: change.text})\n      if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\n        if (indexOf(newGroup, Number(m[1])) > -1) {\n          lst(newChanges)[prop] = change[prop]\n          delete change[prop]\n        }\n      } } }\n    }\n  }\n  return copy\n}\n\n// The 'scroll' parameter given to many of these indicated whether\n// the new cursor position should be scrolled into view after\n// modifying the selection.\n\n// If shift is held or the extend flag is set, extends a range to\n// include a given position (and optionally a second position).\n// Otherwise, simply returns the range between the given positions.\n// Used for cursor motion and such.\nfunction extendRange(doc, range, head, other) {\n  if (doc.cm && doc.cm.display.shift || doc.extend) {\n    var anchor = range.anchor\n    if (other) {\n      var posBefore = cmp(head, anchor) < 0\n      if (posBefore != (cmp(other, anchor) < 0)) {\n        anchor = head\n        head = other\n      } else if (posBefore != (cmp(head, other) < 0)) {\n        head = other\n      }\n    }\n    return new Range(anchor, head)\n  } else {\n    return new Range(other || head, head)\n  }\n}\n\n// Extend the primary selection range, discard the rest.\nfunction extendSelection(doc, head, other, options) {\n  setSelection(doc, new Selection([extendRange(doc, doc.sel.primary(), head, other)], 0), options)\n}\n\n// Extend all selections (pos is an array of selections with length\n// equal the number of selections)\nfunction extendSelections(doc, heads, options) {\n  var out = []\n  for (var i = 0; i < doc.sel.ranges.length; i++)\n    { out[i] = extendRange(doc, doc.sel.ranges[i], heads[i], null) }\n  var newSel = normalizeSelection(out, doc.sel.primIndex)\n  setSelection(doc, newSel, options)\n}\n\n// Updates a single range in the selection.\nfunction replaceOneSelection(doc, i, range, options) {\n  var ranges = doc.sel.ranges.slice(0)\n  ranges[i] = range\n  setSelection(doc, normalizeSelection(ranges, doc.sel.primIndex), options)\n}\n\n// Reset the selection to a single range.\nfunction setSimpleSelection(doc, anchor, head, options) {\n  setSelection(doc, simpleSelection(anchor, head), options)\n}\n\n// Give beforeSelectionChange handlers a change to influence a\n// selection update.\nfunction filterSelectionChange(doc, sel, options) {\n  var obj = {\n    ranges: sel.ranges,\n    update: function(ranges) {\n      var this$1 = this;\n\n      this.ranges = []\n      for (var i = 0; i < ranges.length; i++)\n        { this$1.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                   clipPos(doc, ranges[i].head)) }\n    },\n    origin: options && options.origin\n  }\n  signal(doc, \"beforeSelectionChange\", doc, obj)\n  if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj) }\n  if (obj.ranges != sel.ranges) { return normalizeSelection(obj.ranges, obj.ranges.length - 1) }\n  else { return sel }\n}\n\nfunction setSelectionReplaceHistory(doc, sel, options) {\n  var done = doc.history.done, last = lst(done)\n  if (last && last.ranges) {\n    done[done.length - 1] = sel\n    setSelectionNoUndo(doc, sel, options)\n  } else {\n    setSelection(doc, sel, options)\n  }\n}\n\n// Set a new selection.\nfunction setSelection(doc, sel, options) {\n  setSelectionNoUndo(doc, sel, options)\n  addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options)\n}\n\nfunction setSelectionNoUndo(doc, sel, options) {\n  if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n    { sel = filterSelectionChange(doc, sel, options) }\n\n  var bias = options && options.bias ||\n    (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1)\n  setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true))\n\n  if (!(options && options.scroll === false) && doc.cm)\n    { ensureCursorVisible(doc.cm) }\n}\n\nfunction setSelectionInner(doc, sel) {\n  if (sel.equals(doc.sel)) { return }\n\n  doc.sel = sel\n\n  if (doc.cm) {\n    doc.cm.curOp.updateInput = doc.cm.curOp.selectionChanged = true\n    signalCursorActivity(doc.cm)\n  }\n  signalLater(doc, \"cursorActivity\", doc)\n}\n\n// Verify that the selection does not partially select any atomic\n// marked ranges.\nfunction reCheckSelection(doc) {\n  setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false), sel_dontScroll)\n}\n\n// Return a selection that does not partially select any atomic\n// ranges.\nfunction skipAtomicInSelection(doc, sel, bias, mayClear) {\n  var out\n  for (var i = 0; i < sel.ranges.length; i++) {\n    var range = sel.ranges[i]\n    var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i]\n    var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear)\n    var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear)\n    if (out || newAnchor != range.anchor || newHead != range.head) {\n      if (!out) { out = sel.ranges.slice(0, i) }\n      out[i] = new Range(newAnchor, newHead)\n    }\n  }\n  return out ? normalizeSelection(out, sel.primIndex) : sel\n}\n\nfunction skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n  var line = getLine(doc, pos.line)\n  if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n    var sp = line.markedSpans[i], m = sp.marker\n    if ((sp.from == null || (m.inclusiveLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n        (sp.to == null || (m.inclusiveRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n      if (mayClear) {\n        signal(m, \"beforeCursorEnter\")\n        if (m.explicitlyCleared) {\n          if (!line.markedSpans) { break }\n          else {--i; continue}\n        }\n      }\n      if (!m.atomic) { continue }\n\n      if (oldPos) {\n        var near = m.find(dir < 0 ? 1 : -1), diff = (void 0)\n        if (dir < 0 ? m.inclusiveRight : m.inclusiveLeft)\n          { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null) }\n        if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n          { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n      }\n\n      var far = m.find(dir < 0 ? -1 : 1)\n      if (dir < 0 ? m.inclusiveLeft : m.inclusiveRight)\n        { far = movePos(doc, far, dir, far.line == pos.line ? line : null) }\n      return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n    }\n  } }\n  return pos\n}\n\n// Ensure a given position is not inside an atomic range.\nfunction skipAtomic(doc, pos, oldPos, bias, mayClear) {\n  var dir = bias || 1\n  var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n      (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n      skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n      (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true))\n  if (!found) {\n    doc.cantEdit = true\n    return Pos(doc.first, 0)\n  }\n  return found\n}\n\nfunction movePos(doc, pos, dir, line) {\n  if (dir < 0 && pos.ch == 0) {\n    if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n    else { return null }\n  } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n    if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n    else { return null }\n  } else {\n    return new Pos(pos.line, pos.ch + dir)\n  }\n}\n\nfunction selectAll(cm) {\n  cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll)\n}\n\n// UPDATING\n\n// Allow \"beforeChange\" event handlers to influence a change\nfunction filterChange(doc, change, update) {\n  var obj = {\n    canceled: false,\n    from: change.from,\n    to: change.to,\n    text: change.text,\n    origin: change.origin,\n    cancel: function () { return obj.canceled = true; }\n  }\n  if (update) { obj.update = function (from, to, text, origin) {\n    if (from) { obj.from = clipPos(doc, from) }\n    if (to) { obj.to = clipPos(doc, to) }\n    if (text) { obj.text = text }\n    if (origin !== undefined) { obj.origin = origin }\n  } }\n  signal(doc, \"beforeChange\", doc, obj)\n  if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj) }\n\n  if (obj.canceled) { return null }\n  return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n}\n\n// Apply a change to a document, and add it to the document's\n// history, and propagating it to all linked documents.\nfunction makeChange(doc, change, ignoreReadOnly) {\n  if (doc.cm) {\n    if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n    if (doc.cm.state.suppressEdits) { return }\n  }\n\n  if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n    change = filterChange(doc, change, true)\n    if (!change) { return }\n  }\n\n  // Possibly split or suppress the update based on the presence\n  // of read-only spans in its range.\n  var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to)\n  if (split) {\n    for (var i = split.length - 1; i >= 0; --i)\n      { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text}) }\n  } else {\n    makeChangeInner(doc, change)\n  }\n}\n\nfunction makeChangeInner(doc, change) {\n  if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n  var selAfter = computeSelAfterChange(doc, change)\n  addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN)\n\n  makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change))\n  var rebased = []\n\n  linkedDocs(doc, function (doc, sharedHist) {\n    if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n      rebaseHist(doc.history, change)\n      rebased.push(doc.history)\n    }\n    makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change))\n  })\n}\n\n// Revert a change stored in a document's history.\nfunction makeChangeFromHistory(doc, type, allowSelectionOnly) {\n  if (doc.cm && doc.cm.state.suppressEdits && !allowSelectionOnly) { return }\n\n  var hist = doc.history, event, selAfter = doc.sel\n  var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done\n\n  // Verify that there is a useable event (so that ctrl-z won't\n  // needlessly clear selection events)\n  var i = 0\n  for (; i < source.length; i++) {\n    event = source[i]\n    if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n      { break }\n  }\n  if (i == source.length) { return }\n  hist.lastOrigin = hist.lastSelOrigin = null\n\n  for (;;) {\n    event = source.pop()\n    if (event.ranges) {\n      pushSelectionToHistory(event, dest)\n      if (allowSelectionOnly && !event.equals(doc.sel)) {\n        setSelection(doc, event, {clearRedo: false})\n        return\n      }\n      selAfter = event\n    }\n    else { break }\n  }\n\n  // Build up a reverse change object to add to the opposite history\n  // stack (redo when undoing, and vice versa).\n  var antiChanges = []\n  pushSelectionToHistory(selAfter, dest)\n  dest.push({changes: antiChanges, generation: hist.generation})\n  hist.generation = event.generation || ++hist.maxGeneration\n\n  var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")\n\n  var loop = function ( i ) {\n    var change = event.changes[i]\n    change.origin = type\n    if (filter && !filterChange(doc, change, false)) {\n      source.length = 0\n      return {}\n    }\n\n    antiChanges.push(historyChangeFromChange(doc, change))\n\n    var after = i ? computeSelAfterChange(doc, change) : lst(source)\n    makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change))\n    if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}) }\n    var rebased = []\n\n    // Propagate to the linked documents\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change)\n        rebased.push(doc.history)\n      }\n      makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change))\n    })\n  };\n\n  for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n    var returned = loop( i$1 );\n\n    if ( returned ) return returned.v;\n  }\n}\n\n// Sub-views need their line numbers shifted when text is added\n// above or below them in the parent document.\nfunction shiftDoc(doc, distance) {\n  if (distance == 0) { return }\n  doc.first += distance\n  doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n    Pos(range.anchor.line + distance, range.anchor.ch),\n    Pos(range.head.line + distance, range.head.ch)\n  ); }), doc.sel.primIndex)\n  if (doc.cm) {\n    regChange(doc.cm, doc.first, doc.first - distance, distance)\n    for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n      { regLineChange(doc.cm, l, \"gutter\") }\n  }\n}\n\n// More lower-level change function, handling only a single document\n// (not linked ones).\nfunction makeChangeSingleDoc(doc, change, selAfter, spans) {\n  if (doc.cm && !doc.cm.curOp)\n    { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n  if (change.to.line < doc.first) {\n    shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line))\n    return\n  }\n  if (change.from.line > doc.lastLine()) { return }\n\n  // Clip the change to the size of this doc\n  if (change.from.line < doc.first) {\n    var shift = change.text.length - 1 - (doc.first - change.from.line)\n    shiftDoc(doc, shift)\n    change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n              text: [lst(change.text)], origin: change.origin}\n  }\n  var last = doc.lastLine()\n  if (change.to.line > last) {\n    change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n              text: [change.text[0]], origin: change.origin}\n  }\n\n  change.removed = getBetween(doc, change.from, change.to)\n\n  if (!selAfter) { selAfter = computeSelAfterChange(doc, change) }\n  if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans) }\n  else { updateDoc(doc, change, spans) }\n  setSelectionNoUndo(doc, selAfter, sel_dontScroll)\n}\n\n// Handle the interaction of a change to a document with the editor\n// that this document is part of.\nfunction makeChangeSingleDocInEditor(cm, change, spans) {\n  var doc = cm.doc, display = cm.display, from = change.from, to = change.to\n\n  var recomputeMaxLength = false, checkWidthStart = from.line\n  if (!cm.options.lineWrapping) {\n    checkWidthStart = lineNo(visualLine(getLine(doc, from.line)))\n    doc.iter(checkWidthStart, to.line + 1, function (line) {\n      if (line == display.maxLine) {\n        recomputeMaxLength = true\n        return true\n      }\n    })\n  }\n\n  if (doc.sel.contains(change.from, change.to) > -1)\n    { signalCursorActivity(cm) }\n\n  updateDoc(doc, change, spans, estimateHeight(cm))\n\n  if (!cm.options.lineWrapping) {\n    doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n      var len = lineLength(line)\n      if (len > display.maxLineLength) {\n        display.maxLine = line\n        display.maxLineLength = len\n        display.maxLineChanged = true\n        recomputeMaxLength = false\n      }\n    })\n    if (recomputeMaxLength) { cm.curOp.updateMaxLine = true }\n  }\n\n  // Adjust frontier, schedule worker\n  doc.frontier = Math.min(doc.frontier, from.line)\n  startWorker(cm, 400)\n\n  var lendiff = change.text.length - (to.line - from.line) - 1\n  // Remember that these lines changed, for updating the display\n  if (change.full)\n    { regChange(cm) }\n  else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n    { regLineChange(cm, from.line, \"text\") }\n  else\n    { regChange(cm, from.line, to.line + 1, lendiff) }\n\n  var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\")\n  if (changeHandler || changesHandler) {\n    var obj = {\n      from: from, to: to,\n      text: change.text,\n      removed: change.removed,\n      origin: change.origin\n    }\n    if (changeHandler) { signalLater(cm, \"change\", cm, obj) }\n    if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj) }\n  }\n  cm.display.selForContextMenu = null\n}\n\nfunction replaceRange(doc, code, from, to, origin) {\n  if (!to) { to = from }\n  if (cmp(to, from) < 0) { var tmp = to; to = from; from = tmp }\n  if (typeof code == \"string\") { code = doc.splitLines(code) }\n  makeChange(doc, {from: from, to: to, text: code, origin: origin})\n}\n\n// Rebasing/resetting history to deal with externally-sourced changes\n\nfunction rebaseHistSelSingle(pos, from, to, diff) {\n  if (to < pos.line) {\n    pos.line += diff\n  } else if (from < pos.line) {\n    pos.line = from\n    pos.ch = 0\n  }\n}\n\n// Tries to rebase an array of history events given a change in the\n// document. If the change touches the same lines as the event, the\n// event, and everything 'behind' it, is discarded. If the change is\n// before the event, the event's positions are updated. Uses a\n// copy-on-write scheme for the positions, to avoid having to\n// reallocate them all on every rebase, but also avoid problems with\n// shared position objects being unsafely updated.\nfunction rebaseHistArray(array, from, to, diff) {\n  for (var i = 0; i < array.length; ++i) {\n    var sub = array[i], ok = true\n    if (sub.ranges) {\n      if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true }\n      for (var j = 0; j < sub.ranges.length; j++) {\n        rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff)\n        rebaseHistSelSingle(sub.ranges[j].head, from, to, diff)\n      }\n      continue\n    }\n    for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n      var cur = sub.changes[j$1]\n      if (to < cur.from.line) {\n        cur.from = Pos(cur.from.line + diff, cur.from.ch)\n        cur.to = Pos(cur.to.line + diff, cur.to.ch)\n      } else if (from <= cur.to.line) {\n        ok = false\n        break\n      }\n    }\n    if (!ok) {\n      array.splice(0, i + 1)\n      i = 0\n    }\n  }\n}\n\nfunction rebaseHist(hist, change) {\n  var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1\n  rebaseHistArray(hist.done, from, to, diff)\n  rebaseHistArray(hist.undone, from, to, diff)\n}\n\n// Utility for applying a change to a line by handle or number,\n// returning the number and optionally registering the line as\n// changed.\nfunction changeLine(doc, handle, changeType, op) {\n  var no = handle, line = handle\n  if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)) }\n  else { no = lineNo(handle) }\n  if (no == null) { return null }\n  if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType) }\n  return line\n}\n\n// The document is represented as a BTree consisting of leaves, with\n// chunk of lines in them, and branches, with up to ten leaves or\n// other branch nodes below them. The top node is always a branch\n// node, and is the document object itself (meaning it has\n// additional methods and properties).\n//\n// All nodes have parent links. The tree is used both to go from\n// line numbers to line objects, and to go from objects to numbers.\n// It also indexes by height, and is used to convert between height\n// and line object, and to find the total height of the document.\n//\n// See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\nvar LeafChunk = function(lines) {\n  var this$1 = this;\n\n  this.lines = lines\n  this.parent = null\n  var height = 0\n  for (var i = 0; i < lines.length; ++i) {\n    lines[i].parent = this$1\n    height += lines[i].height\n  }\n  this.height = height\n};\n\nLeafChunk.prototype.chunkSize = function () { return this.lines.length };\n\n// Remove the n lines at offset 'at'.\nLeafChunk.prototype.removeInner = function (at, n) {\n    var this$1 = this;\n\n  for (var i = at, e = at + n; i < e; ++i) {\n    var line = this$1.lines[i]\n    this$1.height -= line.height\n    cleanUpLine(line)\n    signalLater(line, \"delete\")\n  }\n  this.lines.splice(at, n)\n};\n\n// Helper used to collapse a small branch into a single leaf.\nLeafChunk.prototype.collapse = function (lines) {\n  lines.push.apply(lines, this.lines)\n};\n\n// Insert the given array of lines at offset 'at', count them as\n// having the given height.\nLeafChunk.prototype.insertInner = function (at, lines, height) {\n    var this$1 = this;\n\n  this.height += height\n  this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at))\n  for (var i = 0; i < lines.length; ++i) { lines[i].parent = this$1 }\n};\n\n// Used to iterate over a part of the tree.\nLeafChunk.prototype.iterN = function (at, n, op) {\n    var this$1 = this;\n\n  for (var e = at + n; at < e; ++at)\n    { if (op(this$1.lines[at])) { return true } }\n};\n\nvar BranchChunk = function(children) {\n  var this$1 = this;\n\n  this.children = children\n  var size = 0, height = 0\n  for (var i = 0; i < children.length; ++i) {\n    var ch = children[i]\n    size += ch.chunkSize(); height += ch.height\n    ch.parent = this$1\n  }\n  this.size = size\n  this.height = height\n  this.parent = null\n};\n\nBranchChunk.prototype.chunkSize = function () { return this.size };\n\nBranchChunk.prototype.removeInner = function (at, n) {\n    var this$1 = this;\n\n  this.size -= n\n  for (var i = 0; i < this.children.length; ++i) {\n    var child = this$1.children[i], sz = child.chunkSize()\n    if (at < sz) {\n      var rm = Math.min(n, sz - at), oldHeight = child.height\n      child.removeInner(at, rm)\n      this$1.height -= oldHeight - child.height\n      if (sz == rm) { this$1.children.splice(i--, 1); child.parent = null }\n      if ((n -= rm) == 0) { break }\n      at = 0\n    } else { at -= sz }\n  }\n  // If the result is smaller than 25 lines, ensure that it is a\n  // single leaf node.\n  if (this.size - n < 25 &&\n      (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n    var lines = []\n    this.collapse(lines)\n    this.children = [new LeafChunk(lines)]\n    this.children[0].parent = this\n  }\n};\n\nBranchChunk.prototype.collapse = function (lines) {\n    var this$1 = this;\n\n  for (var i = 0; i < this.children.length; ++i) { this$1.children[i].collapse(lines) }\n};\n\nBranchChunk.prototype.insertInner = function (at, lines, height) {\n    var this$1 = this;\n\n  this.size += lines.length\n  this.height += height\n  for (var i = 0; i < this.children.length; ++i) {\n    var child = this$1.children[i], sz = child.chunkSize()\n    if (at <= sz) {\n      child.insertInner(at, lines, height)\n      if (child.lines && child.lines.length > 50) {\n        // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n        // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n        var remaining = child.lines.length % 25 + 25\n        for (var pos = remaining; pos < child.lines.length;) {\n          var leaf = new LeafChunk(child.lines.slice(pos, pos += 25))\n          child.height -= leaf.height\n          this$1.children.splice(++i, 0, leaf)\n          leaf.parent = this$1\n        }\n        child.lines = child.lines.slice(0, remaining)\n        this$1.maybeSpill()\n      }\n      break\n    }\n    at -= sz\n  }\n};\n\n// When a node has grown, check whether it should be split.\nBranchChunk.prototype.maybeSpill = function () {\n  if (this.children.length <= 10) { return }\n  var me = this\n  do {\n    var spilled = me.children.splice(me.children.length - 5, 5)\n    var sibling = new BranchChunk(spilled)\n    if (!me.parent) { // Become the parent node\n      var copy = new BranchChunk(me.children)\n      copy.parent = me\n      me.children = [copy, sibling]\n      me = copy\n   } else {\n      me.size -= sibling.size\n      me.height -= sibling.height\n      var myIndex = indexOf(me.parent.children, me)\n      me.parent.children.splice(myIndex + 1, 0, sibling)\n    }\n    sibling.parent = me.parent\n  } while (me.children.length > 10)\n  me.parent.maybeSpill()\n};\n\nBranchChunk.prototype.iterN = function (at, n, op) {\n    var this$1 = this;\n\n  for (var i = 0; i < this.children.length; ++i) {\n    var child = this$1.children[i], sz = child.chunkSize()\n    if (at < sz) {\n      var used = Math.min(n, sz - at)\n      if (child.iterN(at, used, op)) { return true }\n      if ((n -= used) == 0) { break }\n      at = 0\n    } else { at -= sz }\n  }\n};\n\n// Line widgets are block elements displayed above or below a line.\n\nvar LineWidget = function(doc, node, options) {\n  var this$1 = this;\n\n  if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n    { this$1[opt] = options[opt] } } }\n  this.doc = doc\n  this.node = node\n};\n\nLineWidget.prototype.clear = function () {\n    var this$1 = this;\n\n  var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line)\n  if (no == null || !ws) { return }\n  for (var i = 0; i < ws.length; ++i) { if (ws[i] == this$1) { ws.splice(i--, 1) } }\n  if (!ws.length) { line.widgets = null }\n  var height = widgetHeight(this)\n  updateLineHeight(line, Math.max(0, line.height - height))\n  if (cm) {\n    runInOp(cm, function () {\n      adjustScrollWhenAboveVisible(cm, line, -height)\n      regLineChange(cm, no, \"widget\")\n    })\n    signalLater(cm, \"lineWidgetCleared\", cm, this, no)\n  }\n};\n\nLineWidget.prototype.changed = function () {\n    var this$1 = this;\n\n  var oldH = this.height, cm = this.doc.cm, line = this.line\n  this.height = null\n  var diff = widgetHeight(this) - oldH\n  if (!diff) { return }\n  updateLineHeight(line, line.height + diff)\n  if (cm) {\n    runInOp(cm, function () {\n      cm.curOp.forceUpdate = true\n      adjustScrollWhenAboveVisible(cm, line, diff)\n      signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line))\n    })\n  }\n};\neventMixin(LineWidget)\n\nfunction adjustScrollWhenAboveVisible(cm, line, diff) {\n  if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n    { addToScrollPos(cm, null, diff) }\n}\n\nfunction addLineWidget(doc, handle, node, options) {\n  var widget = new LineWidget(doc, node, options)\n  var cm = doc.cm\n  if (cm && widget.noHScroll) { cm.display.alignWidgets = true }\n  changeLine(doc, handle, \"widget\", function (line) {\n    var widgets = line.widgets || (line.widgets = [])\n    if (widget.insertAt == null) { widgets.push(widget) }\n    else { widgets.splice(Math.min(widgets.length - 1, Math.max(0, widget.insertAt)), 0, widget) }\n    widget.line = line\n    if (cm && !lineIsHidden(doc, line)) {\n      var aboveVisible = heightAtLine(line) < doc.scrollTop\n      updateLineHeight(line, line.height + widgetHeight(widget))\n      if (aboveVisible) { addToScrollPos(cm, null, widget.height) }\n      cm.curOp.forceUpdate = true\n    }\n    return true\n  })\n  signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle))\n  return widget\n}\n\n// TEXTMARKERS\n\n// Created with markText and setBookmark methods. A TextMarker is a\n// handle that can be used to clear or find a marked position in the\n// document. Line objects hold arrays (markedSpans) containing\n// {from, to, marker} object pointing to such marker objects, and\n// indicating that such a marker is present on that line. Multiple\n// lines may point to the same marker when it spans across lines.\n// The spans will have null for their from/to properties when the\n// marker continues beyond the start/end of the line. Markers have\n// links back to the lines they currently touch.\n\n// Collapsed markers have unique ids, in order to be able to order\n// them, which is needed for uniquely determining an outer marker\n// when they overlap (they may nest, but not partially overlap).\nvar nextMarkerId = 0\n\nvar TextMarker = function(doc, type) {\n  this.lines = []\n  this.type = type\n  this.doc = doc\n  this.id = ++nextMarkerId\n};\n\n// Clear the marker.\nTextMarker.prototype.clear = function () {\n    var this$1 = this;\n\n  if (this.explicitlyCleared) { return }\n  var cm = this.doc.cm, withOp = cm && !cm.curOp\n  if (withOp) { startOperation(cm) }\n  if (hasHandler(this, \"clear\")) {\n    var found = this.find()\n    if (found) { signalLater(this, \"clear\", found.from, found.to) }\n  }\n  var min = null, max = null\n  for (var i = 0; i < this.lines.length; ++i) {\n    var line = this$1.lines[i]\n    var span = getMarkedSpanFor(line.markedSpans, this$1)\n    if (cm && !this$1.collapsed) { regLineChange(cm, lineNo(line), \"text\") }\n    else if (cm) {\n      if (span.to != null) { max = lineNo(line) }\n      if (span.from != null) { min = lineNo(line) }\n    }\n    line.markedSpans = removeMarkedSpan(line.markedSpans, span)\n    if (span.from == null && this$1.collapsed && !lineIsHidden(this$1.doc, line) && cm)\n      { updateLineHeight(line, textHeight(cm.display)) }\n  }\n  if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n    var visual = visualLine(this$1.lines[i$1]), len = lineLength(visual)\n    if (len > cm.display.maxLineLength) {\n      cm.display.maxLine = visual\n      cm.display.maxLineLength = len\n      cm.display.maxLineChanged = true\n    }\n  } }\n\n  if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1) }\n  this.lines.length = 0\n  this.explicitlyCleared = true\n  if (this.atomic && this.doc.cantEdit) {\n    this.doc.cantEdit = false\n    if (cm) { reCheckSelection(cm.doc) }\n  }\n  if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max) }\n  if (withOp) { endOperation(cm) }\n  if (this.parent) { this.parent.clear() }\n};\n\n// Find the position of the marker in the document. Returns a {from,\n// to} object by default. Side can be passed to get a specific side\n// -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n// Pos objects returned contain a line object, rather than a line\n// number (used to prevent looking up the same line twice).\nTextMarker.prototype.find = function (side, lineObj) {\n    var this$1 = this;\n\n  if (side == null && this.type == \"bookmark\") { side = 1 }\n  var from, to\n  for (var i = 0; i < this.lines.length; ++i) {\n    var line = this$1.lines[i]\n    var span = getMarkedSpanFor(line.markedSpans, this$1)\n    if (span.from != null) {\n      from = Pos(lineObj ? line : lineNo(line), span.from)\n      if (side == -1) { return from }\n    }\n    if (span.to != null) {\n      to = Pos(lineObj ? line : lineNo(line), span.to)\n      if (side == 1) { return to }\n    }\n  }\n  return from && {from: from, to: to}\n};\n\n// Signals that the marker's widget changed, and surrounding layout\n// should be recomputed.\nTextMarker.prototype.changed = function () {\n    var this$1 = this;\n\n  var pos = this.find(-1, true), widget = this, cm = this.doc.cm\n  if (!pos || !cm) { return }\n  runInOp(cm, function () {\n    var line = pos.line, lineN = lineNo(pos.line)\n    var view = findViewForLine(cm, lineN)\n    if (view) {\n      clearLineMeasurementCacheFor(view)\n      cm.curOp.selectionChanged = cm.curOp.forceUpdate = true\n    }\n    cm.curOp.updateMaxLine = true\n    if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n      var oldHeight = widget.height\n      widget.height = null\n      var dHeight = widgetHeight(widget) - oldHeight\n      if (dHeight)\n        { updateLineHeight(line, line.height + dHeight) }\n    }\n    signalLater(cm, \"markerChanged\", cm, this$1)\n  })\n};\n\nTextMarker.prototype.attachLine = function (line) {\n  if (!this.lines.length && this.doc.cm) {\n    var op = this.doc.cm.curOp\n    if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n      { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this) }\n  }\n  this.lines.push(line)\n};\n\nTextMarker.prototype.detachLine = function (line) {\n  this.lines.splice(indexOf(this.lines, line), 1)\n  if (!this.lines.length && this.doc.cm) {\n    var op = this.doc.cm.curOp\n    ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this)\n  }\n};\neventMixin(TextMarker)\n\n// Create a marker, wire it up to the right lines, and\nfunction markText(doc, from, to, options, type) {\n  // Shared markers (across linked documents) are handled separately\n  // (markTextShared will call out to this again, once per\n  // document).\n  if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n  // Ensure we are in an operation.\n  if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n  var marker = new TextMarker(doc, type), diff = cmp(from, to)\n  if (options) { copyObj(options, marker, false) }\n  // Don't connect empty markers unless clearWhenEmpty is false\n  if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n    { return marker }\n  if (marker.replacedWith) {\n    // Showing up as a widget implies collapsed (widget replaces text)\n    marker.collapsed = true\n    marker.widgetNode = elt(\"span\", [marker.replacedWith], \"CodeMirror-widget\")\n    marker.widgetNode.setAttribute(\"role\", \"presentation\") // hide from accessibility tree\n    if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\") }\n    if (options.insertLeft) { marker.widgetNode.insertLeft = true }\n  }\n  if (marker.collapsed) {\n    if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n        from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n      { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n    seeCollapsedSpans()\n  }\n\n  if (marker.addToHistory)\n    { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN) }\n\n  var curLine = from.line, cm = doc.cm, updateMaxLine\n  doc.iter(curLine, to.line + 1, function (line) {\n    if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n      { updateMaxLine = true }\n    if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0) }\n    addMarkedSpan(line, new MarkedSpan(marker,\n                                       curLine == from.line ? from.ch : null,\n                                       curLine == to.line ? to.ch : null))\n    ++curLine\n  })\n  // lineIsHidden depends on the presence of the spans, so needs a second pass\n  if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n    if (lineIsHidden(doc, line)) { updateLineHeight(line, 0) }\n  }) }\n\n  if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }) }\n\n  if (marker.readOnly) {\n    seeReadOnlySpans()\n    if (doc.history.done.length || doc.history.undone.length)\n      { doc.clearHistory() }\n  }\n  if (marker.collapsed) {\n    marker.id = ++nextMarkerId\n    marker.atomic = true\n  }\n  if (cm) {\n    // Sync editor state\n    if (updateMaxLine) { cm.curOp.updateMaxLine = true }\n    if (marker.collapsed)\n      { regChange(cm, from.line, to.line + 1) }\n    else if (marker.className || marker.title || marker.startStyle || marker.endStyle || marker.css)\n      { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\") } }\n    if (marker.atomic) { reCheckSelection(cm.doc) }\n    signalLater(cm, \"markerAdded\", cm, marker)\n  }\n  return marker\n}\n\n// SHARED TEXTMARKERS\n\n// A shared marker spans multiple linked documents. It is\n// implemented as a meta-marker-object controlling multiple normal\n// markers.\nvar SharedTextMarker = function(markers, primary) {\n  var this$1 = this;\n\n  this.markers = markers\n  this.primary = primary\n  for (var i = 0; i < markers.length; ++i)\n    { markers[i].parent = this$1 }\n};\n\nSharedTextMarker.prototype.clear = function () {\n    var this$1 = this;\n\n  if (this.explicitlyCleared) { return }\n  this.explicitlyCleared = true\n  for (var i = 0; i < this.markers.length; ++i)\n    { this$1.markers[i].clear() }\n  signalLater(this, \"clear\")\n};\n\nSharedTextMarker.prototype.find = function (side, lineObj) {\n  return this.primary.find(side, lineObj)\n};\neventMixin(SharedTextMarker)\n\nfunction markTextShared(doc, from, to, options, type) {\n  options = copyObj(options)\n  options.shared = false\n  var markers = [markText(doc, from, to, options, type)], primary = markers[0]\n  var widget = options.widgetNode\n  linkedDocs(doc, function (doc) {\n    if (widget) { options.widgetNode = widget.cloneNode(true) }\n    markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type))\n    for (var i = 0; i < doc.linked.length; ++i)\n      { if (doc.linked[i].isParent) { return } }\n    primary = lst(markers)\n  })\n  return new SharedTextMarker(markers, primary)\n}\n\nfunction findSharedMarkers(doc) {\n  return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n}\n\nfunction copySharedMarkers(doc, markers) {\n  for (var i = 0; i < markers.length; i++) {\n    var marker = markers[i], pos = marker.find()\n    var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to)\n    if (cmp(mFrom, mTo)) {\n      var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type)\n      marker.markers.push(subMark)\n      subMark.parent = marker\n    }\n  }\n}\n\nfunction detachSharedMarkers(markers) {\n  var loop = function ( i ) {\n    var marker = markers[i], linked = [marker.primary.doc]\n    linkedDocs(marker.primary.doc, function (d) { return linked.push(d); })\n    for (var j = 0; j < marker.markers.length; j++) {\n      var subMarker = marker.markers[j]\n      if (indexOf(linked, subMarker.doc) == -1) {\n        subMarker.parent = null\n        marker.markers.splice(j--, 1)\n      }\n    }\n  };\n\n  for (var i = 0; i < markers.length; i++) loop( i );\n}\n\nvar nextDocId = 0\nvar Doc = function(text, mode, firstLine, lineSep) {\n  if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep) }\n  if (firstLine == null) { firstLine = 0 }\n\n  BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])])\n  this.first = firstLine\n  this.scrollTop = this.scrollLeft = 0\n  this.cantEdit = false\n  this.cleanGeneration = 1\n  this.frontier = firstLine\n  var start = Pos(firstLine, 0)\n  this.sel = simpleSelection(start)\n  this.history = new History(null)\n  this.id = ++nextDocId\n  this.modeOption = mode\n  this.lineSep = lineSep\n  this.extend = false\n\n  if (typeof text == \"string\") { text = this.splitLines(text) }\n  updateDoc(this, {from: start, to: start, text: text})\n  setSelection(this, simpleSelection(start), sel_dontScroll)\n}\n\nDoc.prototype = createObj(BranchChunk.prototype, {\n  constructor: Doc,\n  // Iterate over the document. Supports two forms -- with only one\n  // argument, it calls that for each line in the document. With\n  // three, it iterates over the range given by the first two (with\n  // the second being non-inclusive).\n  iter: function(from, to, op) {\n    if (op) { this.iterN(from - this.first, to - from, op) }\n    else { this.iterN(this.first, this.first + this.size, from) }\n  },\n\n  // Non-public interface for adding and removing lines.\n  insert: function(at, lines) {\n    var height = 0\n    for (var i = 0; i < lines.length; ++i) { height += lines[i].height }\n    this.insertInner(at - this.first, lines, height)\n  },\n  remove: function(at, n) { this.removeInner(at - this.first, n) },\n\n  // From here, the methods are part of the public interface. Most\n  // are also available from CodeMirror (editor) instances.\n\n  getValue: function(lineSep) {\n    var lines = getLines(this, this.first, this.first + this.size)\n    if (lineSep === false) { return lines }\n    return lines.join(lineSep || this.lineSeparator())\n  },\n  setValue: docMethodOp(function(code) {\n    var top = Pos(this.first, 0), last = this.first + this.size - 1\n    makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                      text: this.splitLines(code), origin: \"setValue\", full: true}, true)\n    setSelection(this, simpleSelection(top))\n  }),\n  replaceRange: function(code, from, to, origin) {\n    from = clipPos(this, from)\n    to = to ? clipPos(this, to) : from\n    replaceRange(this, code, from, to, origin)\n  },\n  getRange: function(from, to, lineSep) {\n    var lines = getBetween(this, clipPos(this, from), clipPos(this, to))\n    if (lineSep === false) { return lines }\n    return lines.join(lineSep || this.lineSeparator())\n  },\n\n  getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n  getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n  getLineNumber: function(line) {return lineNo(line)},\n\n  getLineHandleVisualStart: function(line) {\n    if (typeof line == \"number\") { line = getLine(this, line) }\n    return visualLine(line)\n  },\n\n  lineCount: function() {return this.size},\n  firstLine: function() {return this.first},\n  lastLine: function() {return this.first + this.size - 1},\n\n  clipPos: function(pos) {return clipPos(this, pos)},\n\n  getCursor: function(start) {\n    var range = this.sel.primary(), pos\n    if (start == null || start == \"head\") { pos = range.head }\n    else if (start == \"anchor\") { pos = range.anchor }\n    else if (start == \"end\" || start == \"to\" || start === false) { pos = range.to() }\n    else { pos = range.from() }\n    return pos\n  },\n  listSelections: function() { return this.sel.ranges },\n  somethingSelected: function() {return this.sel.somethingSelected()},\n\n  setCursor: docMethodOp(function(line, ch, options) {\n    setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options)\n  }),\n  setSelection: docMethodOp(function(anchor, head, options) {\n    setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options)\n  }),\n  extendSelection: docMethodOp(function(head, other, options) {\n    extendSelection(this, clipPos(this, head), other && clipPos(this, other), options)\n  }),\n  extendSelections: docMethodOp(function(heads, options) {\n    extendSelections(this, clipPosArray(this, heads), options)\n  }),\n  extendSelectionsBy: docMethodOp(function(f, options) {\n    var heads = map(this.sel.ranges, f)\n    extendSelections(this, clipPosArray(this, heads), options)\n  }),\n  setSelections: docMethodOp(function(ranges, primary, options) {\n    var this$1 = this;\n\n    if (!ranges.length) { return }\n    var out = []\n    for (var i = 0; i < ranges.length; i++)\n      { out[i] = new Range(clipPos(this$1, ranges[i].anchor),\n                         clipPos(this$1, ranges[i].head)) }\n    if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex) }\n    setSelection(this, normalizeSelection(out, primary), options)\n  }),\n  addSelection: docMethodOp(function(anchor, head, options) {\n    var ranges = this.sel.ranges.slice(0)\n    ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)))\n    setSelection(this, normalizeSelection(ranges, ranges.length - 1), options)\n  }),\n\n  getSelection: function(lineSep) {\n    var this$1 = this;\n\n    var ranges = this.sel.ranges, lines\n    for (var i = 0; i < ranges.length; i++) {\n      var sel = getBetween(this$1, ranges[i].from(), ranges[i].to())\n      lines = lines ? lines.concat(sel) : sel\n    }\n    if (lineSep === false) { return lines }\n    else { return lines.join(lineSep || this.lineSeparator()) }\n  },\n  getSelections: function(lineSep) {\n    var this$1 = this;\n\n    var parts = [], ranges = this.sel.ranges\n    for (var i = 0; i < ranges.length; i++) {\n      var sel = getBetween(this$1, ranges[i].from(), ranges[i].to())\n      if (lineSep !== false) { sel = sel.join(lineSep || this$1.lineSeparator()) }\n      parts[i] = sel\n    }\n    return parts\n  },\n  replaceSelection: function(code, collapse, origin) {\n    var dup = []\n    for (var i = 0; i < this.sel.ranges.length; i++)\n      { dup[i] = code }\n    this.replaceSelections(dup, collapse, origin || \"+input\")\n  },\n  replaceSelections: docMethodOp(function(code, collapse, origin) {\n    var this$1 = this;\n\n    var changes = [], sel = this.sel\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i]\n      changes[i] = {from: range.from(), to: range.to(), text: this$1.splitLines(code[i]), origin: origin}\n    }\n    var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse)\n    for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n      { makeChange(this$1, changes[i$1]) }\n    if (newSel) { setSelectionReplaceHistory(this, newSel) }\n    else if (this.cm) { ensureCursorVisible(this.cm) }\n  }),\n  undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\")}),\n  redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\")}),\n  undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true)}),\n  redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true)}),\n\n  setExtending: function(val) {this.extend = val},\n  getExtending: function() {return this.extend},\n\n  historySize: function() {\n    var hist = this.history, done = 0, undone = 0\n    for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done } }\n    for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone } }\n    return {undo: done, redo: undone}\n  },\n  clearHistory: function() {this.history = new History(this.history.maxGeneration)},\n\n  markClean: function() {\n    this.cleanGeneration = this.changeGeneration(true)\n  },\n  changeGeneration: function(forceSplit) {\n    if (forceSplit)\n      { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null }\n    return this.history.generation\n  },\n  isClean: function (gen) {\n    return this.history.generation == (gen || this.cleanGeneration)\n  },\n\n  getHistory: function() {\n    return {done: copyHistoryArray(this.history.done),\n            undone: copyHistoryArray(this.history.undone)}\n  },\n  setHistory: function(histData) {\n    var hist = this.history = new History(this.history.maxGeneration)\n    hist.done = copyHistoryArray(histData.done.slice(0), null, true)\n    hist.undone = copyHistoryArray(histData.undone.slice(0), null, true)\n  },\n\n  setGutterMarker: docMethodOp(function(line, gutterID, value) {\n    return changeLine(this, line, \"gutter\", function (line) {\n      var markers = line.gutterMarkers || (line.gutterMarkers = {})\n      markers[gutterID] = value\n      if (!value && isEmpty(markers)) { line.gutterMarkers = null }\n      return true\n    })\n  }),\n\n  clearGutter: docMethodOp(function(gutterID) {\n    var this$1 = this;\n\n    this.iter(function (line) {\n      if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n        changeLine(this$1, line, \"gutter\", function () {\n          line.gutterMarkers[gutterID] = null\n          if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null }\n          return true\n        })\n      }\n    })\n  }),\n\n  lineInfo: function(line) {\n    var n\n    if (typeof line == \"number\") {\n      if (!isLine(this, line)) { return null }\n      n = line\n      line = getLine(this, line)\n      if (!line) { return null }\n    } else {\n      n = lineNo(line)\n      if (n == null) { return null }\n    }\n    return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n            textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n            widgets: line.widgets}\n  },\n\n  addLineClass: docMethodOp(function(handle, where, cls) {\n    return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n      var prop = where == \"text\" ? \"textClass\"\n               : where == \"background\" ? \"bgClass\"\n               : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\"\n      if (!line[prop]) { line[prop] = cls }\n      else if (classTest(cls).test(line[prop])) { return false }\n      else { line[prop] += \" \" + cls }\n      return true\n    })\n  }),\n  removeLineClass: docMethodOp(function(handle, where, cls) {\n    return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n      var prop = where == \"text\" ? \"textClass\"\n               : where == \"background\" ? \"bgClass\"\n               : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\"\n      var cur = line[prop]\n      if (!cur) { return false }\n      else if (cls == null) { line[prop] = null }\n      else {\n        var found = cur.match(classTest(cls))\n        if (!found) { return false }\n        var end = found.index + found[0].length\n        line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null\n      }\n      return true\n    })\n  }),\n\n  addLineWidget: docMethodOp(function(handle, node, options) {\n    return addLineWidget(this, handle, node, options)\n  }),\n  removeLineWidget: function(widget) { widget.clear() },\n\n  markText: function(from, to, options) {\n    return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n  },\n  setBookmark: function(pos, options) {\n    var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                    insertLeft: options && options.insertLeft,\n                    clearWhenEmpty: false, shared: options && options.shared,\n                    handleMouseEvents: options && options.handleMouseEvents}\n    pos = clipPos(this, pos)\n    return markText(this, pos, pos, realOpts, \"bookmark\")\n  },\n  findMarksAt: function(pos) {\n    pos = clipPos(this, pos)\n    var markers = [], spans = getLine(this, pos.line).markedSpans\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i]\n      if ((span.from == null || span.from <= pos.ch) &&\n          (span.to == null || span.to >= pos.ch))\n        { markers.push(span.marker.parent || span.marker) }\n    } }\n    return markers\n  },\n  findMarks: function(from, to, filter) {\n    from = clipPos(this, from); to = clipPos(this, to)\n    var found = [], lineNo = from.line\n    this.iter(from.line, to.line + 1, function (line) {\n      var spans = line.markedSpans\n      if (spans) { for (var i = 0; i < spans.length; i++) {\n        var span = spans[i]\n        if (!(span.to != null && lineNo == from.line && from.ch >= span.to ||\n              span.from == null && lineNo != from.line ||\n              span.from != null && lineNo == to.line && span.from >= to.ch) &&\n            (!filter || filter(span.marker)))\n          { found.push(span.marker.parent || span.marker) }\n      } }\n      ++lineNo\n    })\n    return found\n  },\n  getAllMarks: function() {\n    var markers = []\n    this.iter(function (line) {\n      var sps = line.markedSpans\n      if (sps) { for (var i = 0; i < sps.length; ++i)\n        { if (sps[i].from != null) { markers.push(sps[i].marker) } } }\n    })\n    return markers\n  },\n\n  posFromIndex: function(off) {\n    var ch, lineNo = this.first, sepSize = this.lineSeparator().length\n    this.iter(function (line) {\n      var sz = line.text.length + sepSize\n      if (sz > off) { ch = off; return true }\n      off -= sz\n      ++lineNo\n    })\n    return clipPos(this, Pos(lineNo, ch))\n  },\n  indexFromPos: function (coords) {\n    coords = clipPos(this, coords)\n    var index = coords.ch\n    if (coords.line < this.first || coords.ch < 0) { return 0 }\n    var sepSize = this.lineSeparator().length\n    this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\n      index += line.text.length + sepSize\n    })\n    return index\n  },\n\n  copy: function(copyHistory) {\n    var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                      this.modeOption, this.first, this.lineSep)\n    doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft\n    doc.sel = this.sel\n    doc.extend = false\n    if (copyHistory) {\n      doc.history.undoDepth = this.history.undoDepth\n      doc.setHistory(this.getHistory())\n    }\n    return doc\n  },\n\n  linkedDoc: function(options) {\n    if (!options) { options = {} }\n    var from = this.first, to = this.first + this.size\n    if (options.from != null && options.from > from) { from = options.from }\n    if (options.to != null && options.to < to) { to = options.to }\n    var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep)\n    if (options.sharedHist) { copy.history = this.history\n    ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist})\n    copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}]\n    copySharedMarkers(copy, findSharedMarkers(this))\n    return copy\n  },\n  unlinkDoc: function(other) {\n    var this$1 = this;\n\n    if (other instanceof CodeMirror) { other = other.doc }\n    if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n      var link = this$1.linked[i]\n      if (link.doc != other) { continue }\n      this$1.linked.splice(i, 1)\n      other.unlinkDoc(this$1)\n      detachSharedMarkers(findSharedMarkers(this$1))\n      break\n    } }\n    // If the histories were shared, split them again\n    if (other.history == this.history) {\n      var splitIds = [other.id]\n      linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true)\n      other.history = new History(null)\n      other.history.done = copyHistoryArray(this.history.done, splitIds)\n      other.history.undone = copyHistoryArray(this.history.undone, splitIds)\n    }\n  },\n  iterLinkedDocs: function(f) {linkedDocs(this, f)},\n\n  getMode: function() {return this.mode},\n  getEditor: function() {return this.cm},\n\n  splitLines: function(str) {\n    if (this.lineSep) { return str.split(this.lineSep) }\n    return splitLinesAuto(str)\n  },\n  lineSeparator: function() { return this.lineSep || \"\\n\" }\n})\n\n// Public alias.\nDoc.prototype.eachLine = Doc.prototype.iter\n\n// Kludge to work around strange IE behavior where it'll sometimes\n// re-fire a series of drag-related events right after the drop (#1551)\nvar lastDrop = 0\n\nfunction onDrop(e) {\n  var cm = this\n  clearDragCursor(cm)\n  if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n    { return }\n  e_preventDefault(e)\n  if (ie) { lastDrop = +new Date }\n  var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files\n  if (!pos || cm.isReadOnly()) { return }\n  // Might be a file drop, in which case we simply extract the text\n  // and insert it.\n  if (files && files.length && window.FileReader && window.File) {\n    var n = files.length, text = Array(n), read = 0\n    var loadFile = function (file, i) {\n      if (cm.options.allowDropFileTypes &&\n          indexOf(cm.options.allowDropFileTypes, file.type) == -1)\n        { return }\n\n      var reader = new FileReader\n      reader.onload = operation(cm, function () {\n        var content = reader.result\n        if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) { content = \"\" }\n        text[i] = content\n        if (++read == n) {\n          pos = clipPos(cm.doc, pos)\n          var change = {from: pos, to: pos,\n                        text: cm.doc.splitLines(text.join(cm.doc.lineSeparator())),\n                        origin: \"paste\"}\n          makeChange(cm.doc, change)\n          setSelectionReplaceHistory(cm.doc, simpleSelection(pos, changeEnd(change)))\n        }\n      })\n      reader.readAsText(file)\n    }\n    for (var i = 0; i < n; ++i) { loadFile(files[i], i) }\n  } else { // Normal drop\n    // Don't do a replace if the drop happened inside of the selected text.\n    if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n      cm.state.draggingText(e)\n      // Ensure the editor is re-focused\n      setTimeout(function () { return cm.display.input.focus(); }, 20)\n      return\n    }\n    try {\n      var text$1 = e.dataTransfer.getData(\"Text\")\n      if (text$1) {\n        var selected\n        if (cm.state.draggingText && !cm.state.draggingText.copy)\n          { selected = cm.listSelections() }\n        setSelectionNoUndo(cm.doc, simpleSelection(pos, pos))\n        if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n          { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\") } }\n        cm.replaceSelection(text$1, \"around\", \"paste\")\n        cm.display.input.focus()\n      }\n    }\n    catch(e){}\n  }\n}\n\nfunction onDragStart(cm, e) {\n  if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n  if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n  e.dataTransfer.setData(\"Text\", cm.getSelection())\n  e.dataTransfer.effectAllowed = \"copyMove\"\n\n  // Use dummy image instead of default browsers image.\n  // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n  if (e.dataTransfer.setDragImage && !safari) {\n    var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\")\n    img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\"\n    if (presto) {\n      img.width = img.height = 1\n      cm.display.wrapper.appendChild(img)\n      // Force a relayout, or Opera won't use our image for some obscure reason\n      img._top = img.offsetTop\n    }\n    e.dataTransfer.setDragImage(img, 0, 0)\n    if (presto) { img.parentNode.removeChild(img) }\n  }\n}\n\nfunction onDragOver(cm, e) {\n  var pos = posFromMouse(cm, e)\n  if (!pos) { return }\n  var frag = document.createDocumentFragment()\n  drawSelectionCursor(cm, pos, frag)\n  if (!cm.display.dragCursor) {\n    cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\")\n    cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv)\n  }\n  removeChildrenAndAdd(cm.display.dragCursor, frag)\n}\n\nfunction clearDragCursor(cm) {\n  if (cm.display.dragCursor) {\n    cm.display.lineSpace.removeChild(cm.display.dragCursor)\n    cm.display.dragCursor = null\n  }\n}\n\n// These must be handled carefully, because naively registering a\n// handler for each editor will cause the editors to never be\n// garbage collected.\n\nfunction forEachCodeMirror(f) {\n  if (!document.body.getElementsByClassName) { return }\n  var byClass = document.body.getElementsByClassName(\"CodeMirror\")\n  for (var i = 0; i < byClass.length; i++) {\n    var cm = byClass[i].CodeMirror\n    if (cm) { f(cm) }\n  }\n}\n\nvar globalsRegistered = false\nfunction ensureGlobalHandlers() {\n  if (globalsRegistered) { return }\n  registerGlobalHandlers()\n  globalsRegistered = true\n}\nfunction registerGlobalHandlers() {\n  // When the window resizes, we need to refresh active editors.\n  var resizeTimer\n  on(window, \"resize\", function () {\n    if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n      resizeTimer = null\n      forEachCodeMirror(onResize)\n    }, 100) }\n  })\n  // When the window loses focus, we want to show the editor as blurred\n  on(window, \"blur\", function () { return forEachCodeMirror(onBlur); })\n}\n// Called when the window resizes\nfunction onResize(cm) {\n  var d = cm.display\n  if (d.lastWrapHeight == d.wrapper.clientHeight && d.lastWrapWidth == d.wrapper.clientWidth)\n    { return }\n  // Might be a text scaling operation, clear size caches.\n  d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null\n  d.scrollbarsClipped = false\n  cm.setSize()\n}\n\nvar keyNames = {\n  3: \"Enter\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n  19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n  36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n  46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n  106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 127: \"Delete\",\n  173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n  221: \"]\", 222: \"'\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n  63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n}\n\n// Number keys\nfor (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i) }\n// Alphabetic keys\nfor (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1) }\n// Function keys\nfor (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2 }\n\nvar keyMap = {}\n\nkeyMap.basic = {\n  \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n  \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n  \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n  \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n  \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n  \"Esc\": \"singleSelection\"\n}\n// Note that the save and find-related commands aren't defined by\n// default. User code or addons can define them. Unknown commands\n// are simply ignored.\nkeyMap.pcDefault = {\n  \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n  \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n  \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n  \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n  \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n  \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n  \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n  fallthrough: \"basic\"\n}\n// Very basic readline/emacs-style bindings, which are standard on Mac.\nkeyMap.emacsy = {\n  \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n  \"Alt-F\": \"goWordRight\", \"Alt-B\": \"goWordLeft\", \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\",\n  \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\", \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\",\n  \"Alt-D\": \"delWordAfter\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\", \"Ctrl-T\": \"transposeChars\",\n  \"Ctrl-O\": \"openLine\"\n}\nkeyMap.macDefault = {\n  \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n  \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n  \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n  \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n  \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n  \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n  \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n  fallthrough: [\"basic\", \"emacsy\"]\n}\nkeyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault\n\n// KEYMAP DISPATCH\n\nfunction normalizeKeyName(name) {\n  var parts = name.split(/-(?!$)/)\n  name = parts[parts.length - 1]\n  var alt, ctrl, shift, cmd\n  for (var i = 0; i < parts.length - 1; i++) {\n    var mod = parts[i]\n    if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true }\n    else if (/^a(lt)?$/i.test(mod)) { alt = true }\n    else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true }\n    else if (/^s(hift)?$/i.test(mod)) { shift = true }\n    else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n  }\n  if (alt) { name = \"Alt-\" + name }\n  if (ctrl) { name = \"Ctrl-\" + name }\n  if (cmd) { name = \"Cmd-\" + name }\n  if (shift) { name = \"Shift-\" + name }\n  return name\n}\n\n// This is a kludge to keep keymaps mostly working as raw objects\n// (backwards compatibility) while at the same time support features\n// like normalization and multi-stroke key bindings. It compiles a\n// new normalized keymap, and then updates the old object to reflect\n// this.\nfunction normalizeKeyMap(keymap) {\n  var copy = {}\n  for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n    var value = keymap[keyname]\n    if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\n    if (value == \"...\") { delete keymap[keyname]; continue }\n\n    var keys = map(keyname.split(\" \"), normalizeKeyName)\n    for (var i = 0; i < keys.length; i++) {\n      var val = (void 0), name = (void 0)\n      if (i == keys.length - 1) {\n        name = keys.join(\" \")\n        val = value\n      } else {\n        name = keys.slice(0, i + 1).join(\" \")\n        val = \"...\"\n      }\n      var prev = copy[name]\n      if (!prev) { copy[name] = val }\n      else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n    }\n    delete keymap[keyname]\n  } }\n  for (var prop in copy) { keymap[prop] = copy[prop] }\n  return keymap\n}\n\nfunction lookupKey(key, map, handle, context) {\n  map = getKeyMap(map)\n  var found = map.call ? map.call(key, context) : map[key]\n  if (found === false) { return \"nothing\" }\n  if (found === \"...\") { return \"multi\" }\n  if (found != null && handle(found)) { return \"handled\" }\n\n  if (map.fallthrough) {\n    if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\")\n      { return lookupKey(key, map.fallthrough, handle, context) }\n    for (var i = 0; i < map.fallthrough.length; i++) {\n      var result = lookupKey(key, map.fallthrough[i], handle, context)\n      if (result) { return result }\n    }\n  }\n}\n\n// Modifier key presses don't count as 'real' key presses for the\n// purpose of keymap fallthrough.\nfunction isModifierKey(value) {\n  var name = typeof value == \"string\" ? value : keyNames[value.keyCode]\n  return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n}\n\n// Look up the name of a key as indicated by an event object.\nfunction keyName(event, noShift) {\n  if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n  var base = keyNames[event.keyCode], name = base\n  if (name == null || event.altGraphKey) { return false }\n  if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name }\n  if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name }\n  if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Cmd\") { name = \"Cmd-\" + name }\n  if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name }\n  return name\n}\n\nfunction getKeyMap(val) {\n  return typeof val == \"string\" ? keyMap[val] : val\n}\n\n// Helper for deleting text near the selection(s), used to implement\n// backspace, delete, and similar functionality.\nfunction deleteNearSelection(cm, compute) {\n  var ranges = cm.doc.sel.ranges, kill = []\n  // Build up a set of ranges to kill first, merging overlapping\n  // ranges.\n  for (var i = 0; i < ranges.length; i++) {\n    var toKill = compute(ranges[i])\n    while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n      var replaced = kill.pop()\n      if (cmp(replaced.from, toKill.from) < 0) {\n        toKill.from = replaced.from\n        break\n      }\n    }\n    kill.push(toKill)\n  }\n  // Next, remove those actual ranges.\n  runInOp(cm, function () {\n    for (var i = kill.length - 1; i >= 0; i--)\n      { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\") }\n    ensureCursorVisible(cm)\n  })\n}\n\n// Commands are parameter-less actions that can be performed on an\n// editor, mostly used for keybindings.\nvar commands = {\n  selectAll: selectAll,\n  singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n  killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n    if (range.empty()) {\n      var len = getLine(cm.doc, range.head.line).text.length\n      if (range.head.ch == len && range.head.line < cm.lastLine())\n        { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n      else\n        { return {from: range.head, to: Pos(range.head.line, len)} }\n    } else {\n      return {from: range.from(), to: range.to()}\n    }\n  }); },\n  deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n    from: Pos(range.from().line, 0),\n    to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n  }); }); },\n  delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n    from: Pos(range.from().line, 0), to: range.from()\n  }); }); },\n  delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n    var top = cm.charCoords(range.head, \"div\").top + 5\n    var leftPos = cm.coordsChar({left: 0, top: top}, \"div\")\n    return {from: leftPos, to: range.from()}\n  }); },\n  delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n    var top = cm.charCoords(range.head, \"div\").top + 5\n    var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n    return {from: range.from(), to: rightPos }\n  }); },\n  undo: function (cm) { return cm.undo(); },\n  redo: function (cm) { return cm.redo(); },\n  undoSelection: function (cm) { return cm.undoSelection(); },\n  redoSelection: function (cm) { return cm.redoSelection(); },\n  goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n  goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n  goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n    {origin: \"+move\", bias: 1}\n  ); },\n  goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n    {origin: \"+move\", bias: 1}\n  ); },\n  goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n    {origin: \"+move\", bias: -1}\n  ); },\n  goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n    var top = cm.charCoords(range.head, \"div\").top + 5\n    return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n  }, sel_move); },\n  goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n    var top = cm.charCoords(range.head, \"div\").top + 5\n    return cm.coordsChar({left: 0, top: top}, \"div\")\n  }, sel_move); },\n  goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n    var top = cm.charCoords(range.head, \"div\").top + 5\n    var pos = cm.coordsChar({left: 0, top: top}, \"div\")\n    if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\n    return pos\n  }, sel_move); },\n  goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n  goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n  goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n  goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n  goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n  goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n  goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n  goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n  goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n  goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n  goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n  goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n  delCharBefore: function (cm) { return cm.deleteH(-1, \"char\"); },\n  delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n  delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n  delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n  delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n  delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n  indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n  indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n  indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n  insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n  insertSoftTab: function (cm) {\n    var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize\n    for (var i = 0; i < ranges.length; i++) {\n      var pos = ranges[i].from()\n      var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize)\n      spaces.push(spaceStr(tabSize - col % tabSize))\n    }\n    cm.replaceSelections(spaces)\n  },\n  defaultTab: function (cm) {\n    if (cm.somethingSelected()) { cm.indentSelection(\"add\") }\n    else { cm.execCommand(\"insertTab\") }\n  },\n  // Swap the two chars left and right of each selection's head.\n  // Move cursor behind the two swapped characters afterwards.\n  //\n  // Doesn't consider line feeds a character.\n  // Doesn't scan more than one line above to find a character.\n  // Doesn't do anything on an empty line.\n  // Doesn't do anything with non-empty selections.\n  transposeChars: function (cm) { return runInOp(cm, function () {\n    var ranges = cm.listSelections(), newSel = []\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) { continue }\n      var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text\n      if (line) {\n        if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1) }\n        if (cur.ch > 0) {\n          cur = new Pos(cur.line, cur.ch + 1)\n          cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                          Pos(cur.line, cur.ch - 2), cur, \"+transpose\")\n        } else if (cur.line > cm.doc.first) {\n          var prev = getLine(cm.doc, cur.line - 1).text\n          if (prev) {\n            cur = new Pos(cur.line, 1)\n            cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                            prev.charAt(prev.length - 1),\n                            Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\")\n          }\n        }\n      }\n      newSel.push(new Range(cur, cur))\n    }\n    cm.setSelections(newSel)\n  }); },\n  newlineAndIndent: function (cm) { return runInOp(cm, function () {\n    var sels = cm.listSelections()\n    for (var i = sels.length - 1; i >= 0; i--)\n      { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\") }\n    sels = cm.listSelections()\n    for (var i$1 = 0; i$1 < sels.length; i$1++)\n      { cm.indentLine(sels[i$1].from().line, null, true) }\n    ensureCursorVisible(cm)\n  }); },\n  openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n  toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n}\n\n\nfunction lineStart(cm, lineN) {\n  var line = getLine(cm.doc, lineN)\n  var visual = visualLine(line)\n  if (visual != line) { lineN = lineNo(visual) }\n  return endOfLine(true, cm, visual, lineN, 1)\n}\nfunction lineEnd(cm, lineN) {\n  var line = getLine(cm.doc, lineN)\n  var visual = visualLineEnd(line)\n  if (visual != line) { lineN = lineNo(visual) }\n  return endOfLine(true, cm, line, lineN, -1)\n}\nfunction lineStartSmart(cm, pos) {\n  var start = lineStart(cm, pos.line)\n  var line = getLine(cm.doc, start.line)\n  var order = getOrder(line)\n  if (!order || order[0].level == 0) {\n    var firstNonWS = Math.max(0, line.text.search(/\\S/))\n    var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch\n    return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\n  }\n  return start\n}\n\n// Run a handler that was bound to a key.\nfunction doHandleBinding(cm, bound, dropShift) {\n  if (typeof bound == \"string\") {\n    bound = commands[bound]\n    if (!bound) { return false }\n  }\n  // Ensure previous input has been read, so that the handler sees a\n  // consistent view of the document\n  cm.display.input.ensurePolled()\n  var prevShift = cm.display.shift, done = false\n  try {\n    if (cm.isReadOnly()) { cm.state.suppressEdits = true }\n    if (dropShift) { cm.display.shift = false }\n    done = bound(cm) != Pass\n  } finally {\n    cm.display.shift = prevShift\n    cm.state.suppressEdits = false\n  }\n  return done\n}\n\nfunction lookupKeyForEditor(cm, name, handle) {\n  for (var i = 0; i < cm.state.keyMaps.length; i++) {\n    var result = lookupKey(name, cm.state.keyMaps[i], handle, cm)\n    if (result) { return result }\n  }\n  return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n    || lookupKey(name, cm.options.keyMap, handle, cm)\n}\n\nvar stopSeq = new Delayed\nfunction dispatchKey(cm, name, e, handle) {\n  var seq = cm.state.keySeq\n  if (seq) {\n    if (isModifierKey(name)) { return \"handled\" }\n    stopSeq.set(50, function () {\n      if (cm.state.keySeq == seq) {\n        cm.state.keySeq = null\n        cm.display.input.reset()\n      }\n    })\n    name = seq + \" \" + name\n  }\n  var result = lookupKeyForEditor(cm, name, handle)\n\n  if (result == \"multi\")\n    { cm.state.keySeq = name }\n  if (result == \"handled\")\n    { signalLater(cm, \"keyHandled\", cm, name, e) }\n\n  if (result == \"handled\" || result == \"multi\") {\n    e_preventDefault(e)\n    restartBlink(cm)\n  }\n\n  if (seq && !result && /\\'$/.test(name)) {\n    e_preventDefault(e)\n    return true\n  }\n  return !!result\n}\n\n// Handle a key from the keydown event.\nfunction handleKeyBinding(cm, e) {\n  var name = keyName(e, true)\n  if (!name) { return false }\n\n  if (e.shiftKey && !cm.state.keySeq) {\n    // First try to resolve full name (including 'Shift-'). Failing\n    // that, see if there is a cursor-motion command (starting with\n    // 'go') bound to the keyname without 'Shift-'.\n    return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n        || dispatchKey(cm, name, e, function (b) {\n             if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n               { return doHandleBinding(cm, b) }\n           })\n  } else {\n    return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n  }\n}\n\n// Handle a key from the keypress event\nfunction handleCharBinding(cm, e, ch) {\n  return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n}\n\nvar lastStoppedKey = null\nfunction onKeyDown(e) {\n  var cm = this\n  cm.curOp.focus = activeElt()\n  if (signalDOMEvent(cm, e)) { return }\n  // IE does strange things with escape.\n  if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false }\n  var code = e.keyCode\n  cm.display.shift = code == 16 || e.shiftKey\n  var handled = handleKeyBinding(cm, e)\n  if (presto) {\n    lastStoppedKey = handled ? code : null\n    // Opera has no cut event... we try to at least catch the key combo\n    if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n      { cm.replaceSelection(\"\", null, \"cut\") }\n  }\n\n  // Turn mouse into crosshair when Alt is held on Mac.\n  if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n    { showCrossHair(cm) }\n}\n\nfunction showCrossHair(cm) {\n  var lineDiv = cm.display.lineDiv\n  addClass(lineDiv, \"CodeMirror-crosshair\")\n\n  function up(e) {\n    if (e.keyCode == 18 || !e.altKey) {\n      rmClass(lineDiv, \"CodeMirror-crosshair\")\n      off(document, \"keyup\", up)\n      off(document, \"mouseover\", up)\n    }\n  }\n  on(document, \"keyup\", up)\n  on(document, \"mouseover\", up)\n}\n\nfunction onKeyUp(e) {\n  if (e.keyCode == 16) { this.doc.sel.shift = false }\n  signalDOMEvent(this, e)\n}\n\nfunction onKeyPress(e) {\n  var cm = this\n  if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n  var keyCode = e.keyCode, charCode = e.charCode\n  if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n  if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n  var ch = String.fromCharCode(charCode == null ? keyCode : charCode)\n  // Some browsers fire keypress events for backspace\n  if (ch == \"\\x08\") { return }\n  if (handleCharBinding(cm, e, ch)) { return }\n  cm.display.input.onKeyPress(e)\n}\n\n// A mouse down can be a single click, double click, triple click,\n// start of selection drag, start of text drag, new cursor\n// (ctrl-click), rectangle drag (alt-drag), or xwin\n// middle-click-paste. Or it might be a click on something we should\n// not interfere with, such as a scrollbar or widget.\nfunction onMouseDown(e) {\n  var cm = this, display = cm.display\n  if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n  display.input.ensurePolled()\n  display.shift = e.shiftKey\n\n  if (eventInWidget(display, e)) {\n    if (!webkit) {\n      // Briefly turn off draggability, to allow widgets to do\n      // normal dragging things.\n      display.scroller.draggable = false\n      setTimeout(function () { return display.scroller.draggable = true; }, 100)\n    }\n    return\n  }\n  if (clickInGutter(cm, e)) { return }\n  var start = posFromMouse(cm, e)\n  window.focus()\n\n  switch (e_button(e)) {\n  case 1:\n    // #3261: make sure, that we're not starting a second selection\n    if (cm.state.selectingText)\n      { cm.state.selectingText(e) }\n    else if (start)\n      { leftButtonDown(cm, e, start) }\n    else if (e_target(e) == display.scroller)\n      { e_preventDefault(e) }\n    break\n  case 2:\n    if (webkit) { cm.state.lastMiddleDown = +new Date }\n    if (start) { extendSelection(cm.doc, start) }\n    setTimeout(function () { return display.input.focus(); }, 20)\n    e_preventDefault(e)\n    break\n  case 3:\n    if (captureRightClick) { onContextMenu(cm, e) }\n    else { delayBlurEvent(cm) }\n    break\n  }\n}\n\nvar lastClick;\nvar lastDoubleClick;\nfunction leftButtonDown(cm, e, start) {\n  if (ie) { setTimeout(bind(ensureFocus, cm), 0) }\n  else { cm.curOp.focus = activeElt() }\n\n  var now = +new Date, type\n  if (lastDoubleClick && lastDoubleClick.time > now - 400 && cmp(lastDoubleClick.pos, start) == 0) {\n    type = \"triple\"\n  } else if (lastClick && lastClick.time > now - 400 && cmp(lastClick.pos, start) == 0) {\n    type = \"double\"\n    lastDoubleClick = {time: now, pos: start}\n  } else {\n    type = \"single\"\n    lastClick = {time: now, pos: start}\n  }\n\n  var sel = cm.doc.sel, modifier = mac ? e.metaKey : e.ctrlKey, contained\n  if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n      type == \"single\" && (contained = sel.contains(start)) > -1 &&\n      (cmp((contained = sel.ranges[contained]).from(), start) < 0 || start.xRel > 0) &&\n      (cmp(contained.to(), start) > 0 || start.xRel < 0))\n    { leftButtonStartDrag(cm, e, start, modifier) }\n  else\n    { leftButtonSelect(cm, e, start, type, modifier) }\n}\n\n// Start a text drag. When it ends, see if any dragging actually\n// happen, and treat as a click if it didn't.\nfunction leftButtonStartDrag(cm, e, start, modifier) {\n  var display = cm.display, startTime = +new Date\n  var dragEnd = operation(cm, function (e2) {\n    if (webkit) { display.scroller.draggable = false }\n    cm.state.draggingText = false\n    off(document, \"mouseup\", dragEnd)\n    off(display.scroller, \"drop\", dragEnd)\n    if (Math.abs(e.clientX - e2.clientX) + Math.abs(e.clientY - e2.clientY) < 10) {\n      e_preventDefault(e2)\n      if (!modifier && +new Date - 200 < startTime)\n        { extendSelection(cm.doc, start) }\n      // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n      if (webkit || ie && ie_version == 9)\n        { setTimeout(function () {document.body.focus(); display.input.focus()}, 20) }\n      else\n        { display.input.focus() }\n    }\n  })\n  // Let the drag handler handle this.\n  if (webkit) { display.scroller.draggable = true }\n  cm.state.draggingText = dragEnd\n  dragEnd.copy = mac ? e.altKey : e.ctrlKey\n  // IE's approach to draggable\n  if (display.scroller.dragDrop) { display.scroller.dragDrop() }\n  on(document, \"mouseup\", dragEnd)\n  on(display.scroller, \"drop\", dragEnd)\n}\n\n// Normal selection, as opposed to text dragging.\nfunction leftButtonSelect(cm, e, start, type, addNew) {\n  var display = cm.display, doc = cm.doc\n  e_preventDefault(e)\n\n  var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges\n  if (addNew && !e.shiftKey) {\n    ourIndex = doc.sel.contains(start)\n    if (ourIndex > -1)\n      { ourRange = ranges[ourIndex] }\n    else\n      { ourRange = new Range(start, start) }\n  } else {\n    ourRange = doc.sel.primary()\n    ourIndex = doc.sel.primIndex\n  }\n\n  if (chromeOS ? e.shiftKey && e.metaKey : e.altKey) {\n    type = \"rect\"\n    if (!addNew) { ourRange = new Range(start, start) }\n    start = posFromMouse(cm, e, true, true)\n    ourIndex = -1\n  } else if (type == \"double\") {\n    var word = cm.findWordAt(start)\n    if (cm.display.shift || doc.extend)\n      { ourRange = extendRange(doc, ourRange, word.anchor, word.head) }\n    else\n      { ourRange = word }\n  } else if (type == \"triple\") {\n    var line = new Range(Pos(start.line, 0), clipPos(doc, Pos(start.line + 1, 0)))\n    if (cm.display.shift || doc.extend)\n      { ourRange = extendRange(doc, ourRange, line.anchor, line.head) }\n    else\n      { ourRange = line }\n  } else {\n    ourRange = extendRange(doc, ourRange, start)\n  }\n\n  if (!addNew) {\n    ourIndex = 0\n    setSelection(doc, new Selection([ourRange], 0), sel_mouse)\n    startSel = doc.sel\n  } else if (ourIndex == -1) {\n    ourIndex = ranges.length\n    setSelection(doc, normalizeSelection(ranges.concat([ourRange]), ourIndex),\n                 {scroll: false, origin: \"*mouse\"})\n  } else if (ranges.length > 1 && ranges[ourIndex].empty() && type == \"single\" && !e.shiftKey) {\n    setSelection(doc, normalizeSelection(ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                 {scroll: false, origin: \"*mouse\"})\n    startSel = doc.sel\n  } else {\n    replaceOneSelection(doc, ourIndex, ourRange, sel_mouse)\n  }\n\n  var lastPos = start\n  function extendTo(pos) {\n    if (cmp(lastPos, pos) == 0) { return }\n    lastPos = pos\n\n    if (type == \"rect\") {\n      var ranges = [], tabSize = cm.options.tabSize\n      var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize)\n      var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize)\n      var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol)\n      for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n           line <= end; line++) {\n        var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize)\n        if (left == right)\n          { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))) }\n        else if (text.length > leftPos)\n          { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))) }\n      }\n      if (!ranges.length) { ranges.push(new Range(start, start)) }\n      setSelection(doc, normalizeSelection(startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                   {origin: \"*mouse\", scroll: false})\n      cm.scrollIntoView(pos)\n    } else {\n      var oldRange = ourRange\n      var anchor = oldRange.anchor, head = pos\n      if (type != \"single\") {\n        var range\n        if (type == \"double\")\n          { range = cm.findWordAt(pos) }\n        else\n          { range = new Range(Pos(pos.line, 0), clipPos(doc, Pos(pos.line + 1, 0))) }\n        if (cmp(range.anchor, anchor) > 0) {\n          head = range.head\n          anchor = minPos(oldRange.from(), range.anchor)\n        } else {\n          head = range.anchor\n          anchor = maxPos(oldRange.to(), range.head)\n        }\n      }\n      var ranges$1 = startSel.ranges.slice(0)\n      ranges$1[ourIndex] = new Range(clipPos(doc, anchor), head)\n      setSelection(doc, normalizeSelection(ranges$1, ourIndex), sel_mouse)\n    }\n  }\n\n  var editorSize = display.wrapper.getBoundingClientRect()\n  // Used to ensure timeout re-tries don't fire when another extend\n  // happened in the meantime (clearTimeout isn't reliable -- at\n  // least on Chrome, the timeouts still happen even when cleared,\n  // if the clear happens after their scheduled firing time).\n  var counter = 0\n\n  function extend(e) {\n    var curCount = ++counter\n    var cur = posFromMouse(cm, e, true, type == \"rect\")\n    if (!cur) { return }\n    if (cmp(cur, lastPos) != 0) {\n      cm.curOp.focus = activeElt()\n      extendTo(cur)\n      var visible = visibleLines(display, doc)\n      if (cur.line >= visible.to || cur.line < visible.from)\n        { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e) }}), 150) }\n    } else {\n      var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0\n      if (outside) { setTimeout(operation(cm, function () {\n        if (counter != curCount) { return }\n        display.scroller.scrollTop += outside\n        extend(e)\n      }), 50) }\n    }\n  }\n\n  function done(e) {\n    cm.state.selectingText = false\n    counter = Infinity\n    e_preventDefault(e)\n    display.input.focus()\n    off(document, \"mousemove\", move)\n    off(document, \"mouseup\", up)\n    doc.history.lastSelOrigin = null\n  }\n\n  var move = operation(cm, function (e) {\n    if (!e_button(e)) { done(e) }\n    else { extend(e) }\n  })\n  var up = operation(cm, done)\n  cm.state.selectingText = up\n  on(document, \"mousemove\", move)\n  on(document, \"mouseup\", up)\n}\n\n\n// Determines whether an event happened in the gutter, and fires the\n// handlers for the corresponding event.\nfunction gutterEvent(cm, e, type, prevent) {\n  var mX, mY\n  try { mX = e.clientX; mY = e.clientY }\n  catch(e) { return false }\n  if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n  if (prevent) { e_preventDefault(e) }\n\n  var display = cm.display\n  var lineBox = display.lineDiv.getBoundingClientRect()\n\n  if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n  mY -= lineBox.top - display.viewOffset\n\n  for (var i = 0; i < cm.options.gutters.length; ++i) {\n    var g = display.gutters.childNodes[i]\n    if (g && g.getBoundingClientRect().right >= mX) {\n      var line = lineAtHeight(cm.doc, mY)\n      var gutter = cm.options.gutters[i]\n      signal(cm, type, cm, line, gutter, e)\n      return e_defaultPrevented(e)\n    }\n  }\n}\n\nfunction clickInGutter(cm, e) {\n  return gutterEvent(cm, e, \"gutterClick\", true)\n}\n\n// CONTEXT MENU HANDLING\n\n// To make the context menu work, we need to briefly unhide the\n// textarea (making it as unobtrusive as possible) to let the\n// right-click take effect on it.\nfunction onContextMenu(cm, e) {\n  if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n  if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n  cm.display.input.onContextMenu(e)\n}\n\nfunction contextMenuInGutter(cm, e) {\n  if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n  return gutterEvent(cm, e, \"gutterContextMenu\", false)\n}\n\nfunction themeChanged(cm) {\n  cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n    cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\")\n  clearCaches(cm)\n}\n\nvar Init = {toString: function(){return \"CodeMirror.Init\"}}\n\nvar defaults = {}\nvar optionHandlers = {}\n\nfunction defineOptions(CodeMirror) {\n  var optionHandlers = CodeMirror.optionHandlers\n\n  function option(name, deflt, handle, notOnInit) {\n    CodeMirror.defaults[name] = deflt\n    if (handle) { optionHandlers[name] =\n      notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old) }} : handle }\n  }\n\n  CodeMirror.defineOption = option\n\n  // Passed to option handlers when there is no old value.\n  CodeMirror.Init = Init\n\n  // These two are, on init, called from the constructor because they\n  // have to be initialized before the editor can start at all.\n  option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true)\n  option(\"mode\", null, function (cm, val) {\n    cm.doc.modeOption = val\n    loadMode(cm)\n  }, true)\n\n  option(\"indentUnit\", 2, loadMode, true)\n  option(\"indentWithTabs\", false)\n  option(\"smartIndent\", true)\n  option(\"tabSize\", 4, function (cm) {\n    resetModeState(cm)\n    clearCaches(cm)\n    regChange(cm)\n  }, true)\n  option(\"lineSeparator\", null, function (cm, val) {\n    cm.doc.lineSep = val\n    if (!val) { return }\n    var newBreaks = [], lineNo = cm.doc.first\n    cm.doc.iter(function (line) {\n      for (var pos = 0;;) {\n        var found = line.text.indexOf(val, pos)\n        if (found == -1) { break }\n        pos = found + val.length\n        newBreaks.push(Pos(lineNo, found))\n      }\n      lineNo++\n    })\n    for (var i = newBreaks.length - 1; i >= 0; i--)\n      { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)) }\n  })\n  option(\"specialChars\", /[\\u0000-\\u001f\\u007f\\u00ad\\u061c\\u200b-\\u200f\\u2028\\u2029\\ufeff]/g, function (cm, val, old) {\n    cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\")\n    if (old != Init) { cm.refresh() }\n  })\n  option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true)\n  option(\"electricChars\", true)\n  option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n    throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\n  }, true)\n  option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true)\n  option(\"rtlMoveVisually\", !windows)\n  option(\"wholeLineUpdateBefore\", true)\n\n  option(\"theme\", \"default\", function (cm) {\n    themeChanged(cm)\n    guttersChanged(cm)\n  }, true)\n  option(\"keyMap\", \"default\", function (cm, val, old) {\n    var next = getKeyMap(val)\n    var prev = old != Init && getKeyMap(old)\n    if (prev && prev.detach) { prev.detach(cm, next) }\n    if (next.attach) { next.attach(cm, prev || null) }\n  })\n  option(\"extraKeys\", null)\n\n  option(\"lineWrapping\", false, wrappingChanged, true)\n  option(\"gutters\", [], function (cm) {\n    setGuttersForLineNumbers(cm.options)\n    guttersChanged(cm)\n  }, true)\n  option(\"fixedGutter\", true, function (cm, val) {\n    cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\"\n    cm.refresh()\n  }, true)\n  option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true)\n  option(\"scrollbarStyle\", \"native\", function (cm) {\n    initScrollbars(cm)\n    updateScrollbars(cm)\n    cm.display.scrollbars.setScrollTop(cm.doc.scrollTop)\n    cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft)\n  }, true)\n  option(\"lineNumbers\", false, function (cm) {\n    setGuttersForLineNumbers(cm.options)\n    guttersChanged(cm)\n  }, true)\n  option(\"firstLineNumber\", 1, guttersChanged, true)\n  option(\"lineNumberFormatter\", function (integer) { return integer; }, guttersChanged, true)\n  option(\"showCursorWhenSelecting\", false, updateSelection, true)\n\n  option(\"resetSelectionOnContextMenu\", true)\n  option(\"lineWiseCopyCut\", true)\n\n  option(\"readOnly\", false, function (cm, val) {\n    if (val == \"nocursor\") {\n      onBlur(cm)\n      cm.display.input.blur()\n      cm.display.disabled = true\n    } else {\n      cm.display.disabled = false\n    }\n    cm.display.input.readOnlyChanged(val)\n  })\n  option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset() }}, true)\n  option(\"dragDrop\", true, dragDropChanged)\n  option(\"allowDropFileTypes\", null)\n\n  option(\"cursorBlinkRate\", 530)\n  option(\"cursorScrollMargin\", 0)\n  option(\"cursorHeight\", 1, updateSelection, true)\n  option(\"singleCursorHeightPerLine\", true, updateSelection, true)\n  option(\"workTime\", 100)\n  option(\"workDelay\", 100)\n  option(\"flattenSpans\", true, resetModeState, true)\n  option(\"addModeClass\", false, resetModeState, true)\n  option(\"pollInterval\", 100)\n  option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; })\n  option(\"historyEventDelay\", 1250)\n  option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true)\n  option(\"maxHighlightLength\", 10000, resetModeState, true)\n  option(\"moveInputWithCursor\", true, function (cm, val) {\n    if (!val) { cm.display.input.resetPosition() }\n  })\n\n  option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; })\n  option(\"autofocus\", null)\n}\n\nfunction guttersChanged(cm) {\n  updateGutters(cm)\n  regChange(cm)\n  alignHorizontally(cm)\n}\n\nfunction dragDropChanged(cm, value, old) {\n  var wasOn = old && old != Init\n  if (!value != !wasOn) {\n    var funcs = cm.display.dragFunctions\n    var toggle = value ? on : off\n    toggle(cm.display.scroller, \"dragstart\", funcs.start)\n    toggle(cm.display.scroller, \"dragenter\", funcs.enter)\n    toggle(cm.display.scroller, \"dragover\", funcs.over)\n    toggle(cm.display.scroller, \"dragleave\", funcs.leave)\n    toggle(cm.display.scroller, \"drop\", funcs.drop)\n  }\n}\n\nfunction wrappingChanged(cm) {\n  if (cm.options.lineWrapping) {\n    addClass(cm.display.wrapper, \"CodeMirror-wrap\")\n    cm.display.sizer.style.minWidth = \"\"\n    cm.display.sizerWidth = null\n  } else {\n    rmClass(cm.display.wrapper, \"CodeMirror-wrap\")\n    findMaxLine(cm)\n  }\n  estimateLineHeights(cm)\n  regChange(cm)\n  clearCaches(cm)\n  setTimeout(function () { return updateScrollbars(cm); }, 100)\n}\n\n// A CodeMirror instance represents an editor. This is the object\n// that user code is usually dealing with.\n\nfunction CodeMirror(place, options) {\n  var this$1 = this;\n\n  if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\n\n  this.options = options = options ? copyObj(options) : {}\n  // Determine effective options based on given values and defaults.\n  copyObj(defaults, options, false)\n  setGuttersForLineNumbers(options)\n\n  var doc = options.value\n  if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator) }\n  this.doc = doc\n\n  var input = new CodeMirror.inputStyles[options.inputStyle](this)\n  var display = this.display = new Display(place, doc, input)\n  display.wrapper.CodeMirror = this\n  updateGutters(this)\n  themeChanged(this)\n  if (options.lineWrapping)\n    { this.display.wrapper.className += \" CodeMirror-wrap\" }\n  initScrollbars(this)\n\n  this.state = {\n    keyMaps: [],  // stores maps added by addKeyMap\n    overlays: [], // highlighting overlays, as added by addOverlay\n    modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n    overwrite: false,\n    delayingBlurEvent: false,\n    focused: false,\n    suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n    pasteIncoming: false, cutIncoming: false, // help recognize paste/cut edits in input.poll\n    selectingText: false,\n    draggingText: false,\n    highlight: new Delayed(), // stores highlight worker timeout\n    keySeq: null,  // Unfinished key sequence\n    specialChars: null\n  }\n\n  if (options.autofocus && !mobile) { display.input.focus() }\n\n  // Override magic textarea content restore that IE sometimes does\n  // on our hidden textarea on reload\n  if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20) }\n\n  registerEventHandlers(this)\n  ensureGlobalHandlers()\n\n  startOperation(this)\n  this.curOp.forceUpdate = true\n  attachDoc(this, doc)\n\n  if ((options.autofocus && !mobile) || this.hasFocus())\n    { setTimeout(bind(onFocus, this), 20) }\n  else\n    { onBlur(this) }\n\n  for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n    { optionHandlers[opt](this$1, options[opt], Init) } }\n  maybeUpdateLineNumberWidth(this)\n  if (options.finishInit) { options.finishInit(this) }\n  for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this$1) }\n  endOperation(this)\n  // Suppress optimizelegibility in Webkit, since it breaks text\n  // measuring on line wrapping boundaries.\n  if (webkit && options.lineWrapping &&\n      getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n    { display.lineDiv.style.textRendering = \"auto\" }\n}\n\n// The default configuration options.\nCodeMirror.defaults = defaults\n// Functions to run when options are changed.\nCodeMirror.optionHandlers = optionHandlers\n\n// Attach the necessary event handlers when initializing the editor\nfunction registerEventHandlers(cm) {\n  var d = cm.display\n  on(d.scroller, \"mousedown\", operation(cm, onMouseDown))\n  // Older IE's will not fire a second mousedown for a double click\n  if (ie && ie_version < 11)\n    { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n      if (signalDOMEvent(cm, e)) { return }\n      var pos = posFromMouse(cm, e)\n      if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n      e_preventDefault(e)\n      var word = cm.findWordAt(pos)\n      extendSelection(cm.doc, word.anchor, word.head)\n    })) }\n  else\n    { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }) }\n  // Some browsers fire contextmenu *after* opening the menu, at\n  // which point we can't mess with it anymore. Context menu is\n  // handled in onMouseDown for these browsers.\n  if (!captureRightClick) { on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); }) }\n\n  // Used to suppress mouse event handling when a touch happens\n  var touchFinished, prevTouch = {end: 0}\n  function finishTouch() {\n    if (d.activeTouch) {\n      touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000)\n      prevTouch = d.activeTouch\n      prevTouch.end = +new Date\n    }\n  }\n  function isMouseLikeTouchEvent(e) {\n    if (e.touches.length != 1) { return false }\n    var touch = e.touches[0]\n    return touch.radiusX <= 1 && touch.radiusY <= 1\n  }\n  function farAway(touch, other) {\n    if (other.left == null) { return true }\n    var dx = other.left - touch.left, dy = other.top - touch.top\n    return dx * dx + dy * dy > 20 * 20\n  }\n  on(d.scroller, \"touchstart\", function (e) {\n    if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e)) {\n      d.input.ensurePolled()\n      clearTimeout(touchFinished)\n      var now = +new Date\n      d.activeTouch = {start: now, moved: false,\n                       prev: now - prevTouch.end <= 300 ? prevTouch : null}\n      if (e.touches.length == 1) {\n        d.activeTouch.left = e.touches[0].pageX\n        d.activeTouch.top = e.touches[0].pageY\n      }\n    }\n  })\n  on(d.scroller, \"touchmove\", function () {\n    if (d.activeTouch) { d.activeTouch.moved = true }\n  })\n  on(d.scroller, \"touchend\", function (e) {\n    var touch = d.activeTouch\n    if (touch && !eventInWidget(d, e) && touch.left != null &&\n        !touch.moved && new Date - touch.start < 300) {\n      var pos = cm.coordsChar(d.activeTouch, \"page\"), range\n      if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n        { range = new Range(pos, pos) }\n      else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n        { range = cm.findWordAt(pos) }\n      else // Triple tap\n        { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n      cm.setSelection(range.anchor, range.head)\n      cm.focus()\n      e_preventDefault(e)\n    }\n    finishTouch()\n  })\n  on(d.scroller, \"touchcancel\", finishTouch)\n\n  // Sync scrolling between fake scrollbars and real scrollable\n  // area, ensure viewport is updated when scrolling.\n  on(d.scroller, \"scroll\", function () {\n    if (d.scroller.clientHeight) {\n      setScrollTop(cm, d.scroller.scrollTop)\n      setScrollLeft(cm, d.scroller.scrollLeft, true)\n      signal(cm, \"scroll\", cm)\n    }\n  })\n\n  // Listen to wheel events in order to try and update the viewport on time.\n  on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); })\n  on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); })\n\n  // Prevent wrapper from ever scrolling\n  on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; })\n\n  d.dragFunctions = {\n    enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e) }},\n    over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e) }},\n    start: function (e) { return onDragStart(cm, e); },\n    drop: operation(cm, onDrop),\n    leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm) }}\n  }\n\n  var inp = d.input.getField()\n  on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); })\n  on(inp, \"keydown\", operation(cm, onKeyDown))\n  on(inp, \"keypress\", operation(cm, onKeyPress))\n  on(inp, \"focus\", function (e) { return onFocus(cm, e); })\n  on(inp, \"blur\", function (e) { return onBlur(cm, e); })\n}\n\nvar initHooks = []\nCodeMirror.defineInitHook = function (f) { return initHooks.push(f); }\n\n// Indent the given line. The how parameter can be \"smart\",\n// \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n// (typically set to true for forced single-line indents), empty\n// lines are not indented, and places where the mode returns Pass\n// are left alone.\nfunction indentLine(cm, n, how, aggressive) {\n  var doc = cm.doc, state\n  if (how == null) { how = \"add\" }\n  if (how == \"smart\") {\n    // Fall back to \"prev\" when the mode doesn't have an indentation\n    // method.\n    if (!doc.mode.indent) { how = \"prev\" }\n    else { state = getStateBefore(cm, n) }\n  }\n\n  var tabSize = cm.options.tabSize\n  var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize)\n  if (line.stateAfter) { line.stateAfter = null }\n  var curSpaceString = line.text.match(/^\\s*/)[0], indentation\n  if (!aggressive && !/\\S/.test(line.text)) {\n    indentation = 0\n    how = \"not\"\n  } else if (how == \"smart\") {\n    indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text)\n    if (indentation == Pass || indentation > 150) {\n      if (!aggressive) { return }\n      how = \"prev\"\n    }\n  }\n  if (how == \"prev\") {\n    if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize) }\n    else { indentation = 0 }\n  } else if (how == \"add\") {\n    indentation = curSpace + cm.options.indentUnit\n  } else if (how == \"subtract\") {\n    indentation = curSpace - cm.options.indentUnit\n  } else if (typeof how == \"number\") {\n    indentation = curSpace + how\n  }\n  indentation = Math.max(0, indentation)\n\n  var indentString = \"\", pos = 0\n  if (cm.options.indentWithTabs)\n    { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\"} }\n  if (pos < indentation) { indentString += spaceStr(indentation - pos) }\n\n  if (indentString != curSpaceString) {\n    replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\")\n    line.stateAfter = null\n    return true\n  } else {\n    // Ensure that, if the cursor was in the whitespace at the start\n    // of the line, it is moved to the end of that space.\n    for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n      var range = doc.sel.ranges[i$1]\n      if (range.head.line == n && range.head.ch < curSpaceString.length) {\n        var pos$1 = Pos(n, curSpaceString.length)\n        replaceOneSelection(doc, i$1, new Range(pos$1, pos$1))\n        break\n      }\n    }\n  }\n}\n\n// This will be set to a {lineWise: bool, text: [string]} object, so\n// that, when pasting, we know what kind of selections the copied\n// text was made out of.\nvar lastCopied = null\n\nfunction setLastCopied(newLastCopied) {\n  lastCopied = newLastCopied\n}\n\nfunction applyTextInput(cm, inserted, deleted, sel, origin) {\n  var doc = cm.doc\n  cm.display.shift = false\n  if (!sel) { sel = doc.sel }\n\n  var paste = cm.state.pasteIncoming || origin == \"paste\"\n  var textLines = splitLinesAuto(inserted), multiPaste = null\n  // When pasing N lines into N selections, insert one line per selection\n  if (paste && sel.ranges.length > 1) {\n    if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n      if (sel.ranges.length % lastCopied.text.length == 0) {\n        multiPaste = []\n        for (var i = 0; i < lastCopied.text.length; i++)\n          { multiPaste.push(doc.splitLines(lastCopied.text[i])) }\n      }\n    } else if (textLines.length == sel.ranges.length) {\n      multiPaste = map(textLines, function (l) { return [l]; })\n    }\n  }\n\n  var updateInput\n  // Normal behavior is to insert the new text into every selection\n  for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n    var range = sel.ranges[i$1]\n    var from = range.from(), to = range.to()\n    if (range.empty()) {\n      if (deleted && deleted > 0) // Handle deletion\n        { from = Pos(from.line, from.ch - deleted) }\n      else if (cm.state.overwrite && !paste) // Handle overwrite\n        { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)) }\n      else if (lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == inserted)\n        { from = to = Pos(from.line, 0) }\n    }\n    updateInput = cm.curOp.updateInput\n    var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n                       origin: origin || (paste ? \"paste\" : cm.state.cutIncoming ? \"cut\" : \"+input\")}\n    makeChange(cm.doc, changeEvent)\n    signalLater(cm, \"inputRead\", cm, changeEvent)\n  }\n  if (inserted && !paste)\n    { triggerElectric(cm, inserted) }\n\n  ensureCursorVisible(cm)\n  cm.curOp.updateInput = updateInput\n  cm.curOp.typing = true\n  cm.state.pasteIncoming = cm.state.cutIncoming = false\n}\n\nfunction handlePaste(e, cm) {\n  var pasted = e.clipboardData && e.clipboardData.getData(\"Text\")\n  if (pasted) {\n    e.preventDefault()\n    if (!cm.isReadOnly() && !cm.options.disableInput)\n      { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }) }\n    return true\n  }\n}\n\nfunction triggerElectric(cm, inserted) {\n  // When an 'electric' character is inserted, immediately trigger a reindent\n  if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n  var sel = cm.doc.sel\n\n  for (var i = sel.ranges.length - 1; i >= 0; i--) {\n    var range = sel.ranges[i]\n    if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) { continue }\n    var mode = cm.getModeAt(range.head)\n    var indented = false\n    if (mode.electricChars) {\n      for (var j = 0; j < mode.electricChars.length; j++)\n        { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n          indented = indentLine(cm, range.head.line, \"smart\")\n          break\n        } }\n    } else if (mode.electricInput) {\n      if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))\n        { indented = indentLine(cm, range.head.line, \"smart\") }\n    }\n    if (indented) { signalLater(cm, \"electricInput\", cm, range.head.line) }\n  }\n}\n\nfunction copyableRanges(cm) {\n  var text = [], ranges = []\n  for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n    var line = cm.doc.sel.ranges[i].head.line\n    var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)}\n    ranges.push(lineRange)\n    text.push(cm.getRange(lineRange.anchor, lineRange.head))\n  }\n  return {text: text, ranges: ranges}\n}\n\nfunction disableBrowserMagic(field, spellcheck) {\n  field.setAttribute(\"autocorrect\", \"off\")\n  field.setAttribute(\"autocapitalize\", \"off\")\n  field.setAttribute(\"spellcheck\", !!spellcheck)\n}\n\nfunction hiddenTextarea() {\n  var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\")\n  var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\")\n  // The textarea is kept positioned near the cursor to prevent the\n  // fact that it'll be scrolled into view on input from scrolling\n  // our fake cursor out of view. On webkit, when wrap=off, paste is\n  // very slow. So make the area wide instead.\n  if (webkit) { te.style.width = \"1000px\" }\n  else { te.setAttribute(\"wrap\", \"off\") }\n  // If border: 0; -- iOS fails to open keyboard (issue #1287)\n  if (ios) { te.style.border = \"1px solid black\" }\n  disableBrowserMagic(te)\n  return div\n}\n\n// The publicly visible API. Note that methodOp(f) means\n// 'wrap f in an operation, performed on its `this` parameter'.\n\n// This is not the complete set of editor methods. Most of the\n// methods defined on the Doc type are also injected into\n// CodeMirror.prototype, for backwards compatibility and\n// convenience.\n\nfunction addEditorMethods(CodeMirror) {\n  var optionHandlers = CodeMirror.optionHandlers\n\n  var helpers = CodeMirror.helpers = {}\n\n  CodeMirror.prototype = {\n    constructor: CodeMirror,\n    focus: function(){window.focus(); this.display.input.focus()},\n\n    setOption: function(option, value) {\n      var options = this.options, old = options[option]\n      if (options[option] == value && option != \"mode\") { return }\n      options[option] = value\n      if (optionHandlers.hasOwnProperty(option))\n        { operation(this, optionHandlers[option])(this, value, old) }\n      signal(this, \"optionChange\", this, option)\n    },\n\n    getOption: function(option) {return this.options[option]},\n    getDoc: function() {return this.doc},\n\n    addKeyMap: function(map, bottom) {\n      this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map))\n    },\n    removeKeyMap: function(map) {\n      var maps = this.state.keyMaps\n      for (var i = 0; i < maps.length; ++i)\n        { if (maps[i] == map || maps[i].name == map) {\n          maps.splice(i, 1)\n          return true\n        } }\n    },\n\n    addOverlay: methodOp(function(spec, options) {\n      var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec)\n      if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n      insertSorted(this.state.overlays,\n                   {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n                    priority: (options && options.priority) || 0},\n                   function (overlay) { return overlay.priority; })\n      this.state.modeGen++\n      regChange(this)\n    }),\n    removeOverlay: methodOp(function(spec) {\n      var this$1 = this;\n\n      var overlays = this.state.overlays\n      for (var i = 0; i < overlays.length; ++i) {\n        var cur = overlays[i].modeSpec\n        if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n          overlays.splice(i, 1)\n          this$1.state.modeGen++\n          regChange(this$1)\n          return\n        }\n      }\n    }),\n\n    indentLine: methodOp(function(n, dir, aggressive) {\n      if (typeof dir != \"string\" && typeof dir != \"number\") {\n        if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\" }\n        else { dir = dir ? \"add\" : \"subtract\" }\n      }\n      if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive) }\n    }),\n    indentSelection: methodOp(function(how) {\n      var this$1 = this;\n\n      var ranges = this.doc.sel.ranges, end = -1\n      for (var i = 0; i < ranges.length; i++) {\n        var range = ranges[i]\n        if (!range.empty()) {\n          var from = range.from(), to = range.to()\n          var start = Math.max(end, from.line)\n          end = Math.min(this$1.lastLine(), to.line - (to.ch ? 0 : 1)) + 1\n          for (var j = start; j < end; ++j)\n            { indentLine(this$1, j, how) }\n          var newRanges = this$1.doc.sel.ranges\n          if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n            { replaceOneSelection(this$1.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll) }\n        } else if (range.head.line > end) {\n          indentLine(this$1, range.head.line, how, true)\n          end = range.head.line\n          if (i == this$1.doc.sel.primIndex) { ensureCursorVisible(this$1) }\n        }\n      }\n    }),\n\n    // Fetch the parser token for a given character. Useful for hacks\n    // that want to inspect the mode state (say, for completion).\n    getTokenAt: function(pos, precise) {\n      return takeToken(this, pos, precise)\n    },\n\n    getLineTokens: function(line, precise) {\n      return takeToken(this, Pos(line), precise, true)\n    },\n\n    getTokenTypeAt: function(pos) {\n      pos = clipPos(this.doc, pos)\n      var styles = getLineStyles(this, getLine(this.doc, pos.line))\n      var before = 0, after = (styles.length - 1) / 2, ch = pos.ch\n      var type\n      if (ch == 0) { type = styles[2] }\n      else { for (;;) {\n        var mid = (before + after) >> 1\n        if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid }\n        else if (styles[mid * 2 + 1] < ch) { before = mid + 1 }\n        else { type = styles[mid * 2 + 2]; break }\n      } }\n      var cut = type ? type.indexOf(\"overlay \") : -1\n      return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n    },\n\n    getModeAt: function(pos) {\n      var mode = this.doc.mode\n      if (!mode.innerMode) { return mode }\n      return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n    },\n\n    getHelper: function(pos, type) {\n      return this.getHelpers(pos, type)[0]\n    },\n\n    getHelpers: function(pos, type) {\n      var this$1 = this;\n\n      var found = []\n      if (!helpers.hasOwnProperty(type)) { return found }\n      var help = helpers[type], mode = this.getModeAt(pos)\n      if (typeof mode[type] == \"string\") {\n        if (help[mode[type]]) { found.push(help[mode[type]]) }\n      } else if (mode[type]) {\n        for (var i = 0; i < mode[type].length; i++) {\n          var val = help[mode[type][i]]\n          if (val) { found.push(val) }\n        }\n      } else if (mode.helperType && help[mode.helperType]) {\n        found.push(help[mode.helperType])\n      } else if (help[mode.name]) {\n        found.push(help[mode.name])\n      }\n      for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n        var cur = help._global[i$1]\n        if (cur.pred(mode, this$1) && indexOf(found, cur.val) == -1)\n          { found.push(cur.val) }\n      }\n      return found\n    },\n\n    getStateAfter: function(line, precise) {\n      var doc = this.doc\n      line = clipLine(doc, line == null ? doc.first + doc.size - 1: line)\n      return getStateBefore(this, line + 1, precise)\n    },\n\n    cursorCoords: function(start, mode) {\n      var pos, range = this.doc.sel.primary()\n      if (start == null) { pos = range.head }\n      else if (typeof start == \"object\") { pos = clipPos(this.doc, start) }\n      else { pos = start ? range.from() : range.to() }\n      return cursorCoords(this, pos, mode || \"page\")\n    },\n\n    charCoords: function(pos, mode) {\n      return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n    },\n\n    coordsChar: function(coords, mode) {\n      coords = fromCoordSystem(this, coords, mode || \"page\")\n      return coordsChar(this, coords.left, coords.top)\n    },\n\n    lineAtHeight: function(height, mode) {\n      height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top\n      return lineAtHeight(this.doc, height + this.display.viewOffset)\n    },\n    heightAtLine: function(line, mode, includeWidgets) {\n      var end = false, lineObj\n      if (typeof line == \"number\") {\n        var last = this.doc.first + this.doc.size - 1\n        if (line < this.doc.first) { line = this.doc.first }\n        else if (line > last) { line = last; end = true }\n        lineObj = getLine(this.doc, line)\n      } else {\n        lineObj = line\n      }\n      return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\n        (end ? this.doc.height - heightAtLine(lineObj) : 0)\n    },\n\n    defaultTextHeight: function() { return textHeight(this.display) },\n    defaultCharWidth: function() { return charWidth(this.display) },\n\n    getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n    addWidget: function(pos, node, scroll, vert, horiz) {\n      var display = this.display\n      pos = cursorCoords(this, clipPos(this.doc, pos))\n      var top = pos.bottom, left = pos.left\n      node.style.position = \"absolute\"\n      node.setAttribute(\"cm-ignore-events\", \"true\")\n      this.display.input.setUneditable(node)\n      display.sizer.appendChild(node)\n      if (vert == \"over\") {\n        top = pos.top\n      } else if (vert == \"above\" || vert == \"near\") {\n        var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n        hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth)\n        // Default to positioning above (if specified and possible); otherwise default to positioning below\n        if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n          { top = pos.top - node.offsetHeight }\n        else if (pos.bottom + node.offsetHeight <= vspace)\n          { top = pos.bottom }\n        if (left + node.offsetWidth > hspace)\n          { left = hspace - node.offsetWidth }\n      }\n      node.style.top = top + \"px\"\n      node.style.left = node.style.right = \"\"\n      if (horiz == \"right\") {\n        left = display.sizer.clientWidth - node.offsetWidth\n        node.style.right = \"0px\"\n      } else {\n        if (horiz == \"left\") { left = 0 }\n        else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2 }\n        node.style.left = left + \"px\"\n      }\n      if (scroll)\n        { scrollIntoView(this, left, top, left + node.offsetWidth, top + node.offsetHeight) }\n    },\n\n    triggerOnKeyDown: methodOp(onKeyDown),\n    triggerOnKeyPress: methodOp(onKeyPress),\n    triggerOnKeyUp: onKeyUp,\n\n    execCommand: function(cmd) {\n      if (commands.hasOwnProperty(cmd))\n        { return commands[cmd].call(null, this) }\n    },\n\n    triggerElectric: methodOp(function(text) { triggerElectric(this, text) }),\n\n    findPosH: function(from, amount, unit, visually) {\n      var this$1 = this;\n\n      var dir = 1\n      if (amount < 0) { dir = -1; amount = -amount }\n      var cur = clipPos(this.doc, from)\n      for (var i = 0; i < amount; ++i) {\n        cur = findPosH(this$1.doc, cur, dir, unit, visually)\n        if (cur.hitSide) { break }\n      }\n      return cur\n    },\n\n    moveH: methodOp(function(dir, unit) {\n      var this$1 = this;\n\n      this.extendSelectionsBy(function (range) {\n        if (this$1.display.shift || this$1.doc.extend || range.empty())\n          { return findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually) }\n        else\n          { return dir < 0 ? range.from() : range.to() }\n      }, sel_move)\n    }),\n\n    deleteH: methodOp(function(dir, unit) {\n      var sel = this.doc.sel, doc = this.doc\n      if (sel.somethingSelected())\n        { doc.replaceSelection(\"\", null, \"+delete\") }\n      else\n        { deleteNearSelection(this, function (range) {\n          var other = findPosH(doc, range.head, dir, unit, false)\n          return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other}\n        }) }\n    }),\n\n    findPosV: function(from, amount, unit, goalColumn) {\n      var this$1 = this;\n\n      var dir = 1, x = goalColumn\n      if (amount < 0) { dir = -1; amount = -amount }\n      var cur = clipPos(this.doc, from)\n      for (var i = 0; i < amount; ++i) {\n        var coords = cursorCoords(this$1, cur, \"div\")\n        if (x == null) { x = coords.left }\n        else { coords.left = x }\n        cur = findPosV(this$1, coords, dir, unit)\n        if (cur.hitSide) { break }\n      }\n      return cur\n    },\n\n    moveV: methodOp(function(dir, unit) {\n      var this$1 = this;\n\n      var doc = this.doc, goals = []\n      var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected()\n      doc.extendSelectionsBy(function (range) {\n        if (collapse)\n          { return dir < 0 ? range.from() : range.to() }\n        var headPos = cursorCoords(this$1, range.head, \"div\")\n        if (range.goalColumn != null) { headPos.left = range.goalColumn }\n        goals.push(headPos.left)\n        var pos = findPosV(this$1, headPos, dir, unit)\n        if (unit == \"page\" && range == doc.sel.primary())\n          { addToScrollPos(this$1, null, charCoords(this$1, pos, \"div\").top - headPos.top) }\n        return pos\n      }, sel_move)\n      if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n        { doc.sel.ranges[i].goalColumn = goals[i] } }\n    }),\n\n    // Find the word at the given position (as returned by coordsChar).\n    findWordAt: function(pos) {\n      var doc = this.doc, line = getLine(doc, pos.line).text\n      var start = pos.ch, end = pos.ch\n      if (line) {\n        var helper = this.getHelper(pos, \"wordChars\")\n        if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end }\n        var startChar = line.charAt(start)\n        var check = isWordChar(startChar, helper)\n          ? function (ch) { return isWordChar(ch, helper); }\n          : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\n          : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); }\n        while (start > 0 && check(line.charAt(start - 1))) { --start }\n        while (end < line.length && check(line.charAt(end))) { ++end }\n      }\n      return new Range(Pos(pos.line, start), Pos(pos.line, end))\n    },\n\n    toggleOverwrite: function(value) {\n      if (value != null && value == this.state.overwrite) { return }\n      if (this.state.overwrite = !this.state.overwrite)\n        { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\") }\n      else\n        { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\") }\n\n      signal(this, \"overwriteToggle\", this, this.state.overwrite)\n    },\n    hasFocus: function() { return this.display.input.getField() == activeElt() },\n    isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n    scrollTo: methodOp(function(x, y) {\n      if (x != null || y != null) { resolveScrollToPos(this) }\n      if (x != null) { this.curOp.scrollLeft = x }\n      if (y != null) { this.curOp.scrollTop = y }\n    }),\n    getScrollInfo: function() {\n      var scroller = this.display.scroller\n      return {left: scroller.scrollLeft, top: scroller.scrollTop,\n              height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n              width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n              clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n    },\n\n    scrollIntoView: methodOp(function(range, margin) {\n      if (range == null) {\n        range = {from: this.doc.sel.primary().head, to: null}\n        if (margin == null) { margin = this.options.cursorScrollMargin }\n      } else if (typeof range == \"number\") {\n        range = {from: Pos(range, 0), to: null}\n      } else if (range.from == null) {\n        range = {from: range, to: null}\n      }\n      if (!range.to) { range.to = range.from }\n      range.margin = margin || 0\n\n      if (range.from.line != null) {\n        resolveScrollToPos(this)\n        this.curOp.scrollToPos = range\n      } else {\n        var sPos = calculateScrollPos(this, Math.min(range.from.left, range.to.left),\n                                      Math.min(range.from.top, range.to.top) - range.margin,\n                                      Math.max(range.from.right, range.to.right),\n                                      Math.max(range.from.bottom, range.to.bottom) + range.margin)\n        this.scrollTo(sPos.scrollLeft, sPos.scrollTop)\n      }\n    }),\n\n    setSize: methodOp(function(width, height) {\n      var this$1 = this;\n\n      var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; }\n      if (width != null) { this.display.wrapper.style.width = interpret(width) }\n      if (height != null) { this.display.wrapper.style.height = interpret(height) }\n      if (this.options.lineWrapping) { clearLineMeasurementCache(this) }\n      var lineNo = this.display.viewFrom\n      this.doc.iter(lineNo, this.display.viewTo, function (line) {\n        if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n          { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo, \"widget\"); break } } }\n        ++lineNo\n      })\n      this.curOp.forceUpdate = true\n      signal(this, \"refresh\", this)\n    }),\n\n    operation: function(f){return runInOp(this, f)},\n\n    refresh: methodOp(function() {\n      var oldHeight = this.display.cachedTextHeight\n      regChange(this)\n      this.curOp.forceUpdate = true\n      clearCaches(this)\n      this.scrollTo(this.doc.scrollLeft, this.doc.scrollTop)\n      updateGutterSpace(this)\n      if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5)\n        { estimateLineHeights(this) }\n      signal(this, \"refresh\", this)\n    }),\n\n    swapDoc: methodOp(function(doc) {\n      var old = this.doc\n      old.cm = null\n      attachDoc(this, doc)\n      clearCaches(this)\n      this.display.input.reset()\n      this.scrollTo(doc.scrollLeft, doc.scrollTop)\n      this.curOp.forceScroll = true\n      signalLater(this, \"swapDoc\", this, old)\n      return old\n    }),\n\n    getInputField: function(){return this.display.input.getField()},\n    getWrapperElement: function(){return this.display.wrapper},\n    getScrollerElement: function(){return this.display.scroller},\n    getGutterElement: function(){return this.display.gutters}\n  }\n  eventMixin(CodeMirror)\n\n  CodeMirror.registerHelper = function(type, name, value) {\n    if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []} }\n    helpers[type][name] = value\n  }\n  CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n    CodeMirror.registerHelper(type, name, value)\n    helpers[type]._global.push({pred: predicate, val: value})\n  }\n}\n\n// Used for horizontal relative motion. Dir is -1 or 1 (left or\n// right), unit can be \"char\", \"column\" (like char, but doesn't\n// cross line boundaries), \"word\" (across next word), or \"group\" (to\n// the start of next group of word or non-word-non-whitespace\n// chars). The visually param controls whether, in right-to-left\n// text, direction 1 means to move towards the next index in the\n// string, or towards the character to the right of the current\n// position. The resulting position will have a hitSide=true\n// property if it reached the end of the document.\nfunction findPosH(doc, pos, dir, unit, visually) {\n  var oldPos = pos\n  var origDir = dir\n  var lineObj = getLine(doc, pos.line)\n  function findNextLine() {\n    var l = pos.line + dir\n    if (l < doc.first || l >= doc.first + doc.size) { return false }\n    pos = new Pos(l, pos.ch, pos.sticky)\n    return lineObj = getLine(doc, l)\n  }\n  function moveOnce(boundToLine) {\n    var next\n    if (visually) {\n      next = moveVisually(doc.cm, lineObj, pos, dir)\n    } else {\n      next = moveLogically(lineObj, pos, dir)\n    }\n    if (next == null) {\n      if (!boundToLine && findNextLine())\n        { pos = endOfLine(visually, doc.cm, lineObj, pos.line, dir) }\n      else\n        { return false }\n    } else {\n      pos = next\n    }\n    return true\n  }\n\n  if (unit == \"char\") {\n    moveOnce()\n  } else if (unit == \"column\") {\n    moveOnce(true)\n  } else if (unit == \"word\" || unit == \"group\") {\n    var sawType = null, group = unit == \"group\"\n    var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\")\n    for (var first = true;; first = false) {\n      if (dir < 0 && !moveOnce(!first)) { break }\n      var cur = lineObj.text.charAt(pos.ch) || \"\\n\"\n      var type = isWordChar(cur, helper) ? \"w\"\n        : group && cur == \"\\n\" ? \"n\"\n        : !group || /\\s/.test(cur) ? null\n        : \"p\"\n      if (group && !first && !type) { type = \"s\" }\n      if (sawType && sawType != type) {\n        if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\"}\n        break\n      }\n\n      if (type) { sawType = type }\n      if (dir > 0 && !moveOnce(!first)) { break }\n    }\n  }\n  var result = skipAtomic(doc, pos, oldPos, origDir, true)\n  if (equalCursorPos(oldPos, result)) { result.hitSide = true }\n  return result\n}\n\n// For relative vertical movement. Dir may be -1 or 1. Unit can be\n// \"page\" or \"line\". The resulting position will have a hitSide=true\n// property if it reached the end of the document.\nfunction findPosV(cm, pos, dir, unit) {\n  var doc = cm.doc, x = pos.left, y\n  if (unit == \"page\") {\n    var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight)\n    var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3)\n    y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount\n\n  } else if (unit == \"line\") {\n    y = dir > 0 ? pos.bottom + 3 : pos.top - 3\n  }\n  var target\n  for (;;) {\n    target = coordsChar(cm, x, y)\n    if (!target.outside) { break }\n    if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n    y += dir * 5\n  }\n  return target\n}\n\n// CONTENTEDITABLE INPUT STYLE\n\nvar ContentEditableInput = function(cm) {\n  this.cm = cm\n  this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null\n  this.polling = new Delayed()\n  this.composing = null\n  this.gracePeriod = false\n  this.readDOMTimeout = null\n};\n\nContentEditableInput.prototype.init = function (display) {\n    var this$1 = this;\n\n  var input = this, cm = input.cm\n  var div = input.div = display.lineDiv\n  disableBrowserMagic(div, cm.options.spellcheck)\n\n  on(div, \"paste\", function (e) {\n    if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n    // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n    if (ie_version <= 11) { setTimeout(operation(cm, function () {\n      if (!input.pollContent()) { regChange(cm) }\n    }), 20) }\n  })\n\n  on(div, \"compositionstart\", function (e) {\n    this$1.composing = {data: e.data, done: false}\n  })\n  on(div, \"compositionupdate\", function (e) {\n    if (!this$1.composing) { this$1.composing = {data: e.data, done: false} }\n  })\n  on(div, \"compositionend\", function (e) {\n    if (this$1.composing) {\n      if (e.data != this$1.composing.data) { this$1.readFromDOMSoon() }\n      this$1.composing.done = true\n    }\n  })\n\n  on(div, \"touchstart\", function () { return input.forceCompositionEnd(); })\n\n  on(div, \"input\", function () {\n    if (!this$1.composing) { this$1.readFromDOMSoon() }\n  })\n\n  function onCopyCut(e) {\n    if (signalDOMEvent(cm, e)) { return }\n    if (cm.somethingSelected()) {\n      setLastCopied({lineWise: false, text: cm.getSelections()})\n      if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\") }\n    } else if (!cm.options.lineWiseCopyCut) {\n      return\n    } else {\n      var ranges = copyableRanges(cm)\n      setLastCopied({lineWise: true, text: ranges.text})\n      if (e.type == \"cut\") {\n        cm.operation(function () {\n          cm.setSelections(ranges.ranges, 0, sel_dontScroll)\n          cm.replaceSelection(\"\", null, \"cut\")\n        })\n      }\n    }\n    if (e.clipboardData) {\n      e.clipboardData.clearData()\n      var content = lastCopied.text.join(\"\\n\")\n      // iOS exposes the clipboard API, but seems to discard content inserted into it\n      e.clipboardData.setData(\"Text\", content)\n      if (e.clipboardData.getData(\"Text\") == content) {\n        e.preventDefault()\n        return\n      }\n    }\n    // Old-fashioned briefly-focus-a-textarea hack\n    var kludge = hiddenTextarea(), te = kludge.firstChild\n    cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild)\n    te.value = lastCopied.text.join(\"\\n\")\n    var hadFocus = document.activeElement\n    selectInput(te)\n    setTimeout(function () {\n      cm.display.lineSpace.removeChild(kludge)\n      hadFocus.focus()\n      if (hadFocus == div) { input.showPrimarySelection() }\n    }, 50)\n  }\n  on(div, \"copy\", onCopyCut)\n  on(div, \"cut\", onCopyCut)\n};\n\nContentEditableInput.prototype.prepareSelection = function () {\n  var result = prepareSelection(this.cm, false)\n  result.focus = this.cm.state.focused\n  return result\n};\n\nContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n  if (!info || !this.cm.display.view.length) { return }\n  if (info.focus || takeFocus) { this.showPrimarySelection() }\n  this.showMultipleSelections(info)\n};\n\nContentEditableInput.prototype.showPrimarySelection = function () {\n  var sel = window.getSelection(), prim = this.cm.doc.sel.primary()\n  var curAnchor = domToPos(this.cm, sel.anchorNode, sel.anchorOffset)\n  var curFocus = domToPos(this.cm, sel.focusNode, sel.focusOffset)\n  if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n      cmp(minPos(curAnchor, curFocus), prim.from()) == 0 &&\n      cmp(maxPos(curAnchor, curFocus), prim.to()) == 0)\n    { return }\n\n  var start = posToDOM(this.cm, prim.from())\n  var end = posToDOM(this.cm, prim.to())\n  if (!start && !end) { return }\n\n  var view = this.cm.display.view\n  var old = sel.rangeCount && sel.getRangeAt(0)\n  if (!start) {\n    start = {node: view[0].measure.map[2], offset: 0}\n  } else if (!end) { // FIXME dangerously hacky\n    var measure = view[view.length - 1].measure\n    var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map\n    end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]}\n  }\n\n  var rng\n  try { rng = range(start.node, start.offset, end.offset, end.node) }\n  catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n  if (rng) {\n    if (!gecko && this.cm.state.focused) {\n      sel.collapse(start.node, start.offset)\n      if (!rng.collapsed) {\n        sel.removeAllRanges()\n        sel.addRange(rng)\n      }\n    } else {\n      sel.removeAllRanges()\n      sel.addRange(rng)\n    }\n    if (old && sel.anchorNode == null) { sel.addRange(old) }\n    else if (gecko) { this.startGracePeriod() }\n  }\n  this.rememberSelection()\n};\n\nContentEditableInput.prototype.startGracePeriod = function () {\n    var this$1 = this;\n\n  clearTimeout(this.gracePeriod)\n  this.gracePeriod = setTimeout(function () {\n    this$1.gracePeriod = false\n    if (this$1.selectionChanged())\n      { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }) }\n  }, 20)\n};\n\nContentEditableInput.prototype.showMultipleSelections = function (info) {\n  removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors)\n  removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection)\n};\n\nContentEditableInput.prototype.rememberSelection = function () {\n  var sel = window.getSelection()\n  this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset\n  this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset\n};\n\nContentEditableInput.prototype.selectionInEditor = function () {\n  var sel = window.getSelection()\n  if (!sel.rangeCount) { return false }\n  var node = sel.getRangeAt(0).commonAncestorContainer\n  return contains(this.div, node)\n};\n\nContentEditableInput.prototype.focus = function () {\n  if (this.cm.options.readOnly != \"nocursor\") {\n    if (!this.selectionInEditor())\n      { this.showSelection(this.prepareSelection(), true) }\n    this.div.focus()\n  }\n};\nContentEditableInput.prototype.blur = function () { this.div.blur() };\nContentEditableInput.prototype.getField = function () { return this.div };\n\nContentEditableInput.prototype.supportsTouch = function () { return true };\n\nContentEditableInput.prototype.receivedFocus = function () {\n  var input = this\n  if (this.selectionInEditor())\n    { this.pollSelection() }\n  else\n    { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }) }\n\n  function poll() {\n    if (input.cm.state.focused) {\n      input.pollSelection()\n      input.polling.set(input.cm.options.pollInterval, poll)\n    }\n  }\n  this.polling.set(this.cm.options.pollInterval, poll)\n};\n\nContentEditableInput.prototype.selectionChanged = function () {\n  var sel = window.getSelection()\n  return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n    sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n};\n\nContentEditableInput.prototype.pollSelection = function () {\n  if (!this.composing && this.readDOMTimeout == null && !this.gracePeriod && this.selectionChanged()) {\n    var sel = window.getSelection(), cm = this.cm\n    this.rememberSelection()\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset)\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset)\n    if (anchor && head) { runInOp(cm, function () {\n      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll)\n      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true }\n    }) }\n  }\n};\n\nContentEditableInput.prototype.pollContent = function () {\n  if (this.readDOMTimeout != null) {\n    clearTimeout(this.readDOMTimeout)\n    this.readDOMTimeout = null\n  }\n\n  var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary()\n  var from = sel.from(), to = sel.to()\n  if (from.ch == 0 && from.line > cm.firstLine())\n    { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length) }\n  if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n    { to = Pos(to.line + 1, 0) }\n  if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n  var fromIndex, fromLine, fromNode\n  if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n    fromLine = lineNo(display.view[0].line)\n    fromNode = display.view[0].node\n  } else {\n    fromLine = lineNo(display.view[fromIndex].line)\n    fromNode = display.view[fromIndex - 1].node.nextSibling\n  }\n  var toIndex = findViewIndex(cm, to.line)\n  var toLine, toNode\n  if (toIndex == display.view.length - 1) {\n    toLine = display.viewTo - 1\n    toNode = display.lineDiv.lastChild\n  } else {\n    toLine = lineNo(display.view[toIndex + 1].line) - 1\n    toNode = display.view[toIndex + 1].node.previousSibling\n  }\n\n  if (!fromNode) { return false }\n  var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine))\n  var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length))\n  while (newText.length > 1 && oldText.length > 1) {\n    if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine-- }\n    else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++ }\n    else { break }\n  }\n\n  var cutFront = 0, cutEnd = 0\n  var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length)\n  while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n    { ++cutFront }\n  var newBot = lst(newText), oldBot = lst(oldText)\n  var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                           oldBot.length - (oldText.length == 1 ? cutFront : 0))\n  while (cutEnd < maxCutEnd &&\n         newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n    { ++cutEnd }\n\n  newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\")\n  newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\")\n\n  var chFrom = Pos(fromLine, cutFront)\n  var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0)\n  if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n    replaceRange(cm.doc, newText, chFrom, chTo, \"+input\")\n    return true\n  }\n};\n\nContentEditableInput.prototype.ensurePolled = function () {\n  this.forceCompositionEnd()\n};\nContentEditableInput.prototype.reset = function () {\n  this.forceCompositionEnd()\n};\nContentEditableInput.prototype.forceCompositionEnd = function () {\n  if (!this.composing) { return }\n  clearTimeout(this.readDOMTimeout)\n  this.composing = null\n  if (!this.pollContent()) { regChange(this.cm) }\n  this.div.blur()\n  this.div.focus()\n};\nContentEditableInput.prototype.readFromDOMSoon = function () {\n    var this$1 = this;\n\n  if (this.readDOMTimeout != null) { return }\n  this.readDOMTimeout = setTimeout(function () {\n    this$1.readDOMTimeout = null\n    if (this$1.composing) {\n      if (this$1.composing.done) { this$1.composing = null }\n      else { return }\n    }\n    if (this$1.cm.isReadOnly() || !this$1.pollContent())\n      { runInOp(this$1.cm, function () { return regChange(this$1.cm); }) }\n  }, 80)\n};\n\nContentEditableInput.prototype.setUneditable = function (node) {\n  node.contentEditable = \"false\"\n};\n\nContentEditableInput.prototype.onKeyPress = function (e) {\n  if (e.charCode == 0) { return }\n  e.preventDefault()\n  if (!this.cm.isReadOnly())\n    { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0) }\n};\n\nContentEditableInput.prototype.readOnlyChanged = function (val) {\n  this.div.contentEditable = String(val != \"nocursor\")\n};\n\nContentEditableInput.prototype.onContextMenu = function () {};\nContentEditableInput.prototype.resetPosition = function () {};\n\nContentEditableInput.prototype.needsContentAttribute = true\n\nfunction posToDOM(cm, pos) {\n  var view = findViewForLine(cm, pos.line)\n  if (!view || view.hidden) { return null }\n  var line = getLine(cm.doc, pos.line)\n  var info = mapFromLineView(view, line, pos.line)\n\n  var order = getOrder(line), side = \"left\"\n  if (order) {\n    var partPos = getBidiPartAt(order, pos.ch)\n    side = partPos % 2 ? \"right\" : \"left\"\n  }\n  var result = nodeAndOffsetInLineMap(info.map, pos.ch, side)\n  result.offset = result.collapse == \"right\" ? result.end : result.start\n  return result\n}\n\nfunction badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\nfunction domTextBetween(cm, from, to, fromLine, toLine) {\n  var text = \"\", closing = false, lineSep = cm.doc.lineSeparator()\n  function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n  function walk(node) {\n    if (node.nodeType == 1) {\n      var cmText = node.getAttribute(\"cm-text\")\n      if (cmText != null) {\n        if (cmText == \"\") { text += node.textContent.replace(/\\u200b/g, \"\") }\n        else { text += cmText }\n        return\n      }\n      var markerID = node.getAttribute(\"cm-marker\"), range\n      if (markerID) {\n        var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID))\n        if (found.length && (range = found[0].find()))\n          { text += getBetween(cm.doc, range.from, range.to).join(lineSep) }\n        return\n      }\n      if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n      for (var i = 0; i < node.childNodes.length; i++)\n        { walk(node.childNodes[i]) }\n      if (/^(pre|div|p)$/i.test(node.nodeName))\n        { closing = true }\n    } else if (node.nodeType == 3) {\n      var val = node.nodeValue\n      if (!val) { return }\n      if (closing) {\n        text += lineSep\n        closing = false\n      }\n      text += val\n    }\n  }\n  for (;;) {\n    walk(from)\n    if (from == to) { break }\n    from = from.nextSibling\n  }\n  return text\n}\n\nfunction domToPos(cm, node, offset) {\n  var lineNode\n  if (node == cm.display.lineDiv) {\n    lineNode = cm.display.lineDiv.childNodes[offset]\n    if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n    node = null; offset = 0\n  } else {\n    for (lineNode = node;; lineNode = lineNode.parentNode) {\n      if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n      if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n    }\n  }\n  for (var i = 0; i < cm.display.view.length; i++) {\n    var lineView = cm.display.view[i]\n    if (lineView.node == lineNode)\n      { return locateNodeInLineView(lineView, node, offset) }\n  }\n}\n\nfunction locateNodeInLineView(lineView, node, offset) {\n  var wrapper = lineView.text.firstChild, bad = false\n  if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n  if (node == wrapper) {\n    bad = true\n    node = wrapper.childNodes[offset]\n    offset = 0\n    if (!node) {\n      var line = lineView.rest ? lst(lineView.rest) : lineView.line\n      return badPos(Pos(lineNo(line), line.text.length), bad)\n    }\n  }\n\n  var textNode = node.nodeType == 3 ? node : null, topNode = node\n  if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n    textNode = node.firstChild\n    if (offset) { offset = textNode.nodeValue.length }\n  }\n  while (topNode.parentNode != wrapper) { topNode = topNode.parentNode }\n  var measure = lineView.measure, maps = measure.maps\n\n  function find(textNode, topNode, offset) {\n    for (var i = -1; i < (maps ? maps.length : 0); i++) {\n      var map = i < 0 ? measure.map : maps[i]\n      for (var j = 0; j < map.length; j += 3) {\n        var curNode = map[j + 2]\n        if (curNode == textNode || curNode == topNode) {\n          var line = lineNo(i < 0 ? lineView.line : lineView.rest[i])\n          var ch = map[j] + offset\n          if (offset < 0 || curNode != textNode) { ch = map[j + (offset ? 1 : 0)] }\n          return Pos(line, ch)\n        }\n      }\n    }\n  }\n  var found = find(textNode, topNode, offset)\n  if (found) { return badPos(found, bad) }\n\n  // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n  for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n    found = find(after, after.firstChild, 0)\n    if (found)\n      { return badPos(Pos(found.line, found.ch - dist), bad) }\n    else\n      { dist += after.textContent.length }\n  }\n  for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n    found = find(before, before.firstChild, -1)\n    if (found)\n      { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n    else\n      { dist$1 += before.textContent.length }\n  }\n}\n\n// TEXTAREA INPUT STYLE\n\nvar TextareaInput = function(cm) {\n  this.cm = cm\n  // See input.poll and input.reset\n  this.prevInput = \"\"\n\n  // Flag that indicates whether we expect input to appear real soon\n  // now (after some event like 'keypress' or 'input') and are\n  // polling intensively.\n  this.pollingFast = false\n  // Self-resetting timeout for the poller\n  this.polling = new Delayed()\n  // Tracks when input.reset has punted to just putting a short\n  // string into the textarea instead of the full selection.\n  this.inaccurateSelection = false\n  // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n  this.hasSelection = false\n  this.composing = null\n};\n\nTextareaInput.prototype.init = function (display) {\n    var this$1 = this;\n\n  var input = this, cm = this.cm\n\n  // Wraps and hides input textarea\n  var div = this.wrapper = hiddenTextarea()\n  // The semihidden textarea that is focused when the editor is\n  // focused, and receives input.\n  var te = this.textarea = div.firstChild\n  display.wrapper.insertBefore(div, display.wrapper.firstChild)\n\n  // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n  if (ios) { te.style.width = \"0px\" }\n\n  on(te, \"input\", function () {\n    if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null }\n    input.poll()\n  })\n\n  on(te, \"paste\", function (e) {\n    if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n    cm.state.pasteIncoming = true\n    input.fastPoll()\n  })\n\n  function prepareCopyCut(e) {\n    if (signalDOMEvent(cm, e)) { return }\n    if (cm.somethingSelected()) {\n      setLastCopied({lineWise: false, text: cm.getSelections()})\n      if (input.inaccurateSelection) {\n        input.prevInput = \"\"\n        input.inaccurateSelection = false\n        te.value = lastCopied.text.join(\"\\n\")\n        selectInput(te)\n      }\n    } else if (!cm.options.lineWiseCopyCut) {\n      return\n    } else {\n      var ranges = copyableRanges(cm)\n      setLastCopied({lineWise: true, text: ranges.text})\n      if (e.type == \"cut\") {\n        cm.setSelections(ranges.ranges, null, sel_dontScroll)\n      } else {\n        input.prevInput = \"\"\n        te.value = ranges.text.join(\"\\n\")\n        selectInput(te)\n      }\n    }\n    if (e.type == \"cut\") { cm.state.cutIncoming = true }\n  }\n  on(te, \"cut\", prepareCopyCut)\n  on(te, \"copy\", prepareCopyCut)\n\n  on(display.scroller, \"paste\", function (e) {\n    if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n    cm.state.pasteIncoming = true\n    input.focus()\n  })\n\n  // Prevent normal selection in the editor (we handle our own)\n  on(display.lineSpace, \"selectstart\", function (e) {\n    if (!eventInWidget(display, e)) { e_preventDefault(e) }\n  })\n\n  on(te, \"compositionstart\", function () {\n    var start = cm.getCursor(\"from\")\n    if (input.composing) { input.composing.range.clear() }\n    input.composing = {\n      start: start,\n      range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n    }\n  })\n  on(te, \"compositionend\", function () {\n    if (input.composing) {\n      input.poll()\n      input.composing.range.clear()\n      input.composing = null\n    }\n  })\n};\n\nTextareaInput.prototype.prepareSelection = function () {\n  // Redraw the selection and/or cursor\n  var cm = this.cm, display = cm.display, doc = cm.doc\n  var result = prepareSelection(cm)\n\n  // Move the hidden textarea near the cursor to prevent scrolling artifacts\n  if (cm.options.moveInputWithCursor) {\n    var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\")\n    var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect()\n    result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                        headPos.top + lineOff.top - wrapOff.top))\n    result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                         headPos.left + lineOff.left - wrapOff.left))\n  }\n\n  return result\n};\n\nTextareaInput.prototype.showSelection = function (drawn) {\n  var cm = this.cm, display = cm.display\n  removeChildrenAndAdd(display.cursorDiv, drawn.cursors)\n  removeChildrenAndAdd(display.selectionDiv, drawn.selection)\n  if (drawn.teTop != null) {\n    this.wrapper.style.top = drawn.teTop + \"px\"\n    this.wrapper.style.left = drawn.teLeft + \"px\"\n  }\n};\n\n// Reset the input to correspond to the selection (or to be empty,\n// when not typing and nothing is selected)\nTextareaInput.prototype.reset = function (typing) {\n  if (this.contextMenuPending) { return }\n  var minimal, selected, cm = this.cm, doc = cm.doc\n  if (cm.somethingSelected()) {\n    this.prevInput = \"\"\n    var range = doc.sel.primary()\n    minimal = hasCopyEvent &&\n      (range.to().line - range.from().line > 100 || (selected = cm.getSelection()).length > 1000)\n    var content = minimal ? \"-\" : selected || cm.getSelection()\n    this.textarea.value = content\n    if (cm.state.focused) { selectInput(this.textarea) }\n    if (ie && ie_version >= 9) { this.hasSelection = content }\n  } else if (!typing) {\n    this.prevInput = this.textarea.value = \"\"\n    if (ie && ie_version >= 9) { this.hasSelection = null }\n  }\n  this.inaccurateSelection = minimal\n};\n\nTextareaInput.prototype.getField = function () { return this.textarea };\n\nTextareaInput.prototype.supportsTouch = function () { return false };\n\nTextareaInput.prototype.focus = function () {\n  if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n    try { this.textarea.focus() }\n    catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n  }\n};\n\nTextareaInput.prototype.blur = function () { this.textarea.blur() };\n\nTextareaInput.prototype.resetPosition = function () {\n  this.wrapper.style.top = this.wrapper.style.left = 0\n};\n\nTextareaInput.prototype.receivedFocus = function () { this.slowPoll() };\n\n// Poll for input changes, using the normal rate of polling. This\n// runs as long as the editor is focused.\nTextareaInput.prototype.slowPoll = function () {\n    var this$1 = this;\n\n  if (this.pollingFast) { return }\n  this.polling.set(this.cm.options.pollInterval, function () {\n    this$1.poll()\n    if (this$1.cm.state.focused) { this$1.slowPoll() }\n  })\n};\n\n// When an event has just come in that is likely to add or change\n// something in the input textarea, we poll faster, to ensure that\n// the change appears on the screen quickly.\nTextareaInput.prototype.fastPoll = function () {\n  var missed = false, input = this\n  input.pollingFast = true\n  function p() {\n    var changed = input.poll()\n    if (!changed && !missed) {missed = true; input.polling.set(60, p)}\n    else {input.pollingFast = false; input.slowPoll()}\n  }\n  input.polling.set(20, p)\n};\n\n// Read input from the textarea, and update the document to match.\n// When something is selected, it is present in the textarea, and\n// selected (unless it is huge, in which case a placeholder is\n// used). When nothing is selected, the cursor sits after previously\n// seen text (can be empty), which is stored in prevInput (we must\n// not reset the textarea when typing, because that breaks IME).\nTextareaInput.prototype.poll = function () {\n    var this$1 = this;\n\n  var cm = this.cm, input = this.textarea, prevInput = this.prevInput\n  // Since this is called a *lot*, try to bail out as cheaply as\n  // possible when it is clear that nothing happened. hasSelection\n  // will be the case when there is a lot of text in the textarea,\n  // in which case reading its value would be expensive.\n  if (this.contextMenuPending || !cm.state.focused ||\n      (hasSelection(input) && !prevInput && !this.composing) ||\n      cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n    { return false }\n\n  var text = input.value\n  // If nothing changed, bail.\n  if (text == prevInput && !cm.somethingSelected()) { return false }\n  // Work around nonsensical selection resetting in IE9/10, and\n  // inexplicable appearance of private area unicode characters on\n  // some key combos in Mac (#2689).\n  if (ie && ie_version >= 9 && this.hasSelection === text ||\n      mac && /[\\uf700-\\uf7ff]/.test(text)) {\n    cm.display.input.reset()\n    return false\n  }\n\n  if (cm.doc.sel == cm.display.selForContextMenu) {\n    var first = text.charCodeAt(0)\n    if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\" }\n    if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n  }\n  // Find the part of the input that is actually new\n  var same = 0, l = Math.min(prevInput.length, text.length)\n  while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same }\n\n  runInOp(cm, function () {\n    applyTextInput(cm, text.slice(same), prevInput.length - same,\n                   null, this$1.composing ? \"*compose\" : null)\n\n    // Don't leave long text in the textarea, since it makes further polling slow\n    if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\" }\n    else { this$1.prevInput = text }\n\n    if (this$1.composing) {\n      this$1.composing.range.clear()\n      this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\n                                         {className: \"CodeMirror-composing\"})\n    }\n  })\n  return true\n};\n\nTextareaInput.prototype.ensurePolled = function () {\n  if (this.pollingFast && this.poll()) { this.pollingFast = false }\n};\n\nTextareaInput.prototype.onKeyPress = function () {\n  if (ie && ie_version >= 9) { this.hasSelection = null }\n  this.fastPoll()\n};\n\nTextareaInput.prototype.onContextMenu = function (e) {\n  var input = this, cm = input.cm, display = cm.display, te = input.textarea\n  var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop\n  if (!pos || presto) { return } // Opera is difficult.\n\n  // Reset the current text selection only if the click is done outside of the selection\n  // and 'resetSelectionOnContextMenu' option is true.\n  var reset = cm.options.resetSelectionOnContextMenu\n  if (reset && cm.doc.sel.contains(pos) == -1)\n    { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll) }\n\n  var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText\n  input.wrapper.style.cssText = \"position: absolute\"\n  var wrapperBox = input.wrapper.getBoundingClientRect()\n  te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\"\n  var oldScrollY\n  if (webkit) { oldScrollY = window.scrollY } // Work around Chrome issue (#2712)\n  display.input.focus()\n  if (webkit) { window.scrollTo(null, oldScrollY) }\n  display.input.reset()\n  // Adds \"Select all\" to context menu in FF\n  if (!cm.somethingSelected()) { te.value = input.prevInput = \" \" }\n  input.contextMenuPending = true\n  display.selForContextMenu = cm.doc.sel\n  clearTimeout(display.detectingSelectAll)\n\n  // Select-all will be greyed out if there's nothing to select, so\n  // this adds a zero-width space so that we can later check whether\n  // it got selected.\n  function prepareSelectAllHack() {\n    if (te.selectionStart != null) {\n      var selected = cm.somethingSelected()\n      var extval = \"\\u200b\" + (selected ? te.value : \"\")\n      te.value = \"\\u21da\" // Used to catch context-menu undo\n      te.value = extval\n      input.prevInput = selected ? \"\" : \"\\u200b\"\n      te.selectionStart = 1; te.selectionEnd = extval.length\n      // Re-set this, in case some other handler touched the\n      // selection in the meantime.\n      display.selForContextMenu = cm.doc.sel\n    }\n  }\n  function rehide() {\n    input.contextMenuPending = false\n    input.wrapper.style.cssText = oldWrapperCSS\n    te.style.cssText = oldCSS\n    if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos) }\n\n    // Try to detect the user choosing select-all\n    if (te.selectionStart != null) {\n      if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack() }\n      var i = 0, poll = function () {\n        if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n            te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n          operation(cm, selectAll)(cm)\n        } else if (i++ < 10) {\n          display.detectingSelectAll = setTimeout(poll, 500)\n        } else {\n          display.selForContextMenu = null\n          display.input.reset()\n        }\n      }\n      display.detectingSelectAll = setTimeout(poll, 200)\n    }\n  }\n\n  if (ie && ie_version >= 9) { prepareSelectAllHack() }\n  if (captureRightClick) {\n    e_stop(e)\n    var mouseup = function () {\n      off(window, \"mouseup\", mouseup)\n      setTimeout(rehide, 20)\n    }\n    on(window, \"mouseup\", mouseup)\n  } else {\n    setTimeout(rehide, 50)\n  }\n};\n\nTextareaInput.prototype.readOnlyChanged = function (val) {\n  if (!val) { this.reset() }\n};\n\nTextareaInput.prototype.setUneditable = function () {};\n\nTextareaInput.prototype.needsContentAttribute = false\n\nfunction fromTextArea(textarea, options) {\n  options = options ? copyObj(options) : {}\n  options.value = textarea.value\n  if (!options.tabindex && textarea.tabIndex)\n    { options.tabindex = textarea.tabIndex }\n  if (!options.placeholder && textarea.placeholder)\n    { options.placeholder = textarea.placeholder }\n  // Set autofocus to true if this textarea is focused, or if it has\n  // autofocus and no other element is focused.\n  if (options.autofocus == null) {\n    var hasFocus = activeElt()\n    options.autofocus = hasFocus == textarea ||\n      textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body\n  }\n\n  function save() {textarea.value = cm.getValue()}\n\n  var realSubmit\n  if (textarea.form) {\n    on(textarea.form, \"submit\", save)\n    // Deplorable hack to make the submit method do the right thing.\n    if (!options.leaveSubmitMethodAlone) {\n      var form = textarea.form\n      realSubmit = form.submit\n      try {\n        var wrappedSubmit = form.submit = function () {\n          save()\n          form.submit = realSubmit\n          form.submit()\n          form.submit = wrappedSubmit\n        }\n      } catch(e) {}\n    }\n  }\n\n  options.finishInit = function (cm) {\n    cm.save = save\n    cm.getTextArea = function () { return textarea; }\n    cm.toTextArea = function () {\n      cm.toTextArea = isNaN // Prevent this from being ran twice\n      save()\n      textarea.parentNode.removeChild(cm.getWrapperElement())\n      textarea.style.display = \"\"\n      if (textarea.form) {\n        off(textarea.form, \"submit\", save)\n        if (typeof textarea.form.submit == \"function\")\n          { textarea.form.submit = realSubmit }\n      }\n    }\n  }\n\n  textarea.style.display = \"none\"\n  var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n    options)\n  return cm\n}\n\nfunction addLegacyProps(CodeMirror) {\n  CodeMirror.off = off\n  CodeMirror.on = on\n  CodeMirror.wheelEventPixels = wheelEventPixels\n  CodeMirror.Doc = Doc\n  CodeMirror.splitLines = splitLinesAuto\n  CodeMirror.countColumn = countColumn\n  CodeMirror.findColumn = findColumn\n  CodeMirror.isWordChar = isWordCharBasic\n  CodeMirror.Pass = Pass\n  CodeMirror.signal = signal\n  CodeMirror.Line = Line\n  CodeMirror.changeEnd = changeEnd\n  CodeMirror.scrollbarModel = scrollbarModel\n  CodeMirror.Pos = Pos\n  CodeMirror.cmpPos = cmp\n  CodeMirror.modes = modes\n  CodeMirror.mimeModes = mimeModes\n  CodeMirror.resolveMode = resolveMode\n  CodeMirror.getMode = getMode\n  CodeMirror.modeExtensions = modeExtensions\n  CodeMirror.extendMode = extendMode\n  CodeMirror.copyState = copyState\n  CodeMirror.startState = startState\n  CodeMirror.innerMode = innerMode\n  CodeMirror.commands = commands\n  CodeMirror.keyMap = keyMap\n  CodeMirror.keyName = keyName\n  CodeMirror.isModifierKey = isModifierKey\n  CodeMirror.lookupKey = lookupKey\n  CodeMirror.normalizeKeyMap = normalizeKeyMap\n  CodeMirror.StringStream = StringStream\n  CodeMirror.SharedTextMarker = SharedTextMarker\n  CodeMirror.TextMarker = TextMarker\n  CodeMirror.LineWidget = LineWidget\n  CodeMirror.e_preventDefault = e_preventDefault\n  CodeMirror.e_stopPropagation = e_stopPropagation\n  CodeMirror.e_stop = e_stop\n  CodeMirror.addClass = addClass\n  CodeMirror.contains = contains\n  CodeMirror.rmClass = rmClass\n  CodeMirror.keyNames = keyNames\n}\n\n// EDITOR CONSTRUCTOR\n\ndefineOptions(CodeMirror)\n\naddEditorMethods(CodeMirror)\n\n// Set up methods on CodeMirror's prototype to redirect to the editor's document.\nvar dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \")\nfor (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n  { CodeMirror.prototype[prop] = (function(method) {\n    return function() {return method.apply(this.doc, arguments)}\n  })(Doc.prototype[prop]) } }\n\neventMixin(Doc)\n\n// INPUT HANDLING\n\nCodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput}\n\n// MODE DEFINITION AND QUERYING\n\n// Extra arguments are stored as the mode's dependencies, which is\n// used by (legacy) mechanisms like loadmode.js to automatically\n// load a mode. (Preferred mechanism is the require/define calls.)\nCodeMirror.defineMode = function(name/*, mode, */) {\n  if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name }\n  defineMode.apply(this, arguments)\n}\n\nCodeMirror.defineMIME = defineMIME\n\n// Minimal default mode.\nCodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); })\nCodeMirror.defineMIME(\"text/plain\", \"null\")\n\n// EXTENSIONS\n\nCodeMirror.defineExtension = function (name, func) {\n  CodeMirror.prototype[name] = func\n}\nCodeMirror.defineDocExtension = function (name, func) {\n  Doc.prototype[name] = func\n}\n\nCodeMirror.fromTextArea = fromTextArea\n\naddLegacyProps(CodeMirror)\n\nCodeMirror.version = \"5.24.2\"\n\nreturn CodeMirror;\n\n})));","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nfunction expressionAllowed(stream, state, backUp) {\n  return /^(?:operator|sof|keyword c|case|new|export|default|[\\[{}\\(,;:]|=>)$/.test(state.lastType) ||\n    (state.lastType == \"quasi\" && /\\{\\s*$/.test(stream.string.slice(0, stream.pos - (backUp || 0))))\n}\n\nCodeMirror.defineMode(\"javascript\", function(config, parserConfig) {\n  var indentUnit = config.indentUnit;\n  var statementIndent = parserConfig.statementIndent;\n  var jsonldMode = parserConfig.jsonld;\n  var jsonMode = parserConfig.json || jsonldMode;\n  var isTS = parserConfig.typescript;\n  var wordRE = parserConfig.wordCharacters || /[\\w$\\xa1-\\uffff]/;\n\n  // Tokenizer\n\n  var keywords = function(){\n    function kw(type) {return {type: type, style: \"keyword\"};}\n    var A = kw(\"keyword a\"), B = kw(\"keyword b\"), C = kw(\"keyword c\");\n    var operator = kw(\"operator\"), atom = {type: \"atom\", style: \"atom\"};\n\n    var jsKeywords = {\n      \"if\": kw(\"if\"), \"while\": A, \"with\": A, \"else\": B, \"do\": B, \"try\": B, \"finally\": B,\n      \"return\": C, \"break\": C, \"continue\": C, \"new\": kw(\"new\"), \"delete\": C, \"throw\": C, \"debugger\": C,\n      \"var\": kw(\"var\"), \"const\": kw(\"var\"), \"let\": kw(\"var\"),\n      \"function\": kw(\"function\"), \"catch\": kw(\"catch\"),\n      \"for\": kw(\"for\"), \"switch\": kw(\"switch\"), \"case\": kw(\"case\"), \"default\": kw(\"default\"),\n      \"in\": operator, \"typeof\": operator, \"instanceof\": operator,\n      \"true\": atom, \"false\": atom, \"null\": atom, \"undefined\": atom, \"NaN\": atom, \"Infinity\": atom,\n      \"this\": kw(\"this\"), \"class\": kw(\"class\"), \"super\": kw(\"atom\"),\n      \"yield\": C, \"export\": kw(\"export\"), \"import\": kw(\"import\"), \"extends\": C,\n      \"await\": C, \"async\": kw(\"async\")\n    };\n\n    // Extend the 'normal' keywords with the TypeScript language extensions\n    if (isTS) {\n      var type = {type: \"variable\", style: \"variable-3\"};\n      var tsKeywords = {\n        // object-like things\n        \"interface\": kw(\"class\"),\n        \"implements\": C,\n        \"namespace\": C,\n        \"module\": kw(\"module\"),\n        \"enum\": kw(\"module\"),\n        \"type\": kw(\"type\"),\n\n        // scope modifiers\n        \"public\": kw(\"modifier\"),\n        \"private\": kw(\"modifier\"),\n        \"protected\": kw(\"modifier\"),\n        \"abstract\": kw(\"modifier\"),\n\n        // operators\n        \"as\": operator,\n\n        // types\n        \"string\": type, \"number\": type, \"boolean\": type, \"any\": type\n      };\n\n      for (var attr in tsKeywords) {\n        jsKeywords[attr] = tsKeywords[attr];\n      }\n    }\n\n    return jsKeywords;\n  }();\n\n  var isOperatorChar = /[+\\-*&%=<>!?|~^]/;\n  var isJsonldKeyword = /^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)\"/;\n\n  function readRegexp(stream) {\n    var escaped = false, next, inSet = false;\n    while ((next = stream.next()) != null) {\n      if (!escaped) {\n        if (next == \"/\" && !inSet) return;\n        if (next == \"[\") inSet = true;\n        else if (inSet && next == \"]\") inSet = false;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n  }\n\n  // Used as scratch variables to communicate multiple values without\n  // consing up tons of objects.\n  var type, content;\n  function ret(tp, style, cont) {\n    type = tp; content = cont;\n    return style;\n  }\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (ch == '\"' || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    } else if (ch == \".\" && stream.match(/^\\d+(?:[eE][+\\-]?\\d+)?/)) {\n      return ret(\"number\", \"number\");\n    } else if (ch == \".\" && stream.match(\"..\")) {\n      return ret(\"spread\", \"meta\");\n    } else if (/[\\[\\]{}\\(\\),;\\:\\.]/.test(ch)) {\n      return ret(ch);\n    } else if (ch == \"=\" && stream.eat(\">\")) {\n      return ret(\"=>\", \"operator\");\n    } else if (ch == \"0\" && stream.eat(/x/i)) {\n      stream.eatWhile(/[\\da-f]/i);\n      return ret(\"number\", \"number\");\n    } else if (ch == \"0\" && stream.eat(/o/i)) {\n      stream.eatWhile(/[0-7]/i);\n      return ret(\"number\", \"number\");\n    } else if (ch == \"0\" && stream.eat(/b/i)) {\n      stream.eatWhile(/[01]/i);\n      return ret(\"number\", \"number\");\n    } else if (/\\d/.test(ch)) {\n      stream.match(/^\\d*(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/);\n      return ret(\"number\", \"number\");\n    } else if (ch == \"/\") {\n      if (stream.eat(\"*\")) {\n        state.tokenize = tokenComment;\n        return tokenComment(stream, state);\n      } else if (stream.eat(\"/\")) {\n        stream.skipToEnd();\n        return ret(\"comment\", \"comment\");\n      } else if (expressionAllowed(stream, state, 1)) {\n        readRegexp(stream);\n        stream.match(/^\\b(([gimyu])(?![gimyu]*\\2))+\\b/);\n        return ret(\"regexp\", \"string-2\");\n      } else {\n        stream.eatWhile(isOperatorChar);\n        return ret(\"operator\", \"operator\", stream.current());\n      }\n    } else if (ch == \"`\") {\n      state.tokenize = tokenQuasi;\n      return tokenQuasi(stream, state);\n    } else if (ch == \"#\") {\n      stream.skipToEnd();\n      return ret(\"error\", \"error\");\n    } else if (isOperatorChar.test(ch)) {\n      if (ch != \">\" || !state.lexical || state.lexical.type != \">\")\n        stream.eatWhile(isOperatorChar);\n      return ret(\"operator\", \"operator\", stream.current());\n    } else if (wordRE.test(ch)) {\n      stream.eatWhile(wordRE);\n      var word = stream.current(), known = keywords.propertyIsEnumerable(word) && keywords[word];\n      return (known && state.lastType != \".\") ? ret(known.type, known.style, word) :\n                     ret(\"variable\", \"variable\", word);\n    }\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, next;\n      if (jsonldMode && stream.peek() == \"@\" && stream.match(isJsonldKeyword)){\n        state.tokenize = tokenBase;\n        return ret(\"jsonld-keyword\", \"meta\");\n      }\n      while ((next = stream.next()) != null) {\n        if (next == quote && !escaped) break;\n        escaped = !escaped && next == \"\\\\\";\n      }\n      if (!escaped) state.tokenize = tokenBase;\n      return ret(\"string\", \"string\");\n    };\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while (ch = stream.next()) {\n      if (ch == \"/\" && maybeEnd) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return ret(\"comment\", \"comment\");\n  }\n\n  function tokenQuasi(stream, state) {\n    var escaped = false, next;\n    while ((next = stream.next()) != null) {\n      if (!escaped && (next == \"`\" || next == \"$\" && stream.eat(\"{\"))) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n    return ret(\"quasi\", \"string-2\", stream.current());\n  }\n\n  var brackets = \"([{}])\";\n  // This is a crude lookahead trick to try and notice that we're\n  // parsing the argument patterns for a fat-arrow function before we\n  // actually hit the arrow token. It only works if the arrow is on\n  // the same line as the arguments and there's no strange noise\n  // (comments) in between. Fallback is to only notice when we hit the\n  // arrow, and not declare the arguments as locals for the arrow\n  // body.\n  function findFatArrow(stream, state) {\n    if (state.fatArrowAt) state.fatArrowAt = null;\n    var arrow = stream.string.indexOf(\"=>\", stream.start);\n    if (arrow < 0) return;\n\n    if (isTS) { // Try to skip TypeScript return type declarations after the arguments\n      var m = /:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*$/.exec(stream.string.slice(stream.start, arrow))\n      if (m) arrow = m.index\n    }\n\n    var depth = 0, sawSomething = false;\n    for (var pos = arrow - 1; pos >= 0; --pos) {\n      var ch = stream.string.charAt(pos);\n      var bracket = brackets.indexOf(ch);\n      if (bracket >= 0 && bracket < 3) {\n        if (!depth) { ++pos; break; }\n        if (--depth == 0) { if (ch == \"(\") sawSomething = true; break; }\n      } else if (bracket >= 3 && bracket < 6) {\n        ++depth;\n      } else if (wordRE.test(ch)) {\n        sawSomething = true;\n      } else if (/[\"'\\/]/.test(ch)) {\n        return;\n      } else if (sawSomething && !depth) {\n        ++pos;\n        break;\n      }\n    }\n    if (sawSomething && !depth) state.fatArrowAt = pos;\n  }\n\n  // Parser\n\n  var atomicTypes = {\"atom\": true, \"number\": true, \"variable\": true, \"string\": true, \"regexp\": true, \"this\": true, \"jsonld-keyword\": true};\n\n  function JSLexical(indented, column, type, align, prev, info) {\n    this.indented = indented;\n    this.column = column;\n    this.type = type;\n    this.prev = prev;\n    this.info = info;\n    if (align != null) this.align = align;\n  }\n\n  function inScope(state, varname) {\n    for (var v = state.localVars; v; v = v.next)\n      if (v.name == varname) return true;\n    for (var cx = state.context; cx; cx = cx.prev) {\n      for (var v = cx.vars; v; v = v.next)\n        if (v.name == varname) return true;\n    }\n  }\n\n  function parseJS(state, style, type, content, stream) {\n    var cc = state.cc;\n    // Communicate our context to the combinators.\n    // (Less wasteful than consing up a hundred closures on every call.)\n    cx.state = state; cx.stream = stream; cx.marked = null, cx.cc = cc; cx.style = style;\n\n    if (!state.lexical.hasOwnProperty(\"align\"))\n      state.lexical.align = true;\n\n    while(true) {\n      var combinator = cc.length ? cc.pop() : jsonMode ? expression : statement;\n      if (combinator(type, content)) {\n        while(cc.length && cc[cc.length - 1].lex)\n          cc.pop()();\n        if (cx.marked) return cx.marked;\n        if (type == \"variable\" && inScope(state, content)) return \"variable-2\";\n        return style;\n      }\n    }\n  }\n\n  // Combinator utils\n\n  var cx = {state: null, column: null, marked: null, cc: null};\n  function pass() {\n    for (var i = arguments.length - 1; i >= 0; i--) cx.cc.push(arguments[i]);\n  }\n  function cont() {\n    pass.apply(null, arguments);\n    return true;\n  }\n  function register(varname) {\n    function inList(list) {\n      for (var v = list; v; v = v.next)\n        if (v.name == varname) return true;\n      return false;\n    }\n    var state = cx.state;\n    cx.marked = \"def\";\n    if (state.context) {\n      if (inList(state.localVars)) return;\n      state.localVars = {name: varname, next: state.localVars};\n    } else {\n      if (inList(state.globalVars)) return;\n      if (parserConfig.globalVars)\n        state.globalVars = {name: varname, next: state.globalVars};\n    }\n  }\n\n  // Combinators\n\n  var defaultVars = {name: \"this\", next: {name: \"arguments\"}};\n  function pushcontext() {\n    cx.state.context = {prev: cx.state.context, vars: cx.state.localVars};\n    cx.state.localVars = defaultVars;\n  }\n  function popcontext() {\n    cx.state.localVars = cx.state.context.vars;\n    cx.state.context = cx.state.context.prev;\n  }\n  function pushlex(type, info) {\n    var result = function() {\n      var state = cx.state, indent = state.indented;\n      if (state.lexical.type == \"stat\") indent = state.lexical.indented;\n      else for (var outer = state.lexical; outer && outer.type == \")\" && outer.align; outer = outer.prev)\n        indent = outer.indented;\n      state.lexical = new JSLexical(indent, cx.stream.column(), type, null, state.lexical, info);\n    };\n    result.lex = true;\n    return result;\n  }\n  function poplex() {\n    var state = cx.state;\n    if (state.lexical.prev) {\n      if (state.lexical.type == \")\")\n        state.indented = state.lexical.indented;\n      state.lexical = state.lexical.prev;\n    }\n  }\n  poplex.lex = true;\n\n  function expect(wanted) {\n    function exp(type) {\n      if (type == wanted) return cont();\n      else if (wanted == \";\") return pass();\n      else return cont(exp);\n    };\n    return exp;\n  }\n\n  function statement(type, value) {\n    if (type == \"var\") return cont(pushlex(\"vardef\", value.length), vardef, expect(\";\"), poplex);\n    if (type == \"keyword a\") return cont(pushlex(\"form\"), parenExpr, statement, poplex);\n    if (type == \"keyword b\") return cont(pushlex(\"form\"), statement, poplex);\n    if (type == \"{\") return cont(pushlex(\"}\"), block, poplex);\n    if (type == \";\") return cont();\n    if (type == \"if\") {\n      if (cx.state.lexical.info == \"else\" && cx.state.cc[cx.state.cc.length - 1] == poplex)\n        cx.state.cc.pop()();\n      return cont(pushlex(\"form\"), parenExpr, statement, poplex, maybeelse);\n    }\n    if (type == \"function\") return cont(functiondef);\n    if (type == \"for\") return cont(pushlex(\"form\"), forspec, statement, poplex);\n    if (type == \"variable\") return cont(pushlex(\"stat\"), maybelabel);\n    if (type == \"switch\") return cont(pushlex(\"form\"), parenExpr, pushlex(\"}\", \"switch\"), expect(\"{\"),\n                                      block, poplex, poplex);\n    if (type == \"case\") return cont(expression, expect(\":\"));\n    if (type == \"default\") return cont(expect(\":\"));\n    if (type == \"catch\") return cont(pushlex(\"form\"), pushcontext, expect(\"(\"), funarg, expect(\")\"),\n                                     statement, poplex, popcontext);\n    if (type == \"class\") return cont(pushlex(\"form\"), className, poplex);\n    if (type == \"export\") return cont(pushlex(\"stat\"), afterExport, poplex);\n    if (type == \"import\") return cont(pushlex(\"stat\"), afterImport, poplex);\n    if (type == \"module\") return cont(pushlex(\"form\"), pattern, pushlex(\"}\"), expect(\"{\"), block, poplex, poplex)\n    if (type == \"type\") return cont(typeexpr, expect(\"operator\"), typeexpr, expect(\";\"));\n    if (type == \"async\") return cont(statement)\n    return pass(pushlex(\"stat\"), expression, expect(\";\"), poplex);\n  }\n  function expression(type) {\n    return expressionInner(type, false);\n  }\n  function expressionNoComma(type) {\n    return expressionInner(type, true);\n  }\n  function parenExpr(type) {\n    if (type != \"(\") return pass()\n    return cont(pushlex(\")\"), expression, expect(\")\"), poplex)\n  }\n  function expressionInner(type, noComma) {\n    if (cx.state.fatArrowAt == cx.stream.start) {\n      var body = noComma ? arrowBodyNoComma : arrowBody;\n      if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(pattern, \")\"), poplex, expect(\"=>\"), body, popcontext);\n      else if (type == \"variable\") return pass(pushcontext, pattern, expect(\"=>\"), body, popcontext);\n    }\n\n    var maybeop = noComma ? maybeoperatorNoComma : maybeoperatorComma;\n    if (atomicTypes.hasOwnProperty(type)) return cont(maybeop);\n    if (type == \"function\") return cont(functiondef, maybeop);\n    if (type == \"class\") return cont(pushlex(\"form\"), classExpression, poplex);\n    if (type == \"keyword c\" || type == \"async\") return cont(noComma ? maybeexpressionNoComma : maybeexpression);\n    if (type == \"(\") return cont(pushlex(\")\"), maybeexpression, expect(\")\"), poplex, maybeop);\n    if (type == \"operator\" || type == \"spread\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"[\") return cont(pushlex(\"]\"), arrayLiteral, poplex, maybeop);\n    if (type == \"{\") return contCommasep(objprop, \"}\", null, maybeop);\n    if (type == \"quasi\") return pass(quasi, maybeop);\n    if (type == \"new\") return cont(maybeTarget(noComma));\n    return cont();\n  }\n  function maybeexpression(type) {\n    if (type.match(/[;\\}\\)\\],]/)) return pass();\n    return pass(expression);\n  }\n  function maybeexpressionNoComma(type) {\n    if (type.match(/[;\\}\\)\\],]/)) return pass();\n    return pass(expressionNoComma);\n  }\n\n  function maybeoperatorComma(type, value) {\n    if (type == \",\") return cont(expression);\n    return maybeoperatorNoComma(type, value, false);\n  }\n  function maybeoperatorNoComma(type, value, noComma) {\n    var me = noComma == false ? maybeoperatorComma : maybeoperatorNoComma;\n    var expr = noComma == false ? expression : expressionNoComma;\n    if (type == \"=>\") return cont(pushcontext, noComma ? arrowBodyNoComma : arrowBody, popcontext);\n    if (type == \"operator\") {\n      if (/\\+\\+|--/.test(value)) return cont(me);\n      if (value == \"?\") return cont(expression, expect(\":\"), expr);\n      return cont(expr);\n    }\n    if (type == \"quasi\") { return pass(quasi, me); }\n    if (type == \";\") return;\n    if (type == \"(\") return contCommasep(expressionNoComma, \")\", \"call\", me);\n    if (type == \".\") return cont(property, me);\n    if (type == \"[\") return cont(pushlex(\"]\"), maybeexpression, expect(\"]\"), poplex, me);\n  }\n  function quasi(type, value) {\n    if (type != \"quasi\") return pass();\n    if (value.slice(value.length - 2) != \"${\") return cont(quasi);\n    return cont(expression, continueQuasi);\n  }\n  function continueQuasi(type) {\n    if (type == \"}\") {\n      cx.marked = \"string-2\";\n      cx.state.tokenize = tokenQuasi;\n      return cont(quasi);\n    }\n  }\n  function arrowBody(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expression);\n  }\n  function arrowBodyNoComma(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expressionNoComma);\n  }\n  function maybeTarget(noComma) {\n    return function(type) {\n      if (type == \".\") return cont(noComma ? targetNoComma : target);\n      else return pass(noComma ? expressionNoComma : expression);\n    };\n  }\n  function target(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorComma); }\n  }\n  function targetNoComma(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorNoComma); }\n  }\n  function maybelabel(type) {\n    if (type == \":\") return cont(poplex, statement);\n    return pass(maybeoperatorComma, expect(\";\"), poplex);\n  }\n  function property(type) {\n    if (type == \"variable\") {cx.marked = \"property\"; return cont();}\n  }\n  function objprop(type, value) {\n    if (type == \"async\") {\n      cx.marked = \"property\";\n      return cont(objprop);\n    } else if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      if (value == \"get\" || value == \"set\") return cont(getterSetter);\n      return cont(afterprop);\n    } else if (type == \"number\" || type == \"string\") {\n      cx.marked = jsonldMode ? \"property\" : (cx.style + \" property\");\n      return cont(afterprop);\n    } else if (type == \"jsonld-keyword\") {\n      return cont(afterprop);\n    } else if (type == \"modifier\") {\n      return cont(objprop)\n    } else if (type == \"[\") {\n      return cont(expression, expect(\"]\"), afterprop);\n    } else if (type == \"spread\") {\n      return cont(expression);\n    } else if (type == \":\") {\n      return pass(afterprop)\n    }\n  }\n  function getterSetter(type) {\n    if (type != \"variable\") return pass(afterprop);\n    cx.marked = \"property\";\n    return cont(functiondef);\n  }\n  function afterprop(type) {\n    if (type == \":\") return cont(expressionNoComma);\n    if (type == \"(\") return pass(functiondef);\n  }\n  function commasep(what, end, sep) {\n    function proceed(type, value) {\n      if (sep ? sep.indexOf(type) > -1 : type == \",\") {\n        var lex = cx.state.lexical;\n        if (lex.info == \"call\") lex.pos = (lex.pos || 0) + 1;\n        return cont(function(type, value) {\n          if (type == end || value == end) return pass()\n          return pass(what)\n        }, proceed);\n      }\n      if (type == end || value == end) return cont();\n      return cont(expect(end));\n    }\n    return function(type, value) {\n      if (type == end || value == end) return cont();\n      return pass(what, proceed);\n    };\n  }\n  function contCommasep(what, end, info) {\n    for (var i = 3; i < arguments.length; i++)\n      cx.cc.push(arguments[i]);\n    return cont(pushlex(end, info), commasep(what, end), poplex);\n  }\n  function block(type) {\n    if (type == \"}\") return cont();\n    return pass(statement, block);\n  }\n  function maybetype(type, value) {\n    if (isTS) {\n      if (type == \":\") return cont(typeexpr);\n      if (value == \"?\") return cont(maybetype);\n    }\n  }\n  function typeexpr(type) {\n    if (type == \"variable\") {cx.marked = \"variable-3\"; return cont(afterType);}\n    if (type == \"string\" || type == \"number\" || type == \"atom\") return cont(afterType);\n    if (type == \"{\") return cont(pushlex(\"}\"), commasep(typeprop, \"}\", \",;\"), poplex)\n    if (type == \"(\") return cont(commasep(typearg, \")\"), maybeReturnType)\n  }\n  function maybeReturnType(type) {\n    if (type == \"=>\") return cont(typeexpr)\n  }\n  function typeprop(type, value) {\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\"\n      return cont(typeprop)\n    } else if (value == \"?\") {\n      return cont(typeprop)\n    } else if (type == \":\") {\n      return cont(typeexpr)\n    }\n  }\n  function typearg(type) {\n    if (type == \"variable\") return cont(typearg)\n    else if (type == \":\") return cont(typeexpr)\n  }\n  function afterType(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n    if (value == \"|\" || type == \".\") return cont(typeexpr)\n    if (type == \"[\") return cont(expect(\"]\"), afterType)\n  }\n  function vardef() {\n    return pass(pattern, maybetype, maybeAssign, vardefCont);\n  }\n  function pattern(type, value) {\n    if (type == \"modifier\") return cont(pattern)\n    if (type == \"variable\") { register(value); return cont(); }\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"[\") return contCommasep(pattern, \"]\");\n    if (type == \"{\") return contCommasep(proppattern, \"}\");\n  }\n  function proppattern(type, value) {\n    if (type == \"variable\" && !cx.stream.match(/^\\s*:/, false)) {\n      register(value);\n      return cont(maybeAssign);\n    }\n    if (type == \"variable\") cx.marked = \"property\";\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"}\") return pass();\n    return cont(expect(\":\"), pattern, maybeAssign);\n  }\n  function maybeAssign(_type, value) {\n    if (value == \"=\") return cont(expressionNoComma);\n  }\n  function vardefCont(type) {\n    if (type == \",\") return cont(vardef);\n  }\n  function maybeelse(type, value) {\n    if (type == \"keyword b\" && value == \"else\") return cont(pushlex(\"form\", \"else\"), statement, poplex);\n  }\n  function forspec(type) {\n    if (type == \"(\") return cont(pushlex(\")\"), forspec1, expect(\")\"), poplex);\n  }\n  function forspec1(type) {\n    if (type == \"var\") return cont(vardef, expect(\";\"), forspec2);\n    if (type == \";\") return cont(forspec2);\n    if (type == \"variable\") return cont(formaybeinof);\n    return pass(expression, expect(\";\"), forspec2);\n  }\n  function formaybeinof(_type, value) {\n    if (value == \"in\" || value == \"of\") { cx.marked = \"keyword\"; return cont(expression); }\n    return cont(maybeoperatorComma, forspec2);\n  }\n  function forspec2(type, value) {\n    if (type == \";\") return cont(forspec3);\n    if (value == \"in\" || value == \"of\") { cx.marked = \"keyword\"; return cont(expression); }\n    return pass(expression, expect(\";\"), forspec3);\n  }\n  function forspec3(type) {\n    if (type != \")\") cont(expression);\n  }\n  function functiondef(type, value) {\n    if (value == \"*\") {cx.marked = \"keyword\"; return cont(functiondef);}\n    if (type == \"variable\") {register(value); return cont(functiondef);}\n    if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, maybetype, statement, popcontext);\n  }\n  function funarg(type) {\n    if (type == \"spread\") return cont(funarg);\n    return pass(pattern, maybetype, maybeAssign);\n  }\n  function classExpression(type, value) {\n    // Class expressions may have an optional name.\n    if (type == \"variable\") return className(type, value);\n    return classNameAfter(type, value);\n  }\n  function className(type, value) {\n    if (type == \"variable\") {register(value); return cont(classNameAfter);}\n  }\n  function classNameAfter(type, value) {\n    if (value == \"extends\" || value == \"implements\" || (isTS && type == \",\"))\n      return cont(isTS ? typeexpr : expression, classNameAfter);\n    if (type == \"{\") return cont(pushlex(\"}\"), classBody, poplex);\n  }\n  function classBody(type, value) {\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      if ((value == \"async\" || value == \"static\" || value == \"get\" || value == \"set\" ||\n           (isTS && (value == \"public\" || value == \"private\" || value == \"protected\" || value == \"readonly\" || value == \"abstract\"))) &&\n          cx.stream.match(/^\\s+[\\w$\\xa1-\\uffff]/, false)) {\n        cx.marked = \"keyword\";\n        return cont(classBody);\n      }\n      cx.marked = \"property\";\n      return cont(isTS ? classfield : functiondef, classBody);\n    }\n    if (type == \"[\")\n      return cont(expression, expect(\"]\"), isTS ? classfield : functiondef, classBody)\n    if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (type == \";\") return cont(classBody);\n    if (type == \"}\") return cont();\n  }\n  function classfield(type, value) {\n    if (value == \"?\") return cont(classfield)\n    if (type == \":\") return cont(typeexpr, maybeAssign)\n    return pass(functiondef)\n  }\n  function afterExport(type, value) {\n    if (value == \"*\") { cx.marked = \"keyword\"; return cont(maybeFrom, expect(\";\")); }\n    if (value == \"default\") { cx.marked = \"keyword\"; return cont(expression, expect(\";\")); }\n    if (type == \"{\") return cont(commasep(exportField, \"}\"), maybeFrom, expect(\";\"));\n    return pass(statement);\n  }\n  function exportField(type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(expect(\"variable\")); }\n    if (type == \"variable\") return pass(expressionNoComma, exportField);\n  }\n  function afterImport(type) {\n    if (type == \"string\") return cont();\n    return pass(importSpec, maybeMoreImports, maybeFrom);\n  }\n  function importSpec(type, value) {\n    if (type == \"{\") return contCommasep(importSpec, \"}\");\n    if (type == \"variable\") register(value);\n    if (value == \"*\") cx.marked = \"keyword\";\n    return cont(maybeAs);\n  }\n  function maybeMoreImports(type) {\n    if (type == \",\") return cont(importSpec, maybeMoreImports)\n  }\n  function maybeAs(_type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(importSpec); }\n  }\n  function maybeFrom(_type, value) {\n    if (value == \"from\") { cx.marked = \"keyword\"; return cont(expression); }\n  }\n  function arrayLiteral(type) {\n    if (type == \"]\") return cont();\n    return pass(commasep(expressionNoComma, \"]\"));\n  }\n\n  function isContinuedStatement(state, textAfter) {\n    return state.lastType == \"operator\" || state.lastType == \",\" ||\n      isOperatorChar.test(textAfter.charAt(0)) ||\n      /[,.]/.test(textAfter.charAt(0));\n  }\n\n  // Interface\n\n  return {\n    startState: function(basecolumn) {\n      var state = {\n        tokenize: tokenBase,\n        lastType: \"sof\",\n        cc: [],\n        lexical: new JSLexical((basecolumn || 0) - indentUnit, 0, \"block\", false),\n        localVars: parserConfig.localVars,\n        context: parserConfig.localVars && {vars: parserConfig.localVars},\n        indented: basecolumn || 0\n      };\n      if (parserConfig.globalVars && typeof parserConfig.globalVars == \"object\")\n        state.globalVars = parserConfig.globalVars;\n      return state;\n    },\n\n    token: function(stream, state) {\n      if (stream.sol()) {\n        if (!state.lexical.hasOwnProperty(\"align\"))\n          state.lexical.align = false;\n        state.indented = stream.indentation();\n        findFatArrow(stream, state);\n      }\n      if (state.tokenize != tokenComment && stream.eatSpace()) return null;\n      var style = state.tokenize(stream, state);\n      if (type == \"comment\") return style;\n      state.lastType = type == \"operator\" && (content == \"++\" || content == \"--\") ? \"incdec\" : type;\n      return parseJS(state, style, type, content, stream);\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize == tokenComment) return CodeMirror.Pass;\n      if (state.tokenize != tokenBase) return 0;\n      var firstChar = textAfter && textAfter.charAt(0), lexical = state.lexical, top\n      // Kludge to prevent 'maybelse' from blocking lexical scope pops\n      if (!/^\\s*else\\b/.test(textAfter)) for (var i = state.cc.length - 1; i >= 0; --i) {\n        var c = state.cc[i];\n        if (c == poplex) lexical = lexical.prev;\n        else if (c != maybeelse) break;\n      }\n      while ((lexical.type == \"stat\" || lexical.type == \"form\") &&\n             (firstChar == \"}\" || ((top = state.cc[state.cc.length - 1]) &&\n                                   (top == maybeoperatorComma || top == maybeoperatorNoComma) &&\n                                   !/^[,\\.=+\\-*:?[\\(]/.test(textAfter))))\n        lexical = lexical.prev;\n      if (statementIndent && lexical.type == \")\" && lexical.prev.type == \"stat\")\n        lexical = lexical.prev;\n      var type = lexical.type, closing = firstChar == type;\n\n      if (type == \"vardef\") return lexical.indented + (state.lastType == \"operator\" || state.lastType == \",\" ? lexical.info + 1 : 0);\n      else if (type == \"form\" && firstChar == \"{\") return lexical.indented;\n      else if (type == \"form\") return lexical.indented + indentUnit;\n      else if (type == \"stat\")\n        return lexical.indented + (isContinuedStatement(state, textAfter) ? statementIndent || indentUnit : 0);\n      else if (lexical.info == \"switch\" && !closing && parserConfig.doubleIndentSwitch != false)\n        return lexical.indented + (/^(?:case|default)\\b/.test(textAfter) ? indentUnit : 2 * indentUnit);\n      else if (lexical.align) return lexical.column + (closing ? 0 : 1);\n      else return lexical.indented + (closing ? 0 : indentUnit);\n    },\n\n    electricInput: /^\\s*(?:case .*?:|default:|\\{|\\})$/,\n    blockCommentStart: jsonMode ? null : \"/*\",\n    blockCommentEnd: jsonMode ? null : \"*/\",\n    lineComment: jsonMode ? null : \"//\",\n    fold: \"brace\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n\n    helperType: jsonMode ? \"json\" : \"javascript\",\n    jsonldMode: jsonldMode,\n    jsonMode: jsonMode,\n\n    expressionAllowed: expressionAllowed,\n    skipExpression: function(state) {\n      var top = state.cc[state.cc.length - 1]\n      if (top == expression || top == expressionNoComma) state.cc.pop()\n    }\n  };\n});\n\nCodeMirror.registerHelper(\"wordChars\", \"javascript\", /[\\w$]/);\n\nCodeMirror.defineMIME(\"text/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"text/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/x-javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/json\", {name: \"javascript\", json: true});\nCodeMirror.defineMIME(\"application/x-json\", {name: \"javascript\", json: true});\nCodeMirror.defineMIME(\"application/ld+json\", {name: \"javascript\", jsonld: true});\nCodeMirror.defineMIME(\"text/typescript\", { name: \"javascript\", typescript: true });\nCodeMirror.defineMIME(\"application/typescript\", { name: \"javascript\", typescript: true });\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var ie_lt8 = /MSIE \\d/.test(navigator.userAgent) &&\n    (document.documentMode == null || document.documentMode < 8);\n\n  var Pos = CodeMirror.Pos;\n\n  var matching = {\"(\": \")>\", \")\": \"(<\", \"[\": \"]>\", \"]\": \"[<\", \"{\": \"}>\", \"}\": \"{<\"};\n\n  function findMatchingBracket(cm, where, strict, config) {\n    var line = cm.getLineHandle(where.line), pos = where.ch - 1;\n    var match = (pos >= 0 && matching[line.text.charAt(pos)]) || matching[line.text.charAt(++pos)];\n    if (!match) return null;\n    var dir = match.charAt(1) == \">\" ? 1 : -1;\n    if (strict && (dir > 0) != (pos == where.ch)) return null;\n    var style = cm.getTokenTypeAt(Pos(where.line, pos + 1));\n\n    var found = scanForBracket(cm, Pos(where.line, pos + (dir > 0 ? 1 : 0)), dir, style || null, config);\n    if (found == null) return null;\n    return {from: Pos(where.line, pos), to: found && found.pos,\n            match: found && found.ch == match.charAt(0), forward: dir > 0};\n  }\n\n  // bracketRegex is used to specify which type of bracket to scan\n  // should be a regexp, e.g. /[[\\]]/\n  //\n  // Note: If \"where\" is on an open bracket, then this bracket is ignored.\n  //\n  // Returns false when no bracket was found, null when it reached\n  // maxScanLines and gave up\n  function scanForBracket(cm, where, dir, style, config) {\n    var maxScanLen = (config && config.maxScanLineLength) || 10000;\n    var maxScanLines = (config && config.maxScanLines) || 1000;\n\n    var stack = [];\n    var re = config && config.bracketRegex ? config.bracketRegex : /[(){}[\\]]/;\n    var lineEnd = dir > 0 ? Math.min(where.line + maxScanLines, cm.lastLine() + 1)\n                          : Math.max(cm.firstLine() - 1, where.line - maxScanLines);\n    for (var lineNo = where.line; lineNo != lineEnd; lineNo += dir) {\n      var line = cm.getLine(lineNo);\n      if (!line) continue;\n      var pos = dir > 0 ? 0 : line.length - 1, end = dir > 0 ? line.length : -1;\n      if (line.length > maxScanLen) continue;\n      if (lineNo == where.line) pos = where.ch - (dir < 0 ? 1 : 0);\n      for (; pos != end; pos += dir) {\n        var ch = line.charAt(pos);\n        if (re.test(ch) && (style === undefined || cm.getTokenTypeAt(Pos(lineNo, pos + 1)) == style)) {\n          var match = matching[ch];\n          if ((match.charAt(1) == \">\") == (dir > 0)) stack.push(ch);\n          else if (!stack.length) return {pos: Pos(lineNo, pos), ch: ch};\n          else stack.pop();\n        }\n      }\n    }\n    return lineNo - dir == (dir > 0 ? cm.lastLine() : cm.firstLine()) ? false : null;\n  }\n\n  function matchBrackets(cm, autoclear, config) {\n    // Disable brace matching in long lines, since it'll cause hugely slow updates\n    var maxHighlightLen = cm.state.matchBrackets.maxHighlightLineLength || 1000;\n    var marks = [], ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      var match = ranges[i].empty() && findMatchingBracket(cm, ranges[i].head, false, config);\n      if (match && cm.getLine(match.from.line).length <= maxHighlightLen) {\n        var style = match.match ? \"CodeMirror-matchingbracket\" : \"CodeMirror-nonmatchingbracket\";\n        marks.push(cm.markText(match.from, Pos(match.from.line, match.from.ch + 1), {className: style}));\n        if (match.to && cm.getLine(match.to.line).length <= maxHighlightLen)\n          marks.push(cm.markText(match.to, Pos(match.to.line, match.to.ch + 1), {className: style}));\n      }\n    }\n\n    if (marks.length) {\n      // Kludge to work around the IE bug from issue #1193, where text\n      // input stops going to the textare whever this fires.\n      if (ie_lt8 && cm.state.focused) cm.focus();\n\n      var clear = function() {\n        cm.operation(function() {\n          for (var i = 0; i < marks.length; i++) marks[i].clear();\n        });\n      };\n      if (autoclear) setTimeout(clear, 800);\n      else return clear;\n    }\n  }\n\n  var currentlyHighlighted = null;\n  function doMatchBrackets(cm) {\n    cm.operation(function() {\n      if (currentlyHighlighted) {currentlyHighlighted(); currentlyHighlighted = null;}\n      currentlyHighlighted = matchBrackets(cm, false, cm.state.matchBrackets);\n    });\n  }\n\n  CodeMirror.defineOption(\"matchBrackets\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.off(\"cursorActivity\", doMatchBrackets);\n      if (currentlyHighlighted) {currentlyHighlighted(); currentlyHighlighted = null;}\n    }\n    if (val) {\n      cm.state.matchBrackets = typeof val == \"object\" ? val : {};\n      cm.on(\"cursorActivity\", doMatchBrackets);\n    }\n  });\n\n  CodeMirror.defineExtension(\"matchBrackets\", function() {matchBrackets(this, true);});\n  CodeMirror.defineExtension(\"findMatchingBracket\", function(pos, strict, config){\n    return findMatchingBracket(this, pos, strict, config);\n  });\n  CodeMirror.defineExtension(\"scanForBracket\", function(pos, dir, style, config){\n    return scanForBracket(this, pos, dir, style, config);\n  });\n});\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* eslint-env browser */\nvar Ajax = function () {\n  function Ajax() {\n    _classCallCheck(this, Ajax);\n  }\n\n  _createClass(Ajax, null, [{\n    key: 'request',\n\n\n    /**\n     * request - Makes a request to a remote server\n     *\n     * @param  String url         Url for the request\n     * @param  String method      Request method: GET, POST, etc (default: GET)\n     * @param  Object data        Data payload. Set to null to not send\n     *                            anything. Data is sent as raw json (default: null)\n     * @param  Function callback  Called con completion with an object containing\n     *                            the status code and the data. If the response\n     *                            has a content-type containing json data will\n     *                            be parsed, otherwise it will be the raw data.\n     * @returns XMLHttpRequest    Original XMLHttpRequest object to allow further\n     *                            event binding.\n     */\n    value: function request(url) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var method = args[0],\n          data = args[1],\n          headers = args[2],\n          callback = args[3];\n\n\n      if (typeof method === 'function') {\n        method = 'GET';\n        callback = method;\n        data = null;\n        headers = {};\n      }\n\n      if (typeof data === 'function') {\n        callback = data;\n        data = null;\n        headers = {};\n      }\n\n      if (typeof headers === 'function') {\n        callback = headers;\n        headers = {};\n      }\n\n      if (headers === null) {\n        headers = {};\n      }\n\n      var useMethod = method.toUpperCase();\n      var validMethods = ['GET', 'POST', 'PUT', 'PATCH', 'HEAD', 'DELETE', 'OPTIONS'];\n\n      if (validMethods.indexOf(useMethod) === -1) {\n        var err = new TypeError('Method must be one of the following: ' + validMethods.join(', '));\n        return callback(err);\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      xhr.open(useMethod, url);\n\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState > 3 && xhr.status > 0) {\n          var contentType = xhr.getResponseHeader('content-type');\n          var parsedResponse = xhr.responseText;\n\n          if (contentType && contentType.toLowerCase().indexOf('json')) {\n            parsedResponse = JSON.parse(parsedResponse);\n          }\n\n          return callback(null, {\n            statusCode: xhr.status,\n            data: parsedResponse\n          });\n        }\n      };\n\n      Object.keys(headers).forEach(function (header) {\n        xhr.setRequestHeader(header, headers[header]);\n      });\n\n      if (data !== null) {\n        xhr.setRequestHeader('Content-Type', 'application/json');\n        xhr.send(JSON.stringify(data));\n      } else {\n        xhr.send();\n      }\n\n      return xhr;\n    }\n  }]);\n\n  return Ajax;\n}();\n\nexports.default = Ajax;\n\n//# sourceMappingURL=ajax.js.map","\n/* **********************************************\n     Begin prism-core.js\n********************************************** */\n\nvar _self = (typeof window !== 'undefined')\n\t? window   // if in browser\n\t: (\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\t\t? self // if in worker\n\t\t: {}   // if in node js\n\t);\n\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n * MIT license http://www.opensource.org/licenses/mit-license.php/\n * @author Lea Verou http://lea.verou.me\n */\n\nvar Prism = (function(){\n\n// Private helper vars\nvar lang = /\\blang(?:uage)?-(\\w+)\\b/i;\nvar uniqueId = 0;\n\nvar _ = _self.Prism = {\n\tutil: {\n\t\tencode: function (tokens) {\n\t\t\tif (tokens instanceof Token) {\n\t\t\t\treturn new Token(tokens.type, _.util.encode(tokens.content), tokens.alias);\n\t\t\t} else if (_.util.type(tokens) === 'Array') {\n\t\t\t\treturn tokens.map(_.util.encode);\n\t\t\t} else {\n\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n\t\t\t}\n\t\t},\n\n\t\ttype: function (o) {\n\t\t\treturn Object.prototype.toString.call(o).match(/\\[object (\\w+)\\]/)[1];\n\t\t},\n\n\t\tobjId: function (obj) {\n\t\t\tif (!obj['__id']) {\n\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\n\t\t\t}\n\t\t\treturn obj['__id'];\n\t\t},\n\n\t\t// Deep clone a language definition (e.g. to extend it)\n\t\tclone: function (o) {\n\t\t\tvar type = _.util.type(o);\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'Object':\n\t\t\t\t\tvar clone = {};\n\n\t\t\t\t\tfor (var key in o) {\n\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tclone[key] = _.util.clone(o[key]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn clone;\n\n\t\t\t\tcase 'Array':\n\t\t\t\t\t// Check for existence for IE8\n\t\t\t\t\treturn o.map && o.map(function(v) { return _.util.clone(v); });\n\t\t\t}\n\n\t\t\treturn o;\n\t\t}\n\t},\n\n\tlanguages: {\n\t\textend: function (id, redef) {\n\t\t\tvar lang = _.util.clone(_.languages[id]);\n\n\t\t\tfor (var key in redef) {\n\t\t\t\tlang[key] = redef[key];\n\t\t\t}\n\n\t\t\treturn lang;\n\t\t},\n\n\t\t/**\n\t\t * Insert a token before another token in a language literal\n\t\t * As this needs to recreate the object (we cannot actually insert before keys in object literals),\n\t\t * we cannot just provide an object, we need anobject and a key.\n\t\t * @param inside The key (or language id) of the parent\n\t\t * @param before The key to insert before. If not provided, the function appends instead.\n\t\t * @param insert Object with the key/value pairs to insert\n\t\t * @param root The object that contains `inside`. If equal to Prism.languages, it can be omitted.\n\t\t */\n\t\tinsertBefore: function (inside, before, insert, root) {\n\t\t\troot = root || _.languages;\n\t\t\tvar grammar = root[inside];\n\n\t\t\tif (arguments.length == 2) {\n\t\t\t\tinsert = arguments[1];\n\n\t\t\t\tfor (var newToken in insert) {\n\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\tgrammar[newToken] = insert[newToken];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn grammar;\n\t\t\t}\n\n\t\t\tvar ret = {};\n\n\t\t\tfor (var token in grammar) {\n\n\t\t\t\tif (grammar.hasOwnProperty(token)) {\n\n\t\t\t\t\tif (token == before) {\n\n\t\t\t\t\t\tfor (var newToken in insert) {\n\n\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tret[token] = grammar[token];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Update references in other language definitions\n\t\t\t_.languages.DFS(_.languages, function(key, value) {\n\t\t\t\tif (value === root[inside] && key != inside) {\n\t\t\t\t\tthis[key] = ret;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn root[inside] = ret;\n\t\t},\n\n\t\t// Traverse a language definition with Depth First Search\n\t\tDFS: function(o, callback, type, visited) {\n\t\t\tvisited = visited || {};\n\t\t\tfor (var i in o) {\n\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\tcallback.call(o, i, o[i], type || i);\n\n\t\t\t\t\tif (_.util.type(o[i]) === 'Object' && !visited[_.util.objId(o[i])]) {\n\t\t\t\t\t\tvisited[_.util.objId(o[i])] = true;\n\t\t\t\t\t\t_.languages.DFS(o[i], callback, null, visited);\n\t\t\t\t\t}\n\t\t\t\t\telse if (_.util.type(o[i]) === 'Array' && !visited[_.util.objId(o[i])]) {\n\t\t\t\t\t\tvisited[_.util.objId(o[i])] = true;\n\t\t\t\t\t\t_.languages.DFS(o[i], callback, i, visited);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tplugins: {},\n\n\thighlightAll: function(async, callback) {\n\t\tvar env = {\n\t\t\tcallback: callback,\n\t\t\tselector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n\t\t};\n\n\t\t_.hooks.run(\"before-highlightall\", env);\n\n\t\tvar elements = env.elements || document.querySelectorAll(env.selector);\n\n\t\tfor (var i=0, element; element = elements[i++];) {\n\t\t\t_.highlightElement(element, async === true, env.callback);\n\t\t}\n\t},\n\n\thighlightElement: function(element, async, callback) {\n\t\t// Find language\n\t\tvar language, grammar, parent = element;\n\n\t\twhile (parent && !lang.test(parent.className)) {\n\t\t\tparent = parent.parentNode;\n\t\t}\n\n\t\tif (parent) {\n\t\t\tlanguage = (parent.className.match(lang) || [,''])[1].toLowerCase();\n\t\t\tgrammar = _.languages[language];\n\t\t}\n\n\t\t// Set language on the element, if not present\n\t\telement.className = element.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n\n\t\t// Set language on the parent, for styling\n\t\tparent = element.parentNode;\n\n\t\tif (/pre/i.test(parent.nodeName)) {\n\t\t\tparent.className = parent.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n\t\t}\n\n\t\tvar code = element.textContent;\n\n\t\tvar env = {\n\t\t\telement: element,\n\t\t\tlanguage: language,\n\t\t\tgrammar: grammar,\n\t\t\tcode: code\n\t\t};\n\n\t\t_.hooks.run('before-sanity-check', env);\n\n\t\tif (!env.code || !env.grammar) {\n\t\t\tif (env.code) {\n\t\t\t\tenv.element.textContent = env.code;\n\t\t\t}\n\t\t\t_.hooks.run('complete', env);\n\t\t\treturn;\n\t\t}\n\n\t\t_.hooks.run('before-highlight', env);\n\n\t\tif (async && _self.Worker) {\n\t\t\tvar worker = new Worker(_.filename);\n\n\t\t\tworker.onmessage = function(evt) {\n\t\t\t\tenv.highlightedCode = evt.data;\n\n\t\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t};\n\n\t\t\tworker.postMessage(JSON.stringify({\n\t\t\t\tlanguage: env.language,\n\t\t\t\tcode: env.code,\n\t\t\t\timmediateClose: true\n\t\t\t}));\n\t\t}\n\t\telse {\n\t\t\tenv.highlightedCode = _.highlight(env.code, env.grammar, env.language);\n\n\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\tcallback && callback.call(element);\n\n\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t_.hooks.run('complete', env);\n\t\t}\n\t},\n\n\thighlight: function (text, grammar, language) {\n\t\tvar tokens = _.tokenize(text, grammar);\n\t\treturn Token.stringify(_.util.encode(tokens), language);\n\t},\n\n\ttokenize: function(text, grammar, language) {\n\t\tvar Token = _.Token;\n\n\t\tvar strarr = [text];\n\n\t\tvar rest = grammar.rest;\n\n\t\tif (rest) {\n\t\t\tfor (var token in rest) {\n\t\t\t\tgrammar[token] = rest[token];\n\t\t\t}\n\n\t\t\tdelete grammar.rest;\n\t\t}\n\n\t\ttokenloop: for (var token in grammar) {\n\t\t\tif(!grammar.hasOwnProperty(token) || !grammar[token]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar patterns = grammar[token];\n\t\t\tpatterns = (_.util.type(patterns) === \"Array\") ? patterns : [patterns];\n\n\t\t\tfor (var j = 0; j < patterns.length; ++j) {\n\t\t\t\tvar pattern = patterns[j],\n\t\t\t\t\tinside = pattern.inside,\n\t\t\t\t\tlookbehind = !!pattern.lookbehind,\n\t\t\t\t\tgreedy = !!pattern.greedy,\n\t\t\t\t\tlookbehindLength = 0,\n\t\t\t\t\talias = pattern.alias;\n\n\t\t\t\tif (greedy && !pattern.pattern.global) {\n\t\t\t\t\t// Without the global flag, lastIndex won't work\n\t\t\t\t\tvar flags = pattern.pattern.toString().match(/[imuy]*$/)[0];\n\t\t\t\t\tpattern.pattern = RegExp(pattern.pattern.source, flags + \"g\");\n\t\t\t\t}\n\n\t\t\t\tpattern = pattern.pattern || pattern;\n\n\t\t\t\t// Dont cache length as it changes during the loop\n\t\t\t\tfor (var i=0, pos = 0; i<strarr.length; pos += strarr[i].length, ++i) {\n\n\t\t\t\t\tvar str = strarr[i];\n\n\t\t\t\t\tif (strarr.length > text.length) {\n\t\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\n\t\t\t\t\t\tbreak tokenloop;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (str instanceof Token) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tpattern.lastIndex = 0;\n\n\t\t\t\t\tvar match = pattern.exec(str),\n\t\t\t\t\t    delNum = 1;\n\n\t\t\t\t\t// Greedy patterns can override/remove up to two previously matched tokens\n\t\t\t\t\tif (!match && greedy && i != strarr.length - 1) {\n\t\t\t\t\t\tpattern.lastIndex = pos;\n\t\t\t\t\t\tmatch = pattern.exec(text);\n\t\t\t\t\t\tif (!match) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar from = match.index + (lookbehind ? match[1].length : 0),\n\t\t\t\t\t\t    to = match.index + match[0].length,\n\t\t\t\t\t\t    k = i,\n\t\t\t\t\t\t    p = pos;\n\n\t\t\t\t\t\tfor (var len = strarr.length; k < len && p < to; ++k) {\n\t\t\t\t\t\t\tp += strarr[k].length;\n\t\t\t\t\t\t\t// Move the index i to the element in strarr that is closest to from\n\t\t\t\t\t\t\tif (from >= p) {\n\t\t\t\t\t\t\t\t++i;\n\t\t\t\t\t\t\t\tpos = p;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/*\n\t\t\t\t\t\t * If strarr[i] is a Token, then the match starts inside another Token, which is invalid\n\t\t\t\t\t\t * If strarr[k - 1] is greedy we are in conflict with another greedy pattern\n\t\t\t\t\t\t */\n\t\t\t\t\t\tif (strarr[i] instanceof Token || strarr[k - 1].greedy) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Number of tokens to delete and replace with the new match\n\t\t\t\t\t\tdelNum = k - i;\n\t\t\t\t\t\tstr = text.slice(pos, p);\n\t\t\t\t\t\tmatch.index -= pos;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!match) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(lookbehind) {\n\t\t\t\t\t\tlookbehindLength = match[1].length;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar from = match.index + lookbehindLength,\n\t\t\t\t\t    match = match[0].slice(lookbehindLength),\n\t\t\t\t\t    to = from + match.length,\n\t\t\t\t\t    before = str.slice(0, from),\n\t\t\t\t\t    after = str.slice(to);\n\n\t\t\t\t\tvar args = [i, delNum];\n\n\t\t\t\t\tif (before) {\n\t\t\t\t\t\targs.push(before);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar wrapped = new Token(token, inside? _.tokenize(match, inside) : match, alias, match, greedy);\n\n\t\t\t\t\targs.push(wrapped);\n\n\t\t\t\t\tif (after) {\n\t\t\t\t\t\targs.push(after);\n\t\t\t\t\t}\n\n\t\t\t\t\tArray.prototype.splice.apply(strarr, args);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn strarr;\n\t},\n\n\thooks: {\n\t\tall: {},\n\n\t\tadd: function (name, callback) {\n\t\t\tvar hooks = _.hooks.all;\n\n\t\t\thooks[name] = hooks[name] || [];\n\n\t\t\thooks[name].push(callback);\n\t\t},\n\n\t\trun: function (name, env) {\n\t\t\tvar callbacks = _.hooks.all[name];\n\n\t\t\tif (!callbacks || !callbacks.length) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (var i=0, callback; callback = callbacks[i++];) {\n\t\t\t\tcallback(env);\n\t\t\t}\n\t\t}\n\t}\n};\n\nvar Token = _.Token = function(type, content, alias, matchedStr, greedy) {\n\tthis.type = type;\n\tthis.content = content;\n\tthis.alias = alias;\n\t// Copy of the full string this token was created from\n\tthis.length = (matchedStr || \"\").length|0;\n\tthis.greedy = !!greedy;\n};\n\nToken.stringify = function(o, language, parent) {\n\tif (typeof o == 'string') {\n\t\treturn o;\n\t}\n\n\tif (_.util.type(o) === 'Array') {\n\t\treturn o.map(function(element) {\n\t\t\treturn Token.stringify(element, language, o);\n\t\t}).join('');\n\t}\n\n\tvar env = {\n\t\ttype: o.type,\n\t\tcontent: Token.stringify(o.content, language, parent),\n\t\ttag: 'span',\n\t\tclasses: ['token', o.type],\n\t\tattributes: {},\n\t\tlanguage: language,\n\t\tparent: parent\n\t};\n\n\tif (env.type == 'comment') {\n\t\tenv.attributes['spellcheck'] = 'true';\n\t}\n\n\tif (o.alias) {\n\t\tvar aliases = _.util.type(o.alias) === 'Array' ? o.alias : [o.alias];\n\t\tArray.prototype.push.apply(env.classes, aliases);\n\t}\n\n\t_.hooks.run('wrap', env);\n\n\tvar attributes = Object.keys(env.attributes).map(function(name) {\n\t\treturn name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n\t}).join(' ');\n\n\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + (attributes ? ' ' + attributes : '') + '>' + env.content + '</' + env.tag + '>';\n\n};\n\nif (!_self.document) {\n\tif (!_self.addEventListener) {\n\t\t// in Node.js\n\t\treturn _self.Prism;\n\t}\n \t// In worker\n\t_self.addEventListener('message', function(evt) {\n\t\tvar message = JSON.parse(evt.data),\n\t\t    lang = message.language,\n\t\t    code = message.code,\n\t\t    immediateClose = message.immediateClose;\n\n\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\n\t\tif (immediateClose) {\n\t\t\t_self.close();\n\t\t}\n\t}, false);\n\n\treturn _self.Prism;\n}\n\n//Get current script and highlight\nvar script = document.currentScript || [].slice.call(document.getElementsByTagName(\"script\")).pop();\n\nif (script) {\n\t_.filename = script.src;\n\n\tif (document.addEventListener && !script.hasAttribute('data-manual')) {\n\t\tif(document.readyState !== \"loading\") {\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(_.highlightAll);\n\t\t\t} else {\n\t\t\t\twindow.setTimeout(_.highlightAll, 16);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tdocument.addEventListener('DOMContentLoaded', _.highlightAll);\n\t\t}\n\t}\n}\n\nreturn _self.Prism;\n\n})();\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = Prism;\n}\n\n// hack for components to work correctly in node.js\nif (typeof global !== 'undefined') {\n\tglobal.Prism = Prism;\n}\n\n\n/* **********************************************\n     Begin prism-markup.js\n********************************************** */\n\nPrism.languages.markup = {\n\t'comment': /<!--[\\w\\W]*?-->/,\n\t'prolog': /<\\?[\\w\\W]+?\\?>/,\n\t'doctype': /<!DOCTYPE[\\w\\W]+?>/i,\n\t'cdata': /<!\\[CDATA\\[[\\w\\W]*?]]>/i,\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<]+(?:\\s+[^\\s>\\/=]+(?:=(?:(\"|')(?:\\\\\\1|\\\\?(?!\\1)[\\w\\W])*\\1|[^\\s'\">=]+))?)*\\s*\\/?>/i,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/i,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=(?:('|\")[\\w\\W]*?(\\1)|[^\\s>]+)/i,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /[=>\"']/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': /&#?[\\da-z]{1,8};/i\n};\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function(env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nPrism.languages.xml = Prism.languages.markup;\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\n\n/* **********************************************\n     Begin prism-css.js\n********************************************** */\n\nPrism.languages.css = {\n\t'comment': /\\/\\*[\\w\\W]*?\\*\\//,\n\t'atrule': {\n\t\tpattern: /@[\\w-]+?.*?(;|(?=\\s*\\{))/i,\n\t\tinside: {\n\t\t\t'rule': /@[\\w-]+/\n\t\t\t// See rest below\n\t\t}\n\t},\n\t'url': /url\\((?:([\"'])(\\\\(?:\\r\\n|[\\w\\W])|(?!\\1)[^\\\\\\r\\n])*\\1|.*?)\\)/i,\n\t'selector': /[^\\{\\}\\s][^\\{\\};]*?(?=\\s*\\{)/,\n\t'string': {\n\t\tpattern: /(\"|')(\\\\(?:\\r\\n|[\\w\\W])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'property': /(\\b|\\B)[\\w-]+(?=\\s*:)/i,\n\t'important': /\\B!important\\b/i,\n\t'function': /[-a-z0-9]+(?=\\()/i,\n\t'punctuation': /[(){};:]/\n};\n\nPrism.languages.css['atrule'].inside.rest = Prism.util.clone(Prism.languages.css);\n\nif (Prism.languages.markup) {\n\tPrism.languages.insertBefore('markup', 'tag', {\n\t\t'style': {\n\t\t\tpattern: /(<style[\\w\\W]*?>)[\\w\\W]*?(?=<\\/style>)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.css,\n\t\t\talias: 'language-css'\n\t\t}\n\t});\n\t\n\tPrism.languages.insertBefore('inside', 'attr-value', {\n\t\t'style-attr': {\n\t\t\tpattern: /\\s*style=(\"|').*?\\1/i,\n\t\t\tinside: {\n\t\t\t\t'attr-name': {\n\t\t\t\t\tpattern: /^\\s*style/i,\n\t\t\t\t\tinside: Prism.languages.markup.tag.inside\n\t\t\t\t},\n\t\t\t\t'punctuation': /^\\s*=\\s*['\"]|['\"]\\s*$/,\n\t\t\t\t'attr-value': {\n\t\t\t\t\tpattern: /.+/i,\n\t\t\t\t\tinside: Prism.languages.css\n\t\t\t\t}\n\t\t\t},\n\t\t\talias: 'language-css'\n\t\t}\n\t}, Prism.languages.markup.tag);\n}\n\n/* **********************************************\n     Begin prism-clike.js\n********************************************** */\n\nPrism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\w\\W]*?\\*\\//,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /((?:\\b(?:class|interface|extends|implements|trait|instanceof|new)\\s+)|(?:catch\\s+\\())[a-z0-9_\\.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\tpunctuation: /(\\.|\\\\)/\n\t\t}\n\t},\n\t'keyword': /\\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\\b/,\n\t'boolean': /\\b(true|false)\\b/,\n\t'function': /[a-z0-9_]+(?=\\()/i,\n\t'number': /\\b-?(?:0x[\\da-f]+|\\d*\\.?\\d+(?:e[+-]?\\d+)?)\\b/i,\n\t'operator': /--?|\\+\\+?|!=?=?|<=?|>=?|==?=?|&&?|\\|\\|?|\\?|\\*|\\/|~|\\^|%/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\n\n/* **********************************************\n     Begin prism-javascript.js\n********************************************** */\n\nPrism.languages.javascript = Prism.languages.extend('clike', {\n\t'keyword': /\\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)\\b/,\n\t'number': /\\b-?(0x[\\dA-Fa-f]+|0b[01]+|0o[0-7]+|\\d*\\.?\\d+([Ee][+-]?\\d+)?|NaN|Infinity)\\b/,\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*(?=\\()/i,\n\t'operator': /--?|\\+\\+?|!=?=?|<=?|>=?|==?=?|&&?|\\|\\|?|\\?|\\*\\*?|\\/|~|\\^|%|\\.{3}/\n});\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: /(^|[^/])\\/(?!\\/)(\\[.+?]|\\\\.|[^/\\\\\\r\\n])+\\/[gimyu]{0,5}(?=\\s*($|[\\r\\n,.;})]))/,\n\t\tlookbehind: true,\n\t\tgreedy: true\n\t}\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'template-string': {\n\t\tpattern: /`(?:\\\\\\\\|\\\\?[^\\\\])*?`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /\\$\\{[^}]+\\}/,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\$\\{|\\}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: Prism.languages.javascript\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t}\n});\n\nif (Prism.languages.markup) {\n\tPrism.languages.insertBefore('markup', 'tag', {\n\t\t'script': {\n\t\t\tpattern: /(<script[\\w\\W]*?>)[\\w\\W]*?(?=<\\/script>)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript,\n\t\t\talias: 'language-javascript'\n\t\t}\n\t});\n}\n\nPrism.languages.js = Prism.languages.javascript;\n\n/* **********************************************\n     Begin prism-file-highlight.js\n********************************************** */\n\n(function () {\n\tif (typeof self === 'undefined' || !self.Prism || !self.document || !document.querySelector) {\n\t\treturn;\n\t}\n\n\tself.Prism.fileHighlight = function() {\n\n\t\tvar Extensions = {\n\t\t\t'js': 'javascript',\n\t\t\t'py': 'python',\n\t\t\t'rb': 'ruby',\n\t\t\t'ps1': 'powershell',\n\t\t\t'psm1': 'powershell',\n\t\t\t'sh': 'bash',\n\t\t\t'bat': 'batch',\n\t\t\t'h': 'c',\n\t\t\t'tex': 'latex'\n\t\t};\n\n\t\tif(Array.prototype.forEach) { // Check to prevent error in IE8\n\t\t\tArray.prototype.slice.call(document.querySelectorAll('pre[data-src]')).forEach(function (pre) {\n\t\t\t\tvar src = pre.getAttribute('data-src');\n\n\t\t\t\tvar language, parent = pre;\n\t\t\t\tvar lang = /\\blang(?:uage)?-(?!\\*)(\\w+)\\b/i;\n\t\t\t\twhile (parent && !lang.test(parent.className)) {\n\t\t\t\t\tparent = parent.parentNode;\n\t\t\t\t}\n\n\t\t\t\tif (parent) {\n\t\t\t\t\tlanguage = (pre.className.match(lang) || [, ''])[1];\n\t\t\t\t}\n\n\t\t\t\tif (!language) {\n\t\t\t\t\tvar extension = (src.match(/\\.(\\w+)$/) || [, ''])[1];\n\t\t\t\t\tlanguage = Extensions[extension] || extension;\n\t\t\t\t}\n\n\t\t\t\tvar code = document.createElement('code');\n\t\t\t\tcode.className = 'language-' + language;\n\n\t\t\t\tpre.textContent = '';\n\n\t\t\t\tcode.textContent = 'Loading';\n\n\t\t\t\tpre.appendChild(code);\n\n\t\t\t\tvar xhr = new XMLHttpRequest();\n\n\t\t\t\txhr.open('GET', src, true);\n\n\t\t\t\txhr.onreadystatechange = function () {\n\t\t\t\t\tif (xhr.readyState == 4) {\n\n\t\t\t\t\t\tif (xhr.status < 400 && xhr.responseText) {\n\t\t\t\t\t\t\tcode.textContent = xhr.responseText;\n\n\t\t\t\t\t\t\tPrism.highlightElement(code);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (xhr.status >= 400) {\n\t\t\t\t\t\t\tcode.textContent = ' Error ' + xhr.status + ' while fetching file: ' + xhr.statusText;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tcode.textContent = ' Error: File does not exist or is empty';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\txhr.send(null);\n\t\t\t});\n\t\t}\n\n\t};\n\n\tdocument.addEventListener('DOMContentLoaded', self.Prism.fileHighlight);\n\n})();\n","Prism.languages.json = {\n    'property': /\"(?:\\\\.|[^|\"])*\"(?=\\s*:)/ig,\n    'string': /\"(?!:)(?:\\\\.|[^|\"])*\"(?!:)/g,\n    'number': /\\b-?(0x[\\dA-Fa-f]+|\\d*\\.?\\d+([Ee][+-]?\\d+)?)\\b/g,\n    'punctuation': /[{}[\\]);,]/g,\n    'operator': /:/g,\n    'boolean': /\\b(true|false)\\b/gi,\n    'null': /\\bnull\\b/gi\n};\n\nPrism.languages.jsonp = Prism.languages.json;\n","/* eslint-env browser */\n\nimport Domodule from 'domodule';\n\nimport 'codemirror/mode/javascript/javascript';\nimport 'codemirror/addon/edit/matchbrackets';\nimport CodeMirror from 'codemirror';\nimport Ajax from 'bequest';\nimport Prism from 'prismjs';\nimport 'prismjs/components/prism-json';\nconst textArea = document.getElementById('query'); // eslint-disable-line no-unused-vars\n\n\nclass QueryModule extends Domodule {\n  constructor(el) {\n    super(el);\n    this.setupDbs();\n    this.editor = this.setupEditor();\n  }\n\n  setupDbs() {\n    const dbSelect = this.els.databases;\n    Ajax.request('/api/databases', 'GET', null, (err, resp) => {\n      if (err) {\n        alert(err); // eslint-disable-line no-alert\n      }\n\n      if (resp.statusCode !== 200) {\n        alert('Bad Request Getting Databases'); // eslint-disable-line no-alert\n      }\n\n      if (resp.data.length > 0) {\n        resp.data.forEach((db) => {\n          dbSelect.insertAdjacentHTML('beforeend', `<option value='${db}'>${db}</option>`);\n        });\n      }\n    });\n  }\n\n  getCollections(el) {\n    const db = el.value;\n    const collSelect = this.els.collections;\n    collSelect.innerHTML = '<option>Collection</option>';\n    collSelect.disabled = true;\n    Ajax.request(`/api/databases/${db}/collections`, 'GET', null, (err, resp) => {\n      if (err) {\n        alert(err); // eslint-disable-line no-alert\n      }\n\n      if (resp.statusCode !== 200) {\n        alert('Error loading collections'); // eslint-disable-line no-alert\n      }\n\n      if (resp.data) {\n        resp.data.forEach((coll) => {\n          collSelect.insertAdjacentHTML('beforeend', `<option value='${coll}'>${coll}</option>`);\n        });\n        collSelect.disabled = false;\n      }\n    });\n  }\n\n  setupEditor() {\n    const editorEl = this.els.editor;\n    const editor = CodeMirror.fromTextArea(editorEl, {\n      mode: {\n        name: 'javascript',\n        json: true\n      },\n      theme: 'cobalt',\n      tabSize: 2,\n      indentWithTabs: false,\n      matchBrackets: true,\n      cursorScrollMargin: 10\n    });\n\n    return editor;\n  }\n\n  submitQuery() {\n    const data = {\n      query: this.editor.getValue(),\n      db: this.els.databases.value,\n      collection: this.els.collections.value\n    };\n\n    Ajax.request('/api/query', 'POST', data, (err, resp) => {\n      if (err) {\n        alert(err); // eslint-disable-line no-alert\n      }\n\n      if (resp.data) {\n        const respData = JSON.stringify(resp.data, null, 2);\n        const html = Prism.highlight(respData, Prism.languages.json);\n        this.els.response.innerHTML = `<pre class=\"language-json\">${html}</pre>`;\n      }\n    });\n  }\n\n  doQuery(el, event) {\n    event.preventDefault();\n    this.submitQuery();\n  }\n}\n\nDomodule.register('QueryModule', QueryModule);\n"],"names":["findParent","elem","parentNode","dataset","module","key","el","values","keys","forEach","data","match","RegExp","optionName","replace","isGlobal","toLowerCase","slice","window","aug","args","Array","prototype","call","arguments","org","shift","type","prop","propName","propValue","isArray","babelHelpers.typeof","findOne","selector","found","find","length","isWindow","obj","context","HTMLElement","NodeList","startElement","document","querySelectorAll","on","event","cb","capture","item","_domassistevents","addEventListener","SCROLLABLE_CONTAINER","getScrollableContainer","documentElement","scrollableContainer","scrollTop","body","ACTION_SELECTOR","DOMAssist","Domodule","log","els","options","defaults","attrObj","moduleName","setUps","boundActionRouter","actionRouter","bind","preInit","storeRef","setupActions","setupNamed","verifyRequired","postInit","required","Object","value","indexOf","Error","setupAction","action","parent","parentModule","actionEl","domoduleActionProcessed","parseAction","actionName","name","actionType","storeSetUp","currentTarget","actionData","named","domoduleNameProcessed","domoduleOwner","id","refs","moduleUid","uuid","option","dict","push","removeEventListener","msg","constructor","r","Math","random","v","c","toString","element","Node","cls","modules","instances","matched","foundModules","moduleEl","debug","localStorage","getItem","autoDiscover","discover","global","factory","this","userAgent","navigator","platform","gecko","test","ie_upto10","ie_11up","exec","edge","ie","ie_version","documentMode","webkit","qtwebkit","chrome","presto","safari","vendor","mac_geMountainLion","phantom","ios","mobile","mac","chromeOS","windows","presto_version","Number","flipCtrlCmd","captureRightClick","classTest","rmClass","node","current","className","after","index","removeChildren","e","count","childNodes","removeChild","firstChild","removeChildrenAndAdd","appendChild","elt","tag","content","style","createElement","cssText","createTextNode","i","range","createRange","start","end","endNode","setEnd","setStart","createTextRange","moveToElementText","collapse","moveEnd","moveStart","contains","child","nodeType","host","activeElt","activeElement","root","addClass","joinClasses","a","b","as","split","selectInput","select","selectionStart","selectionEnd","_e","f","apply","copyObj","target","overwrite","hasOwnProperty","countColumn","string","tabSize","startIndex","startValue","search","n","nextTab","Delayed","set","ms","setTimeout","array","scrollerGap","Pass","sel_dontScroll","scroll","sel_mouse","origin","sel_move","findColumn","goal","pos","col","skipped","min","spaceStrs","spaceStr","lst","arr","map","out","insertSorted","score","priority","splice","nothing","createObj","base","props","inst","create","nonASCIISingleCaseWordChar","isWordCharBasic","ch","toUpperCase","isWordChar","helper","source","isEmpty","extendingChars","isExtendingChar","charCodeAt","skipExtendingChars","str","dir","charAt","findFirst","pred","from","to","abs","mid","floor","Display","place","doc","input","d","scrollbarFiller","setAttribute","gutterFiller","lineDiv","selectionDiv","cursorDiv","measure","lineMeasure","lineSpace","mover","sizer","sizerWidth","heightForcer","gutters","lineGutter","scroller","wrapper","zIndex","paddingRight","draggable","viewFrom","viewTo","first","reportedViewFrom","reportedViewTo","view","renderedView","externalMeasured","viewOffset","lastWrapHeight","lastWrapWidth","updateLineNumbers","nativeBarWidth","barHeight","barWidth","scrollbarsClipped","lineNumWidth","lineNumInnerWidth","lineNumChars","alignWidgets","cachedCharWidth","cachedTextHeight","cachedPaddingH","maxLine","maxLineLength","maxLineChanged","wheelDX","wheelDY","wheelStartX","wheelStartY","selForContextMenu","activeTouch","init","getLine","size","chunk","lines","children","sz","chunkSize","getBetween","line","iter","text","getLines","updateLineHeight","height","diff","lineNo","cur","no","lineAtHeight","h","i$1","outer","lh","isLine","l","lineNumberFor","String","lineNumberFormatter","firstLineNumber","Pos","sticky","cmp","equalCursorPos","copyPos","x","maxPos","minPos","clipLine","max","clipPos","last","clipToLen","linelen","clipPosArray","sawReadOnlySpans","sawCollapsedSpans","seeReadOnlySpans","seeCollapsedSpans","MarkedSpan","marker","getMarkedSpanFor","spans","span","removeMarkedSpan","addMarkedSpan","markedSpans","concat","attachLine","markedSpansBefore","old","startCh","isInsert","nw","startsBefore","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","endCh","stretchSpansOverChange","change","full","oldFirst","oldLast","sameLine","offset","span$1","found$1","clearEmptySpans","newMarkers","gap","gapMarkers","i$2","i$3","clearWhenEmpty","removeReadOnlyRanges","markers","mark","readOnly","parts","mk","m","j","p","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","conflictingCollapsedRange","visualLine","merged","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lastLine","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","len","findMaxLine","cm","display","iterateBidiSections","order","part","level","bidiOther","getBidiPartAt","bidiOrdering","lowTypes","arabicTypes","charType","code","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","outerType","BidiSpan","types","prev","type$1","prev$1","type$2","i$4","type$3","i$5","cur$1","type$4","i$6","end$1","before","replace$1","j$1","i$7","at","j$2","nstart","unshift","getOrder","moveCharLogically","moveLogically","endOfLine","visually","moveInStorageOrder","prep","prepareMeasureForLine","targetTop","measureCharPrepared","top","moveVisually","bidi","partPos","mv","getWrappedLineExtent","lineWrapping","begin","wrappedLineExtentChar","wrappedLineExtent","searchInVisualLine","getRes","res","nextCh","noHandlers","emitter","attachEvent","_handlers","getHandlers","off","detachEvent","signal","handlers","signalDOMEvent","override","preventDefault","defaultPrevented","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","e_preventDefault","returnValue","e_stopPropagation","stopPropagation","cancelBubble","e_stop","e_target","srcElement","e_button","which","button","ctrlKey","dragAndDrop","div","zwspSupported","zeroWidthElement","offsetHeight","offsetWidth","badBidiRects","hasBadBidiRects","txt","r0","getBoundingClientRect","r1","left","right","splitLinesAuto","result","nl","rt","hasSelection","getSelection","te","ownerDocument","selection","parentElement","compareEndPoints","hasCopyEvent","oncopy","badZoomedRects","hasBadZoomedRects","normal","fromRange","modes","mimeModes","defineMode","mode","dependencies","defineMIME","mime","spec","resolveMode","getMode","mfactory","modeObj","modeExtensions","exts","helperType","modeProps","prop$1","extendMode","properties","copyState","state","nstate","val","innerMode","info","startState","a1","a2","StringStream","lastColumnPos","lastColumnValue","lineStart","eol","sol","peek","undefined","next","eat","ok","eatWhile","eatSpace","this$1","skipToEnd","skipTo","backUp","column","indentation","pattern","consume","caseInsensitive","cased","substr","hideFirstChars","inner","highlightLine","forceToEnd","st","modeGen","lineClasses","loop","o","overlay","overlays","i_end","opaque","styles","classes","bgClass","textClass","getLineStyles","updateFrontier","getStateBefore","maxHighlightLength","stateAfter","styleClasses","frontier","precise","findStartLine","save","processLine","startAt","stream","callBlankLine","blankLine","readToken","token","takeToken","asArray","getObj","copy","tokens","extractLineClasses","output","lineClass","runMode","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","indented","Line","estimateHeight","updateLine","estHeight","cleanUpLine","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","cache","buildLineContent","lineView","builder","pre","getOption","rest","addToken","buildToken","buildTokenBadBidi","allowFrontierUpdate","maps","caches","lastChild","querySelector","defaultSpecialCharPlaceholder","title","startStyle","endStyle","css","displayText","splitSpaces","trailingSpace","special","specialChars","mustWrap","createDocumentFragment","lastIndex","txt$1","tabWidth","specialCharPlaceholder","fullStyle","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","needsContentAttribute","setUneditable","insertLineContent","allText","nextChange","spanStyle","spanEndStyle","spanStartStyle","Infinity","foundBookmarks","endStyles","upto","tokenText","LineView","hidden","buildViewArray","nextPos","operationGroup","pushOperation","op","ops","ownsGroup","fireCallbacksForOps","group","callbacks","delayedCallbacks","cursorActivityCalled","finishOperation","endCb","orphanDelayedCallbacks","signalLater","list","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","ensureLineWrapped","replaceChild","updateLineBackground","background","wrap","insertBefore","getLineContent","ext","built","updateLineText","updateLineClasses","wrapClass","updateLineGutter","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","lineNumbers","wrap$1","gutterWrap","lineNumber","gutterLeft","k","gutterWidth","updateLineWidgets","alignable","nextSibling","buildLineElement","insertLineWidgets","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","above","positionLineWidget","noHScroll","width","wrapperWidth","coverGutter","paddingLeft","position","marginLeft","widgetHeight","parentStyle","clientWidth","eventInWidget","getAttribute","paddingTop","offsetTop","paddingVert","paddingH","getComputedStyle","currentStyle","parseInt","isNaN","scrollGap","displayWidth","displayHeight","clientHeight","ensureLineHeights","rect","wrapping","curWidth","heights","rects","getClientRects","bottom","mapFromLineView","updateExternalMeasurement","measureChar","bias","findViewForLine","findViewIndex","getDimensions","forceUpdate","prepared","varHeight","hasHeights","measureCharInner","bogus","rtop","rbottom","nullRect","nodeAndOffsetInLineMap","mStart","mEnd","coverStart","coverEnd","getUsefulRect","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","screen","logicalXDPI","deviceXDPI","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","pageScrollX","pageXOffset","scrollLeft","pageScrollY","pageYOffset","intoCoordSystem","includeWidgets","yOff","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","get","getBidi","invert","other","estimateCoords","PosWithInfo","outside","xRel","coordsChar","y","coordsCharInner","mergedPos","assign","beginLeft","prevDiff","prevPos","box","measureText","textHeight","anchor","clientLeft","offsetLeft","compensateForHScroll","th","perLine","widgetsHeight","ceil","estimateLineHeights","est","posFromMouse","liberal","forRect","space","clientX","clientY","colDiff","round","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","sel","ranges","primIndex","empty","showCursorWhenSelecting","head","drawSelectionCursor","cursor","cursorHeight","otherCursor","drawSelectionRange","fragment","padding","leftSide","rightSide","add","drawForLine","fromArg","toArg","lineLen","leftPos","rightPos","tmp","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","blinker","visibility","cursorBlinkRate","setInterval","ensureFocus","focus","onFocus","delayBlurEvent","delayingBlurEvent","reset","receivedFocus","onBlur","alignHorizontally","comp","gutterW","align","maybeUpdateLineNumberWidth","innerW","updateHeightsInViewport","prevBottom","updateWidgetHeight","visibleLines","viewport","ensure","ensureFrom","ensureTo","setScrollTop","scrollbars","setScrollLeft","isScroller","scrollWidth","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","detail","axis","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","delta","onScrollWheel","canScrollX","canScrollY","scrollHeight","currentWheelTarget","pixels","movedX","movedY","sample","measureForScrollbars","docH","NativeScrollbars","vert","horiz","checkedZeroWidth","minHeight","minWidth","update","needsH","needsV","sWidth","totalHeight","viewHeight","barLeft","totalWidth","viewWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","w","pointerEvents","bar","delay","maybeDisable","elementFromPoint","clear","NullScrollbars","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","sizes","paddingBottom","borderBottom","coverGutterNextToScrollbar","scrollbarModel","initScrollbars","scrollbarStyle","maybeScrollWindow","doScroll","innerHeight","scrollNode","scrollIntoView","scrollPosIntoView","margin","limit","changed","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","x1","y1","x2","y2","snapMargin","screentop","docBottom","atTop","atBottom","newTop","screenleft","screenw","tooWide","addToScrollPos","ensureCursorVisible","getCursor","scrollToPos","cursorScrollMargin","isCursor","resolveScrollToPos","sPos","scrollTo","nextOpId","startOperation","endOperation","endOperations","endOperation_R1","updateMaxLine","mustUpdate","viewChanged","DisplayUpdate","endOperation_W1","updatedDisplay","updateDisplayIfNeeded","endOperation_R2","barMeasure","adjustWidthTo","maxScrollLeft","selectionChanged","preparedSelection","endOperation_W2","takeFocus","hasFocus","updateInput","typing","endOperation_finish","forceScroll","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","changeObjs","finish","runInOp","operation","methodOp","docMethodOp","regChange","lendiff","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","resetView","oldN","newN","adjustView","countDirtyView","dirty","startWorker","time","highlight","highlightWorker","Date","workTime","changedLines","oldStyles","tooLong","highlighted","oldCls","newCls","ischange","workDelay","force","visible","editorIsHidden","wrapperHeight","oldDisplayWidth","events","maybeClipScrollbars","marginBottom","borderRightWidth","viewportMargin","different","toUpdate","postUpdateDisplay","updateDisplaySimple","patchDisplay","updateNumbersFrom","container","rm","updateNumber","updateGutterSpace","setDocumentHeight","docHeight","updateGutters","specs","gElt","setGuttersForLineNumbers","Selection","equals","here","there","deepCopy","Range","somethingSelected","normalizeSelection","prim","sort","inv","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","spansFor","linesFor","firstLine","lastText","lastSpans","nlines","insert","remove","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","History","startGen","done","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","pop","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","history","historyEventDelay","selectionEventCanBeMerged","addSelectionToHistory","clearRedo","pushSelectionToHistory","dest","existing","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","newChanges","extendRange","extend","posBefore","extendSelection","extendSelections","heads","newSel","replaceOneSelection","setSimpleSelection","filterSelectionChange","setSelectionReplaceHistory","setSelection","NaN","setSelectionNoUndo","skipAtomicInSelection","setSelectionInner","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","rebased","makeChangeFromHistory","allowSelectionOnly","antiChanges","filter","returned","shiftDoc","distance","makeChangeSingleDoc","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","replaceRange","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","copied","rebaseHist","changeLine","handle","changeType","LeafChunk","removeInner","insertInner","iterN","BranchChunk","oldHeight","remaining","leaf","maybeSpill","me","spilled","sibling","myIndex","used","LineWidget","opt","oldH","adjustScrollWhenAboveVisible","addLineWidget","insertAt","aboveVisible","nextMarkerId","TextMarker","withOp","visual","side","dHeight","markText","markTextShared","replacedWith","addToHistory","curLine","clearOnEnter","clearHistory","SharedTextMarker","cloneNode","isParent","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","nextDocId","Doc","lineSep","cleanGeneration","join","lineSeparator","getLineHandle","dup","replaceSelections","undo","redo","changeGeneration","forceSplit","gen","histData","gutterID","where","realOpts","sepSize","copyHistory","setHistory","getHistory","CodeMirror","link","unlinkDoc","splitIds","eachLine","lastDrop","onDrop","files","dataTransfer","isReadOnly","FileReader","File","read","loadFile","file","allowDropFileTypes","reader","onload","readAsText","draggingText","text$1","getData","selected","listSelections","replaceSelection","onDragStart","setData","effectAllowed","setDragImage","img","src","_top","onDragOver","frag","dragCursor","clearDragCursor","forEachCodeMirror","getElementsByClassName","byClass","globalsRegistered","ensureGlobalHandlers","registerGlobalHandlers","resizeTimer","onResize","setSize","keyNames","fromCharCode","keyMap","basic","pcDefault","emacsy","macDefault","normalizeKeyName","alt","ctrl","cmd","mod","normalizeKeyMap","keymap","keyname","lookupKey","getKeyMap","fallthrough","isModifierKey","keyCode","keyName","noShift","altGraphKey","altKey","metaKey","shiftKey","deleteNearSelection","compute","kill","toKill","replaced","commands","undoSelection","redoSelection","extendSelectionsBy","lineStartSmart","lineEnd","moveV","moveH","deleteH","indentSelection","spaces","execCommand","setSelections","sels","indentLine","toggleOverwrite","firstNonWS","inWS","doHandleBinding","bound","dropShift","ensurePolled","prevShift","lookupKeyForEditor","keyMaps","extraKeys","stopSeq","dispatchKey","seq","keySeq","handleKeyBinding","motion","handleCharBinding","lastStoppedKey","onKeyDown","handled","showCrossHair","up","onKeyUp","onKeyPress","charCode","onMouseDown","supportsTouch","clickInGutter","selectingText","lastMiddleDown","lastClick","lastDoubleClick","leftButtonDown","now","modifier","contained","dragDrop","leftButtonStartDrag","startTime","dragEnd","e2","leftButtonSelect","addNew","ourRange","ourIndex","startSel","word","findWordAt","lastPos","extendTo","startCol","posCol","oldRange","ranges$1","editorSize","counter","curCount","move","gutterEvent","prevent","mX","mY","lineBox","g","onContextMenu","contextMenuInGutter","themeChanged","theme","Init","optionHandlers","defineOptions","deflt","notOnInit","defineOption","setValue","newBreaks","refresh","getInputField","spellcheck","detach","attach","wrappingChanged","guttersChanged","integer","blur","disabled","readOnlyChanged","dragDropChanged","resetPosition","getField","tabIndex","wasOn","funcs","dragFunctions","toggle","enter","over","leave","drop","inputStyles","inputStyle","cutIncoming","autofocus","finishInit","initHooks","textRendering","registerEventHandlers","touchFinished","prevTouch","finishTouch","isMouseLikeTouchEvent","touches","touch","radiusX","radiusY","farAway","moved","pageX","pageY","inp","defineInitHook","how","aggressive","indent","curSpace","curSpaceString","indentUnit","indentString","indentWithTabs","pos$1","lastCopied","setLastCopied","newLastCopied","applyTextInput","inserted","deleted","paste","pasteIncoming","textLines","multiPaste","lineWise","changeEvent","handlePaste","pasted","clipboardData","disableInput","triggerElectric","electricChars","smartIndent","getModeAt","electricInput","copyableRanges","lineRange","getRange","disableBrowserMagic","field","hiddenTextarea","border","addEditorMethods","helpers","modeSpec","newRanges","getTokenAt","getHelpers","help","_global","vspace","hspace","amount","unit","findPosH","hitSide","rtlMoveVisually","goalColumn","findPosV","goals","headPos","getHelper","startChar","check","interpret","registerHelper","registerGlobalHelper","predicate","origDir","findNextLine","moveOnce","boundToLine","sawType","pageSize","moveAmount","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","pollContent","readFromDOMSoon","forceCompositionEnd","onCopyCut","getSelections","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","showMultipleSelections","curAnchor","domToPos","anchorNode","anchorOffset","curFocus","focusNode","focusOffset","bad","posToDOM","rangeCount","getRangeAt","rng","removeAllRanges","addRange","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","pollSelection","poll","pollInterval","fromIndex","fromNode","toIndex","toNode","previousSibling","newText","domTextBetween","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","contentEditable","badPos","closing","recognizeMarker","walk","cmText","textContent","markerID","nodeName","nodeValue","lineNode","locateNodeInLineView","textNode","topNode","curNode","dist","dist$1","TextareaInput","prevInput","pollingFast","inaccurateSelection","textarea","fastPoll","prepareCopyCut","moveInputWithCursor","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","minimal","slowPoll","missed","same","resetSelectionOnContextMenu","oldCSS","oldWrapperCSS","wrapperBox","oldScrollY","scrollY","detectingSelectAll","prepareSelectAllHack","extval","rehide","mouseup","fromTextArea","tabindex","placeholder","getValue","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","getWrapperElement","addLegacyProps","cmpPos","dontDelegate","method","defineExtension","func","defineDocExtension","version","require$$0","expressionAllowed","lastType","config","parserConfig","statementIndent","jsonldMode","jsonld","jsonMode","json","isTS","typescript","wordRE","wordCharacters","keywords","kw","A","B","C","operator","atom","jsKeywords","tsKeywords","attr","isOperatorChar","isJsonldKeyword","readRegexp","escaped","inSet","ret","tp","cont","tokenBase","tokenize","tokenString","tokenComment","tokenQuasi","lexical","known","propertyIsEnumerable","quote","maybeEnd","brackets","findFatArrow","fatArrowAt","arrow","depth","sawSomething","bracket","atomicTypes","JSLexical","inScope","varname","localVars","cx","vars","parseJS","cc","marked","combinator","expression","statement","lex","pass","register","inList","globalVars","defaultVars","pushcontext","popcontext","pushlex","poplex","expect","wanted","exp","vardef","parenExpr","block","maybeelse","functiondef","forspec","maybelabel","funarg","afterExport","afterImport","typeexpr","expressionInner","expressionNoComma","noComma","arrowBodyNoComma","arrowBody","commasep","maybeop","maybeoperatorNoComma","maybeoperatorComma","classExpression","maybeexpressionNoComma","maybeexpression","arrayLiteral","contCommasep","objprop","quasi","maybeTarget","expr","property","continueQuasi","targetNoComma","_","getterSetter","afterprop","what","sep","proceed","maybetype","afterType","typeprop","typearg","maybeReturnType","maybeAssign","vardefCont","proppattern","_type","forspec1","forspec2","formaybeinof","forspec3","classNameAfter","classBody","classfield","maybeFrom","exportField","importSpec","maybeMoreImports","maybeAs","isContinuedStatement","textAfter","basecolumn","firstChar","doubleIndentSwitch","ie_lt8","matching","findMatchingBracket","strict","getTokenTypeAt","scanForBracket","forward","maxScanLen","maxScanLineLength","maxScanLines","stack","re","bracketRegex","matchBrackets","autoclear","maxHighlightLen","maxHighlightLineLength","marks","currentlyHighlighted","doMatchBrackets","defineProperty","exports","_createClass","defineProperties","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_classCallCheck","instance","TypeError","Ajax","request","url","_len","_key","headers","callback","useMethod","validMethods","err","xhr","XMLHttpRequest","open","onreadystatechange","readyState","status","contentType","getResponseHeader","parsedResponse","responseText","JSON","parse","header","setRequestHeader","send","stringify","_self","WorkerGlobalScope","self","Prism","lang","uniqueId","Token","util","encode","alias","clone","redef","languages","inside","grammar","newToken","DFS","visited","objId","async","env","hooks","run","elements","highlightElement","language","Worker","worker","filename","onmessage","evt","highlightedCode","innerHTML","postMessage","strarr","patterns","lookbehind","greedy","lookbehindLength","flags","tokenloop","delNum","wrapped","all","matchedStr","attributes","aliases","message","immediateClose","close","script","currentScript","getElementsByTagName","hasAttribute","requestAnimationFrame","highlightAll","markup","xml","html","mathml","svg","clike","javascript","js","fileHighlight","Extensions","extension","statusText","jsonp","textArea","getElementById","QueryModule","setupDbs","editor","setupEditor","dbSelect","databases","resp","statusCode","db","insertAdjacentHTML","collSelect","collections","coll","editorEl","respData","response","submitQuery"],"mappings":"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"}